(function(e){function t(t){for(var n,s,o=t[0],c=t[1],l=t[2],d=0,p=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&p.push(i[s][0]),i[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(n=!1)}n&&(r.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},i={app:0},r=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"03d5":function(e,t,a){"use strict";var n=a("b775"),i=a("78a3");t["a"]={get:function(e){return n["a"].get(i["g"].GET_TABLE_INFO+"/"+e)},getAll:function(e){return n["a"].get(i["g"].GET_ALL,{params:e})},add:function(e){return n["a"].post(i["g"].ADD,e)},edit:function(e){return n["a"].post(i["g"].EDIT,e)},delete:function(e){return n["a"].post(i["g"].DELETE+"/"+e)}}},"03fd":function(e,t,a){},"062f":function(e,t,a){},"07a4":function(e,t,a){"use strict";a("96cf");var n=a("3b8d"),i=a("2b0e"),r=a("2f62"),s={token:null,username:null},o={SET_AUTH_TOKEN:function(e,t){e.token=t}},c={SAVE_AUTH_TOKEN:function(e,t){e.commit("SET_AUTH_TOKEN",t)}},l={token:function(e){return e.token},username:function(e){return e.username}},u={state:s,mutations:o,actions:c,getters:l},d=a("ce96"),p={sumData:{},infoData:null,data:{},paging:{},activeTabId:null,activeService:null,isVisible:!1,loading:!1,isEditData:!1,editDataGid:0},f={SET_DATATABLE:function(e,t){e.data=t},SET_DATATABLE_TABS:function(e,t){e.tabs=t},SET_DATATABLE_ACTIVE_TAB_ID:function(e,t){e.activeTabId=t},SET_DATATABLE_ACTIVE_SERVICE:function(e,t){e.activeService=t},SET_IS_EDIT_DATA:function(e,t){e.isEditData=t},SET_EDIT_DATA_GID:function(e,t){e.editDataGid=t},SET_DATATABLE_CHECKED_COLUMNS:function(e,t){t.id;var a=t.value;e.data.checkedColumnsData=a},SET_DATATABLE_CHECKED_COLUMNS_DATA:function(e,t){t.id;var a=t.value;e.data.checkedColumns=a},SET_DATATABLE_FILTER_VALUES:function(e,t){t.id;var a=t.value;e.data.filterValues=a},SET_DATATABLE_VISIBLE:function(e,t){e.isVisible=t},SET_DATATABLE_LOADING:function(e,t){e.loading=t},SET_DATATABLE_PAGING:function(e,t){e.paging=t},SET_SUM_DATA:function(e,t){e.sumData=t},SET_INFO_DATA:function(e,t){e.infoData=t}},m={SAVE_DATATABLE:function(e,t){e.commit("SET_DATATABLE",t)},saveIsEditData:function(e,t){e.commit("SET_IS_EDIT_DATA",t)},saveEditDataGid:function(e,t){e.commit("SET_EDIT_DATA_GID",t)},SAVE_DATATABLE_ACTIVE_TAB_ID:function(e,t){e.commit("SET_DATATABLE_ACTIVE_TAB_ID",t)},saveTableActiveService:function(e,t){var a=null,n=d["h"].isBunch(t);a=n?t.layers[0].id:t.id,e.commit("SET_DATATABLE_ACTIVE_SERVICE",t),e.commit("SET_DATATABLE_ACTIVE_TAB_ID",a)},SAVE_DATATABLE_CHECKED_COLUMNS:function(e,t){var a=t.id,n=t.value;e.commit("SET_DATATABLE_CHECKED_COLUMNS",{id:a,value:n})},SAVE_DATATABLE_CHECKED_COLUMNS_DATA:function(e,t){var a=t.id,n=t.value;e.commit("SET_DATATABLE_CHECKED_COLUMNS_DATA",{id:a,value:n})},SAVE_DATATABLE_FILTER_VALUES:function(e,t){var a=t.id,n=t.value;e.commit("SET_DATATABLE_FILTER_VALUES",{id:a,value:n})},SAVE_DATATABLE_VISIBLE:function(e,t){e.commit("SET_DATATABLE_VISIBLE",t)},SAVE_DATATABLE_LOADING:function(e,t){e.commit("SET_DATATABLE_LOADING",t)},saveDataTablePaging:function(e,t){e.commit("SET_DATATABLE_PAGING",t)},RESET_DATATABLE:function(e){e.dispatch("SAVE_DATATABLE",[]),e.dispatch("SAVE_DATATABLE_TABS",[])},saveSumData:function(e,t){e.commit("SET_SUM_DATA",t)},saveInfoData:function(e,t){e.commit("SET_INFO_DATA",t)}},b={dataTableLoading:function(e){return e.loading},isEditData:function(e){return e.isEditData},dataTableVisibleStatus:function(e){return e.isVisible},tableData:function(e){return e.data},tablePaging:function(e){return e.paging},sumData:function(e){return e.sumData},infoData:function(e){return e.infoData},editDataGid:function(e){return e.editDataGid},tableActiveService:function(e){return e.activeService}},v={state:p,mutations:f,actions:m,getters:b},h={defaultFillColor:"#FFFFFF00",defaultBorderColor:"#F44336FF",shapeFillColor:{hex8:"var(--transparent)",rgba:{r:255,g:255,b:255,a:1}},shapeBorderColor:{hex8:"#000000",rgba:{r:255,g:255,b:255,a:1}},colorPicker:{visibility:!1,layer:null,borderTab:!0},activeColorPickerId:null,layerColorOrderList:[]},g={colorPicker:function(e){return e.colorPicker},defaultFillColor:function(e){return e.defaultFillColor},defaultBorderColor:function(e){return e.defaultBorderColor},activeColorPickerId:function(e){return e.activeColorPickerId},layerColorOrderList:function(e){return e.layerColorOrderList}},y={SET_COLORPICKER:function(e,t){e.colorPicker=t},SET_COLORPICKER_BORDER_TAB:function(e,t){e.colorPicker.borderTab=t},SET_COLORPICKER_LAYER:function(e,t){e.colorPicker.layer=t},SET_COLORPICKER_VISIBILITY:function(e,t){e.colorPicker.visibility=t},SET_COLORPICKER_FILLCOLOR:function(e,t){e.fillColor=t},SET_COLORPICKER_BORDERCOLOR:function(e,t){e.borderColor=t},SET_COLORPICKER_SHAPEBORDERCOLOR:function(e,t){e.shapeBorderColor=t},SET_COLORPICKER_SHAPEFILLCOLOR:function(e,t){e.shapeFillColor=t},SET_COLORPICKER_DYNAMICCOLORS:function(e,t){e.activeDynamicLayersColorsGetter=t},SET_ACTIVE_COLOR_PICKER_ID:function(e,t){e.activeColorPickerId=t},SET_LAYER_COLOR_ORDER_LIST:function(e,t){e.layerColorOrderList=t}},C={SAVE_COLORPICKER:function(e,t){e.commit("SET_COLORPICKER",t)},SAVE_COLORPICKER_BORDER_TAB:function(e,t){e.commit("SET_COLORPICKER_BORDER_TAB",t)},SAVE_COLORPICKER_VISIBILITY:function(e,t){e.commit("SET_COLORPICKER_VISIBILITY",t)},SAVE_COLORPICKER_LAYER:function(e,t){e.commit("SET_COLORPICKER_LAYER",t)},SAVE_COLORPICKER_FILLCOLOR:function(e,t){e.commit("SET_COLORPICKER_FILLCOLOR",t)},SAVE_COLORPICKER_BORDERCOLOR:function(e,t){e.commit("SET_COLORPICKER_BORDERCOLOR",t)},SAVE_COLORPICKER_SHAPEFILLCOLOR:function(e,t){e.commit("SET_COLORPICKER_SHAPEFILLCOLOR",t)},SAVE_COLORPICKER_SHAPEBORDERCOLOR:function(e,t){e.commit("SET_COLORPICKER_SHAPEBORDERCOLOR",t)},SAVE_ACTIVE_COLOR_PICKER_ID:function(e,t){e.commit("SET_ACTIVE_COLOR_PICKER_ID",t)},SAVE_LAYER_COLOR_ORDER_LIST:function(e,t){e.commit("SET_LAYER_COLOR_ORDER_LIST",t)}},_={state:h,mutations:y,actions:C,getters:g},O={faq:{data:[]},releaseNotes:{data:[]}},E={SET_FAQ_DATA:function(e,t){e.faq.data=t},SET_RELEASE_NOTES_DATA:function(e,t){e.releaseNotes.data=t}},S={state:O,mutations:E},T=(a("8e6e"),a("ac6a"),a("456d"),a("bd86"));function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){Object(T["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var k={issueList:{open:[],closed:[]},issueCount:{open:null,closed:null},activeTab:1,activeCategoryId:0,openIssue:null,categories:[]},I={SET_OPEN_ISSUES:function(e,t){e.issueList=L({},e.issueList,{open:t})},SET_CLOSED_ISSUES:function(e,t){e.issueList=L({},e.issueList,{closed:t})},SET_ISSUE_COUNT:function(e,t){e.issueCount=t},SET_OPEN_ISSUE:function(e,t){e.openIssue=t},SET_CATEGORIES:function(e,t){e.categories=t},SET_ACTIVE_TAB:function(e,t){e.activeTab=t},SET_ACTIVE_CATEGORY_ID:function(e,t){e.activeCategoryId=t}},A={state:k,mutations:I},D={dynamicLayerList:[],baseLayerList:[],bunchLayerList:[],favoriteBaseLayerIds:[],favoriteDynamicLayerIds:[],defaultBaseLayerIds:[],defaultDynamicLayerIds:[],focusedPolygonVector:null},x={SET_FOCUSED_POLYGON_VECTOR:function(e,t){e.focusedPolygonVector=t},SET_DYNAMIC_LAYER_LIST:function(e,t){e.dynamicLayerList=t},SET_BASE_LAYER_LIST:function(e,t){e.baseLayerList=t},SET_BUNCH_LAYER_LIST:function(e,t){e.bunchLayerList=t},SET_FAVORITE_BASE_LAYER_IDS:function(e,t){e.favoriteBaseLayerIds=t},SET_FAVORITE_DYNAMIC_LAYER_IDS:function(e,t){e.favoriteDynamicLayerIds=t},SET_DEFAULT_DYNAMIC_LAYER_IDS:function(e,t){e.defaultDynamicLayerIds=t},SET_DEFAULT_BASE_LAYER_IDS:function(e,t){e.defaultBaseLayerIds=t}},j={saveFocusePolygonVector:function(e,t){e.commit("SET_FOCUSED_POLYGON_VECTOR",t)},saveDynamicLayerList:function(e,t){e.commit("SET_DYNAMIC_LAYER_LIST",t)},saveBaseLayerList:function(e,t){e.commit("SET_BASE_LAYER_LIST",t)},saveBunchLayerList:function(e,t){e.commit("SET_BUNCH_LAYER_LIST",t)},saveFavoriteDyanmicLayerIds:function(e,t){e.commit("SET_FAVORITE_DYNAMIC_LAYER_IDS",t)},saveFavoriteBaseLayerIds:function(e,t){e.commit("SET_FAVORITE_BASE_LAYER_IDS",t)},saveDefaultDynamicLayerIds:function(e,t){e.commit("SET_DEFAULT_DYNAMIC_LAYER_IDS",t)},saveDefaultBaseLayerIds:function(e,t){e.commit("SET_DEFAULT_BASE_LAYER_IDS",t)}},P={dynamicLayerList:function(e){return e.dynamicLayerList},baseLayerList:function(e){return e.baseLayerList},bunchLayerList:function(e){return e.bunchLayerList},favoriteBaseLayerIds:function(e){return e.favoriteBaseLayerIds},favoriteDynamicLayerIds:function(e){return e.favoriteDynamicLayerIds},defaultDynamicLayerIds:function(e){return e.defaultDynamicLayerIds},defaultBaseLayerIds:function(e){return e.defaultBaseLayerIds}},M={state:D,mutations:x,actions:j,getters:P},R={isSumFilter:!1,sumFilterColumn:"",isRequiredServiceRefresh:!1},B={SET_IS_SUM_FILTER:function(e,t){e.isSumFilter=t},SET_SUM_FILTER_COLUMN:function(e,t){e.sumFilterColumn=t},SET_IS_REQUIRED_SERVICE_REFRESH:function(e,t){e.isRequiredServiceRefresh=t}},N={saveIsSumFilter:function(e,t){e.commit("SET_IS_SUM_FILTER",t)},saveSumFilterColumn:function(e,t){e.commit("SET_SUM_FILTER_COLUMN",t)},saveIsRequiredServiceRefreshStatus:function(e,t){e.commit("SET_IS_REQUIRED_SERVICE_REFRESH",t)}},F={isSumFilter:function(e){return e.isSumFilter},sumFilterColumn:function(e){return e.sumFilterColumn},isRequiredServiceRefresh:function(e){return e.isRequiredServiceRefresh}},V={state:R,mutations:B,actions:N,getters:F},G={mapLayer:null,graticuleLayer:null,selectionLayer:null,selectedFeatureId:0,draw:null,drawSource:null,sketch:null,clickedCoordinate:[],clickedPixel:[]},H={SET_MAP:function(e,t){e.mapLayer=t},SET_GRATICULE:function(e,t){e.graticuleLayer=t},SET_DRAW:function(e,t){e.draw=t},SET_DRAW_SOURCE:function(e,t){e.drawSource=t},SET_SELECTION_LAYER:function(e,t){e.selectionLayer=t},SET_SELECTED_FEATURE_ID:function(e,t){e.selectedFeatureId=t},SET_SKETCH:function(e,t){e.sketch=t},SET_CLICKED_COORDINATE:function(e,t){e.clickedCoordinate=t},SET_CLICKED_PIXEL:function(e,t){e.clickedPixel=t}},U={saveMap:function(e,t){e.commit("SET_MAP",t)},saveGraticule:function(e,t){e.commit("SET_GRATICULE",t)},saveDraw:function(e,t){e.commit("SET_DRAW",t)},saveDrawSource:function(e,t){e.commit("SET_DRAW_SOURCE",t)},saveSelectionLayer:function(e,t){e.commit("SET_SELECTION_LAYER",t)},saveSelectedFeatureId:function(e,t){e.commit("SET_SELECTED_FEATURE_ID",t)},saveSketch:function(e,t){e.commit("SET_SKETCH",t)},saveClickedCoordinate:function(e,t){e.commit("SET_CLICKED_COORDINATE",t)},saveClickedPixel:function(e,t){e.commit("SET_CLICKED_PIXEL",t)}},z={mapLayer:function(e){return e.mapLayer},graticuleLayer:function(e){return e.graticuleLayer},draw:function(e){return e.draw},drawSource:function(e){return e.drawSource},selectionLayer:function(e){return e.selectionLayer},selectedFeatureId:function(e){return e.selectedFeatureId},sketch:function(e){return e.sketch},clickedCoordinate:function(e){return e.clickedCoordinate},clickedPixel:function(e){return e.clickedPixel}},$={state:G,mutations:H,actions:U,getters:z},q=a("0962"),Q={graticuleVisibility:!1,isColorPick:!1,isMarker:!1,isInteraction:!1,isRemove:!1,isDrawForChangeDetection:!1,isDrawForFilter:!1,isDrawForTable:!1,drawType:q["a"].NONE,featureIdCounter:0,bbox:[],measuremaptooltipElement:null,measuremaptooltip:null,helpmaptooltipElement:null,helpmaptooltip:null},Y={SET_GRATICULE_VISIBILITY:function(e,t){e.graticuleVisibility=t},SET_COLOR_PICK_STATUS:function(e,t){e.isColorPick=t},SET_MARKER_STATUS:function(e,t){e.isMarker=t},SET_INTERACTION_STATUS:function(e,t){e.isInteraction=t},SET_DRAW_FOR_CHANGE_DETECTION_STATUS:function(e,t){e.isDrawForChangeDetection=t},SET_DRAW_FOR_FILTER_STATUS:function(e,t){e.isDrawForFilter=t},SET_REMOVE_STATUS:function(e,t){e.isRemove=t},SET_DRAW_TYPE:function(e,t){e.drawType=t},SET_FEATURE_ID_COUNTER:function(e,t){e.featureIdCounter=t},SET_BBOX:function(e,t){e.bbox=t},SET_MEASUREMAP_TOOLTIP_ELEMENT:function(e,t){e.measuremaptooltipElement=t},SET_MEASUREMAP_TOOLTIP:function(e,t){e.measuremaptooltip=t},SET_HELPMAP_TOOLTIP_ELEMENT:function(e,t){e.helpmaptooltipElement=t},SET_HELPMAP_TOOLTIP:function(e,t){e.helpmaptooltip=t}},Z={saveGraticuleVisibility:function(e,t){e.commit("SET_GRATICULE_VISIBILITY",t)},saveColorPickStatus:function(e,t){e.commit("SET_COLOR_PICK_STATUS",t)},saveMarkerStatus:function(e,t){e.commit("SET_MARKER_STATUS",t)},saveInteractionStatus:function(e,t){e.commit("SET_INTERACTION_STATUS",t)},saveDrawForChangeDetectionStatus:function(e,t){e.commit("SET_DRAW_FOR_CHANGE_DETECTION_STATUS",t)},saveDrawForFilterStatus:function(e,t){e.commit("SET_DRAW_FOR_FILTER_STATUS",t)},saveRemoveStatus:function(e,t){e.commit("SET_REMOVE_STATUS",t)},saveDrawType:function(e,t){e.commit("SET_DRAW_TYPE",t)},saveFeatureIdCounter:function(e,t){e.commit("SET_FEATURE_ID_COUNTER",t)},saveBbox:function(e,t){e.commit("SET_BBOX",t)},saveMeasuremapTooltipElement:function(e,t){e.commit("SET_MEASUREMAP_TOOLTIP_ELEMENT",t)},saveMeasuremapTooltip:function(e,t){e.commit("SET_MEASUREMAP_TOOLTIP",t)},saveHelpmapTooltipElement:function(e,t){e.commit("SET_HELPMAP_TOOLTIP_ELEMENT",t)},saveHelpmapTooltip:function(e,t){e.commit("SET_HELPMAP_TOOLTIP",t)}},K={graticuleVisibility:function(e){return e.graticuleVisibility},isColorPick:function(e){return e.isColorPick},isMarker:function(e){return e.isMarker},isInteraction:function(e){return e.isInteraction},isRemove:function(e){return e.isRemove},isDrawForChangeDetection:function(e){return e.isDrawForChangeDetection},isDrawForFilter:function(e){return e.isDrawForFilter},drawType:function(e){return e.drawType},featureIdCounter:function(e){return e.featureIdCounter},bbox:function(e){return e.bbox},measuremaptooltipElement:function(e){return e.measuremaptooltipElement},measuremaptooltip:function(e){return e.measuremaptooltip},helpmaptooltipElement:function(e){return e.helpmaptooltipElement},helpmaptooltip:function(e){return e.helpmaptooltip}},W={state:Q,mutations:Y,actions:Z,getters:K},X={activeMenuTab:"",isInformationModalVisible:!1,notificationCount:0},J={SET_ACTIVE_MENU_TAB:function(e,t){e.activeMenuTab=t},SET_INFORMATION_MODAL_VISIBILITY:function(e,t){e.isInformationModalVisible=t},SET_NOTIFICATION_COUNT:function(e,t){e.notificationCount=t}},ee={saveInformationModalVisibility:function(e,t){e.commit("SET_INFORMATION_MODAL_VISIBILITY",t)},saveActiveMenuTab:function(e,t){e.commit("SET_ACTIVE_MENU_TAB",t)},saveNotificationCount:function(e,t){e.commit("SET_NOTIFICATION_COUNT",t)}},te={activeMenuTab:function(e){return e.activeMenuTab},isInformationModalVisible:function(e){return e.isInformationModalVisible},notificationCount:function(e){return e.notificationCount}},ae={state:X,mutations:J,actions:ee,getters:te},ne={moodal:null},ie={SET_MOODAL:function(e,t){e.moodal=t}},re={saveMoodal:function(e,t){e.commit("SET_MOODAL",t)}},se={moodal:function(e){return e.moodal}},oe={state:ne,mutations:ie,actions:re,getters:se},ce={historyIndex:0,isNeedUpdate:!1,isNextExist:!1,isPreviousExist:!1,history:[]},le={SET_HISTORY_INDEX:function(e,t){e.historyIndex=t},SET_HISTORY_IS_NEED_UPDATE:function(e,t){e.isNeedUpdate=t},SET_HISTORY_IS_NEXT_EXIST:function(e,t){e.isNextExist=t},SET_HISTORY_IS_PREVIOUS_EXIST:function(e,t){e.isPreviousExist=t},SET_HISTORY:function(e,t){e.history=t}},ue={saveHistoryIndex:function(e,t){e.commit("SET_HISTORY_INDEX",t)},saveHistoryIsNeedUpdate:function(e,t){e.commit("SET_HISTORY_IS_NEED_UPDATE",t)},saveHistoryIsNextExist:function(e,t){e.commit("SET_HISTORY_IS_NEXT_EXIST",t)},saveHistoryIsPreviousExist:function(e,t){e.commit("SET_HISTORY_IS_PREVIOUS_EXIST",t)},saveHistory:function(e,t){e.commit("SET_HISTORY",t)}},de={historyIndex:function(e){return e.historyIndex},historyIsNeedUpdate:function(e){return e.isNeedUpdate},historyIsNextExist:function(e){return e.isNextExist},historyIsPreviousExist:function(e){return e.isPreviousExist},history:function(e){return e.history}},pe={state:ce,mutations:le,actions:ue,getters:de},fe={ndviExtent:null},me={SET_NDVI_EXTENT:function(e,t){e.ndviExtent=t}},be={saveNdviExtent:function(e,t){e.commit("SET_NDVI_EXTENT",t)}},ve={ndviExtent:function(e){return e.ndviExtent}},he={state:fe,mutations:me,actions:be,getters:ve},ge={roles:[],directivePermissions:[],userInfo:{id:"",email:"",userName:""}},ye={SET_ROLES:function(e,t){e.roles=t},SET_USER_INFO:function(e,t){e.userInfo=t},SET_DIRECTIVE_PERMISSIONS:function(e,t){e.directivePermissions=t}},Ce={saveRoles:function(e,t){e.commit("SET_ROLES",t)},saveUserInfo:function(e,t){e.commit("SET_USER_INFO",t)},saveDirectivePermissions:function(e,t){e.commit("SET_DIRECTIVE_PERMISSIONS",t)}},_e={roles:function(e){return e.roles},directivePermissions:function(e){return e.directivePermissions},userInfo:function(e){return e.userInfo}},Oe={state:ge,mutations:ye,actions:Ce,getters:_e},Ee={auth:u,dataTable:v,colorPicker:_,information:S,forum:A,layers:M,filter:V,map:$,tool:W,menu:ae,modal:oe,history:pe,ndvi:he,user:Oe},Se=a("7540"),Te=a("277f"),we=a("09bc"),Le=a("8ae2"),ke=a("8bb0");i["default"].use(r["a"]);var Ie=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a,n,i,r,s,o,c,l,u,p,f,m,b,v;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.dispatch,e.next=3,Se["a"].getLayers();case 3:return n=e.sent,e.next=6,we["a"].getAll();case 6:return i=e.sent,e.next=9,Le["a"].getAll();case 9:return r=e.sent,s=[],o=[],c=[],l=[],i.data&&""!=i.data&&(s=i.data.filter((function(e){return"dynamic"==e.layer.mapTypeId})).map((function(e){return e.layer.id})),o=i.data.filter((function(e){return"basemap"==e.layer.mapTypeId})).map((function(e){return e.layer.id}))),r.data&&""!=r.data&&(c=r.data.filter((function(e){return"dynamic"==e.layer.mapTypeId})).map((function(e){return e.layer.id})),l=r.data.filter((function(e){return"basemap"==e.layer.mapTypeId})).map((function(e){return e.layer.id}))),u=d["e"].mapLayers(n.data),p=u.baseLayers,f=u.dynamicLayers,a("saveDynamicLayerList",f),a("saveBaseLayerList",p),a("saveFavoriteDyanmicLayerIds",s),a("saveFavoriteBaseLayerIds",o),a("saveDefaultDynamicLayerIds",c),a("saveDefaultBaseLayerIds",l),m=f.map((function(e){return 0})),a("SAVE_LAYER_COLOR_ORDER_LIST",m),e.next=29,ke["a"].getAll();case 29:b=e.sent,v=d["a"].mapBunchs(b.data),a("saveBunchLayerList",v);case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.dispatch,e.next=3,Te["a"].getUnradNotificationCount();case 3:n=e.sent,a("saveNotificationCount",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t["a"]=new r["a"].Store({state:{},getters:{},mutations:{deleteToken:function(e){e.token=null}},actions:{init:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.dispatch,e.next=3,Ie({dispatch:a});case 3:return e.next=5,Ae({dispatch:a});case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),setNotificationCounts:Ae,getLayers:Ie},modules:Ee})},"0955":function(e,t,a){},"0962":function(e,t,a){"use strict";a.d(t,"e",(function(){return i})),a.d(t,"d",(function(){return s})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return p}));var n={LOCAL_MVT:1,XYZ:2,TILE_ARCGIS_REST:3,IMAGE_ARCGIS_REST:4},i=n,r={CATEGORY:"category",LAYER:"layer",SUBLAYER:"subLayer",BUNCH:"bunch",DYNAMIC_LAYER:"dynamic",BASE_LAYER:"base"},s=r,o={NONE:"None",SQUARE:"Square",BOX:"Box",CIRCLE:"Circle",LINESTRING:"LineString",POLYGON:"Polygon",POINT:"Point",TEXT:"Text"},c=o,l={PROFILE:"profile",TOOL:"tool",DYNAMIC_LAYER:"dynamicLayer",BUNC_LAYER:"bunchLayer",BASE_LAYER:"baseLayer",BASE_MAP_TYPE:"baseMapType"},u=l,d={ZOOM:1,SCALE:2},p=d},"09bc":function(e,t,a){"use strict";var n=a("b775"),i=a("78a3");t["a"]={getAll:function(){return n["a"].get(i["f"].GET_ALL)},set:function(e){return n["a"].post(i["f"].SET,e)}}},"0d96":function(e,t){},"10e6":function(e,t,a){e.exports=a.p+"img/place.17b1465c.svg"},"121f":function(e,t,a){"use strict";var n=a("ed0e"),i=a.n(n);i.a},1616:function(e,t,a){e.exports=a.p+"img/color_picker.f11e40bf.svg"},"16ab":function(e,t,a){e.exports=a.p+"img/rectangle.dfb475bd.svg"},"16d2":function(e,t,a){},"16f4":function(e,t,a){"use strict";var n=a("470d"),i=a.n(n);i.a},"16f7":function(e,t,a){},1959:function(e,t,a){e.exports=a.p+"img/mouse.0a006fb9.svg"},"20bc":function(e,t,a){"use strict";var n=a("e309"),i=a.n(n);i.a},2303:function(e,t,a){},"277f":function(e,t,a){"use strict";var n=a("b775"),i=a("78a3");t["a"]={getAll:function(e){return n["a"].get(i["l"].GET_ALL,{params:e})},setReaded:function(e){return n["a"].post(i["l"].SET_READED+"/"+e)},getUnradNotificationCount:function(){return n["a"].get(i["l"].GET_UNREAD_NOTIFICATION_COUNT)}}},"293c4":function(e,t,a){e.exports=a.p+"img/ac_logo.d0e36a51.svg"},"2af9":function(e,t,a){"use strict";a.d(t,"o",(function(){return h})),a.d(t,"e",(function(){return ve})),a.d(t,"p",(function(){return $e})),a.d(t,"m",(function(){return We})),a.d(t,"h",(function(){return rt})),a.d(t,"j",(function(){return pt})),a.d(t,"q",(function(){return St})),a.d(t,"g",(function(){return Ka})),a.d(t,"n",(function(){return ln})),a.d(t,"f",(function(){return bn})),a.d(t,"d",(function(){return En})),a.d(t,"i",(function(){return In})),a.d(t,"b",(function(){return Rn})),a.d(t,"k",(function(){return Qn})),a.d(t,"c",(function(){return ti})),a.d(t,"a",(function(){return oi})),a.d(t,"l",(function(){return pr}));var n,i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"colorPickers  colorPickers--dark"},[a("ul",{staticClass:"nav"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:e.isBorder},attrs:{href:"#"},on:{click:function(t){return e.borderClick(!0)}}},[e._v("Border Color")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:!e.isBorder},attrs:{href:"#"},on:{click:function(t){return e.borderClick(!1)}}},[e._v("Fill Color")])])]),e.isBorder?a("ColorScheme",{staticStyle:{display:"inline-block"},attrs:{value:{hex:e.borderColor}},on:{input:function(t){e.border=t}}}):a("ColorScheme",{staticStyle:{display:"inline-block"},attrs:{value:{hex:e.fillColor}},model:{value:e.fill,callback:function(t){e.fill=t},expression:"fill"}}),a("div",{staticClass:"colorPickerButton"},[a("button",{staticClass:"btn btn-sm btn--cancel",attrs:{type:"button"},on:{click:e.onClose}},[e._v("\n      Close\n    ")]),a("button",{staticClass:"btn btn-sm btn--save",attrs:{type:"button"},on:{click:e.onSave}},[e._v("\n      Save\n    ")])])],1)},r=[],s=(a("6c7b"),a("c345")),o={name:"color",props:{borderColor:{type:String,default:"#2196F3FF"},fillColor:{type:String,default:"#000000FF"}},components:{ColorScheme:s["Chrome"]},data:function(){return{isBorder:!0,fill:{},border:{}}},methods:{borderClick:function(e){this.isBorder=e},onSave:function(){var e="";e=this.border.hex8;var t=e;t||(t=this.borderColor),e=this.fill.hex8;var a=e;a||(a=this.fillColor);var n={borderColor:t,fillColor:a};this.$emit("onSave",n)},onClose:function(){this.$emit("onClose")}}},c=o,l=a("2877"),u=Object(l["a"])(c,i,r,!1,null,null,null),d=u.exports,p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"colorPickers colorPickers--light"},[a("ul",{staticClass:"nav"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:!e.isBorder},attrs:{href:"#"},on:{click:function(t){return e.borderClick(!1)}}},[e._v("Fill Color")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:e.isBorder},attrs:{href:"#"},on:{click:function(t){return e.borderClick(!0)}}},[e._v("Border Color")])])]),a("div",{staticClass:"colorPicker"},[e.isBorder?a("ColorScheme",{model:{value:e.borderColor,callback:function(t){e.borderColor=t},expression:"borderColor"}}):a("ColorScheme",{model:{value:e.fillColor,callback:function(t){e.fillColor=t},expression:"fillColor"}})],1),a("div",{staticClass:"colorPickerButton"},[a("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:e.save}},[e._v("\n            Save\n        ")])])])},f=[],m={name:"color",props:{},components:{ColorScheme:s["Chrome"]},mounted:function(){},data:function(){return{isBorder:!1,borderColor:{hex8:"#000000",rgba:{r:255,g:255,b:255,a:1}},fillColor:{hex8:"#00000000",rgba:{r:255,g:255,b:255,a:1}}}},methods:{borderClick:function(e){this.isBorder=e},save:function(){this.$store.dispatch("SAVE_COLORPICKER_SHAPEFILLCOLOR",this.fillColor),this.$store.dispatch("SAVE_COLORPICKER_SHAPEBORDERCOLOR",this.borderColor),this.$emit("setShapeColor")}},computed:{}},b=m,v=Object(l["a"])(b,p,f,!1,null,null,null),h=v.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.isVisible,expression:"isVisible"}],staticClass:"table-wrapper"},[n("Resizable",{ref:"resizable",staticClass:"resizable",attrs:{active:e.resize.handlers,"fit-parent":e.resize.fit,"max-width":e._f("checkEmpty")(e.resize.maxW),"max-height":e._f("checkEmpty")(e.resize.maxH),"min-width":e._f("checkEmpty")(e.resize.minW),"min-height":e._f("checkEmpty")(e.resize.minH),width:e.resize.width,height:e.resize.height,left:e.resize.left,top:e.resize.top},on:{mount:e.resizeHandler,"resize:move":e.resizeHandler,"resize:start":e.resizeHandler,"resize:end":e.resizeHandler,"drag:move":e.resizeHandler,"drag:start":e.resizeHandler,"drag:end":e.resizeHandler}},[n("div",{staticClass:"tableDiv howMuchWidthHaveMap"},[n("div",{staticClass:"tableHeader"},[n("div",{staticClass:"table__tabs"},[n("div",{staticClass:"table__tab table__tab--active"},[e._v(e._s(e.tableName))])]),n("div",{staticClass:"table__operations"},[e.isActiveServiceLocal&&e.checkPermission(["data_add"])?n("i",{staticClass:"fas fa-plus tableFilter makeMePoint icon",attrs:{title:"Add Data"},on:{click:e.addData}}):e._e(),e.tableHeaders?n("download-excel",{attrs:{fetch:e.fetchFullData,type:"xls",name:"test_report.xls"}},[n("i",{staticClass:"fas fa-file-excel icon excelDataIcon excelIcon makeMePoint",attrs:{title:"Export As Excel"}})]):e._e(),n("i",{staticClass:"fas fa-filter tableFilter makeMePoint icon",attrs:{title:"Filter"},on:{click:e.showFilterModal}}),n("i",{staticClass:"fas fa-columns tableColumns makeMePoint icon",attrs:{title:"Show/Hide Table Columns"},on:{click:e.togglePopup}}),n("i",{staticClass:"fas fa-times tableClose makeMePoint icon",attrs:{title:"Close"},on:{click:e.toggleIsVisible}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isColumnPopupShowing,expression:"isColumnPopupShowing"}],staticClass:"tableShowColumns custom-scrollbar",attrs:{id:"table-columns"}},[n("div",{staticClass:"columnsDiv"},e._l(e.tableHeaders,(function(t,a){return n("div",{key:a,staticClass:"table__column"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedColumns,expression:"checkedColumns"}],staticClass:"column__checkbox",attrs:{type:"checkbox",id:t,checked:"checked"},domProps:{value:a,checked:Array.isArray(e.checkedColumns)?e._i(e.checkedColumns,a)>-1:e.checkedColumns},on:{click:function(n){return e.selectColumns(t,a,n)},change:function(t){var n=e.checkedColumns,i=t.target,r=!!i.checked;if(Array.isArray(n)){var s=a,o=e._i(n,s);i.checked?o<0&&(e.checkedColumns=n.concat([s])):o>-1&&(e.checkedColumns=n.slice(0,o).concat(n.slice(o+1)))}else e.checkedColumns=r}}}),n("label",{staticClass:"column__name"},[e._v(e._s(t))])])})),0)])],1)]),n("div",{ref:"dataTableContent",staticClass:"tableContent custom-scrollbar",attrs:{id:"dataTable"}},[e.loading?n("div",{staticClass:"loader"},[n("img",{attrs:{src:a("4045"),alt:""}})]):n("table",{staticClass:"selfTable table"},[n("thead",[n("tr",[e._l(e.tableHeaders,(function(t,a){return n("th",{directives:[{name:"show",rawName:"v-show",value:e.checkedColumns.includes(a),expression:"checkedColumns.includes(index)"}],key:a},[e._v("\n                "+e._s(t)+"\n              ")])})),e.isActiveServiceLocal?n("th",{staticClass:"table__column--sticky",style:{width:e.checkPermission(["data_edit"])?"80px":"40px"}},[e._v("\n                #\n              ")]):e._e()],2)]),n("tbody",{staticClass:"tableBody custom-scrollbar"},e._l(e.tableData.features,(function(t,a){return n("tr",{key:a},[e._l(t.attributes,(function(a,i){return n("td",{directives:[{name:"show",rawName:"v-show",value:e.checkedColumns.includes(Object.keys(t.attributes).indexOf(i)),expression:"\n                  checkedColumns.includes(\n                    Object.keys(data.attributes).indexOf(key)\n                  )\n                "}],key:i,staticClass:"makeMePoint",on:{click:function(a){return e.focusToGeometry(t)}}},[e._v("\n                "+e._s(a)+"\n              ")])})),e.isActiveServiceLocal?n("td",{staticClass:"table__column--sticky",style:{width:e.checkPermission(["data_edit"])?"80px":"40px"}},[e.checkPermission(["data_edit"])?n("i",{staticClass:"far fa-edit \n                makeMePoint mr-2",attrs:{title:"Edit Data"},on:{click:function(a){return e.editData(t.attributes["gid"])}}}):e._e(),n("i",{staticClass:"fas fa-file-upload \n                makeMePoint ",attrs:{title:"Edit Data"},on:{click:function(a){return e.uploadImage(t.attributes["gid"])}}})]):e._e()],2)})),0)])])])]),e.activeService&&e.selectedGid&&e.isActiveServiceLocal?n("ImageUploadModal",{attrs:{gid:e.selectedGid,layerId:e.activeService.id}}):e._e(),e.activeService&&e.isActiveServiceLocal?n("DataAddEditModal",{attrs:{gid:e.selectedGid,layerId:e.activeService.id}}):e._e()],1)},y=[],C=(a("8e6e"),a("ac6a"),a("456d"),a("20d6"),a("75fc")),_=(a("96cf"),a("3b8d")),O=a("bd86"),E=a("ce96"),S=a("8e5f"),T=a.n(S),w=a("7540"),L=a("4b7c"),k=a.n(L),I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("CustomModal",{attrs:{name:"imageUploadModal",title:"File Modal",width:"50%",minHeight:400},on:{beforeShow:e.onModalOpen,afterHide:e.onModalClose}},[a("div",{staticClass:"row "},[a("div",{staticClass:"table-wrapper-scroll-y upload-content-scroll"},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[e._v("#")]),a("th",{attrs:{scope:"col"}},[e._v("Image")]),a("th",{attrs:{scope:"col"}},[e._v("Filename")]),a("th",{attrs:{scope:"col"}},[e._v("Extension")]),a("th",{attrs:{scope:"col"}},[e._v("Size")]),a("th",{attrs:{scope:"col"}},[e._v("DateCreated")]),e.checkPermission(["data_add"])?a("th",{attrs:{scope:"col"}}):e._e()])]),a("tbody",e._l(e.files,(function(t,n){return a("tr",{key:n},[a("th",{attrs:{scope:"row"}},[e._v(e._s(t.id))]),e.isImage(t.extension)?a("td",{staticClass:"text-center"},[a("img",{directives:[{name:"viewer",rawName:"v-viewer",value:e.vieverOptions,expression:"vieverOptions"}],attrs:{src:t.base64,alt:"",border:"3",height:"50",width:"50"}})]):a("td",{staticClass:"text-center"},[a("i",{staticClass:"far fa-file-alt h1"})]),a("td",[a("button",{staticClass:"btn btn-primary btn-xs",on:{click:function(a){return e.download(t)}}},[a("i",{staticClass:"fas fa-download"})]),e._v("\n              "+e._s(t.filename)+"\n              "),a("span")]),a("td",[e._v(e._s(t.extension))]),a("td",[e._v(e._s(t.size))]),a("td",[e._v(e._s(t.dateCreated))]),a("td",[e.checkPermission(["data_edit"])?a("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(a){return e.deleteImage(t.id)}}},[a("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}})]):e._e()])])})),0)])])]),e.checkPermission(["data_add"])?a("div",[a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-md-12"},[a("vue-dropzone",{ref:"dropzone",attrs:{id:"dropzone",options:e.dropzoneOptions},on:{"vdropzone-sending":e.sendingEvent,"vdropzone-success":e.onSuccess}})],1)]),a("div",{staticClass:"col-md-12"},[a("button",{staticClass:"btn btn-danger btn-sm float-right mt-3",on:{click:e.clearDropzone}},[e._v("\n        Clear\n      ")])])]):e._e()])},A=[],D=(a("6762"),a("2fdb"),a("5df3"),a("c5f6"),a("92c3")),x=a.n(D),j=a("aeb1"),P=a.n(j),M=(a("6944"),a("78a3")),R=a("dde5"),B=a("7055"),N=a("b775"),F=(n={get:function(e){var t={id:e};return N["a"].get(M["h"].GET_TABLE_INFO,{params:t})},getAll:function(){return N["a"].get(M["h"].GET_ALL)}},Object(O["a"])(n,"getAll",(function(e){var t={layerId:e};return N["a"].get(M["h"].GET_ALL,{params:t})})),Object(O["a"])(n,"getFile",(function(e){return N["a"].get(M["h"].GET_BASE64_FILE+"/"+e)})),Object(O["a"])(n,"getAll",(function(e,t){var a={layerId:e,gid:t};return N["a"].get(M["h"].GET_ALL,{params:a})})),Object(O["a"])(n,"add",(function(e){return N["a"].post(M["h"].ADD,{params:e})})),Object(O["a"])(n,"delete",(function(e){return N["a"].post(M["h"].DELETE+"/"+e)})),n),V=a("07a4");function G(e){if(e&&e instanceof Array&&e.length>0){var t=V["a"].getters&&V["a"].getters.roles,a=E["g"].getRolePermissions(t),n=V["a"].getters&&V["a"].getters.directivePermissions,i=e,r=a.some((function(e){return i.includes(e)})),s=n.some((function(e){return i.includes(e)})),o=r||s;return!!o}return console.error("need roles! Like v-permission=\"['admin','editor']\""),!1}var H={components:{vueDropzone:x.a},props:{layerId:{type:Number,required:!0},gid:{type:Number,required:!0}},data:function(){var e;return e={files:[],vieverOptions:{movable:!1}},Object(O["a"])(e,"vieverOptions",{movable:!1,zoomable:!0,rotatable:!1,toolbar:!1,scalable:!1,button:!1,navbar:!1,title:!1,tooltip:!0,transition:!0,fullscreen:!1,keyboard:!0}),Object(O["a"])(e,"imageExtensions",[".jpg",".jpeg",".gif",".png",".bmp"]),Object(O["a"])(e,"dropzoneOptions",{url:M["h"].ADD,thumbnailWidth:150,maxFilesize:2,dictDefaultMessage:"<i class='fa fa-cloud-upload'></i>UPLOAD ME",headers:{Authorization:"Bearer ".concat(R["c"].getToken())},acceptedFiles:".jpeg,.jpg,.png,.gif,.tif,.tiff,.bmp"}),e},methods:{checkPermission:G,onSuccess:function(e,t){this.getImages()},resetData:function(){this.files=[]},download:function(e){P()(e.base64,e.filename,this.getMimFromExtension(e.extension))},getMimFromExtension:function(e){switch(e.toLowerCase()){case".jpeg":return"image/jpeg";case".jpg":return"image/jpeg";case".png":return"image/png";case".gif":return"image/gif";case".tif":return"image/tiff";case".tiff":return"image/tiff";case".bmp":return"image/bmp";case".txt":return"text/plain"}},getImages:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t,a,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,F.getAll(this.layerId,this.gid);case 2:return t=e.sent,a=t.data,e.next=6,Promise.all(a.map(function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.getBase64File(t.id);case 2:a=e.sent,t.base64="data:".concat(n.getMimFromExtension(t.extension),";base64,")+a;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:this.files=a;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getBase64File:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,F.getFile(t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),isImage:function(e){return this.imageExtensions.includes(e.toLowerCase())},deleteImage:function(e){var t=this;F.delete(e).then((function(e){t.getImages()}))},onModalOpen:function(){this.resetData(),this.getImages()},onModalClose:function(){this.resetData(),this.clearDropzone()},clearDropzone:function(){this.$refs.dropzone.removeAllFiles()},sendingEvent:function(e,t,a){a.append("layerId",this.layerId),a.append("gid",this.gid),a.append("file",e)}}},U=H,z=(a("d83d"),Object(l["a"])(U,I,A,!1,null,"52b706f4",null)),$=z.exports,q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("CustomModal",{attrs:{name:"dataAddEditModal",title:"Data Modal",width:"50%",minHeight:400},on:{beforeShow:e.onModalOpen,afterHide:e.onModalClose}},[a("form",[a("div",{staticClass:"row form-group"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("label",[e._v("\n                Is Geometry Exist :\n                "),e.isGeometryExist?a("span",{staticClass:"badge badge-success"},[e._v("\n                  true\n                ")]):a("span",{staticClass:"badge badge-danger"},[e._v("\n                  false\n                ")])])])])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"btn-group btn-group-toggle btn-group-sm float-right",attrs:{role:"group","aria-label":"Basic example"}},[e.pointGeometryVisibility?a("label",{staticClass:"btn  btn-info ",class:{active:e.isGeometryExist&&e.geometryBtnSelect==e.drawTypeEnum.POINT}},[a("input",{attrs:{type:"radio",name:"options"},domProps:{value:e.drawTypeEnum.POINT},on:{click:e.drawTypeOnChange}}),a("img",{attrs:{src:e.icons.point}})]):e._e(),e.lineGeometryVisibility?a("label",{staticClass:"btn  btn-info ",class:{active:e.isGeometryExist&&e.geometryBtnSelect==e.drawTypeEnum.LINESTRING}},[a("input",{attrs:{type:"radio",name:"options"},domProps:{value:e.drawTypeEnum.LINESTRING},on:{click:e.drawTypeOnChange}}),a("img",{attrs:{src:e.icons.line}})]):e._e(),e.polygonGeometryVisibility?a("label",{staticClass:"btn  btn-info ",class:{active:e.isGeometryExist&&e.geometryBtnSelect==e.drawTypeEnum.SQUARE}},[a("input",{attrs:{type:"radio",name:"options"},domProps:{value:e.drawTypeEnum.SQUARE},on:{click:e.drawTypeOnChange}}),a("img",{attrs:{src:e.icons.square}})]):e._e(),e.polygonGeometryVisibility?a("label",{staticClass:"btn  btn-info ",class:{active:e.isGeometryExist&&e.geometryBtnSelect==e.drawTypeEnum.BOX}},[a("input",{attrs:{type:"radio",name:"options"},domProps:{value:e.drawTypeEnum.BOX},on:{click:e.drawTypeOnChange}}),a("img",{attrs:{src:e.icons.rectangle}})]):e._e(),e.polygonGeometryVisibility?a("label",{staticClass:"btn  btn-info ",class:{active:e.isGeometryExist&&e.geometryBtnSelect==e.drawTypeEnum.POLYGON}},[a("input",{attrs:{type:"radio",name:"options"},domProps:{value:e.drawTypeEnum.POLYGON},on:{click:e.drawTypeOnChange}}),a("img",{attrs:{src:e.icons.polygon}})]):e._e(),e.polygonGeometryVisibility?a("label",{staticClass:"btn  btn-info ",class:{active:e.isGeometryExist&&e.geometryBtnSelect==e.drawTypeEnum.CIRCLE}},[a("input",{attrs:{type:"radio",name:"options"},domProps:{value:e.drawTypeEnum.CIRCLE},on:{click:e.drawTypeOnChange}}),a("img",{attrs:{src:e.icons.circle}})]):e._e()])]),a("div",{staticClass:"col-md-12 mt-1"},[a("button",{staticClass:"btn btn-primary float-right",attrs:{type:"button"},on:{click:e.showGeometryModal}},[e._v("\n                Geometry\n              ")])])])])]),a("div",{staticClass:"row"},e._l(e.columns,(function(t,n){return a("div",{key:n,staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:t.columnName}},[e._v(" "+e._s(t.columnName))]),a("DynamicFormInput",{staticClass:"form-control",attrs:{type:t.valueType,name:t.columnName,value:e.isEdit?t.value:null},on:{onChange:e.onInputChange}})],1)])})),0),a("div",{staticClass:"row "},[a("div",{staticClass:"col-md-12 form-group"},[a("button",{staticClass:"btn btn-primary float-right",attrs:{type:"button"},on:{click:e.onSubmit}},[e._v("\n            Apply\n          ")])])])])]),a("CustomModal",{attrs:{name:"geometryModal",title:"Geometry Modal",width:"70%",minHeight:400},on:{afterHide:e.onGeometryModalClose}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",[e._v("\n          Geometry Type :\n\n          "),a("span",{staticClass:"badge badge-info"},[e._v("\n            "+e._s(e.geometryType)+"\n          ")])])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"label"}}),a("button",{directives:[{name:"show",rawName:"v-show",value:e.geometry&&e.geometry.length>0,expression:"geometry && geometry.length > 0"}],staticClass:"btn btn-danger float-right",attrs:{type:"button"},on:{click:e.resetCoordinates}},[e._v("\n            Reset Coordinates\n          ")])])]),e.isGeometryExist?a("div",{staticClass:"col-md-12"},["point"==this.geometryType?a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-5"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"label"}},[e._v("X")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.geometry[0],expression:"geometry[0]",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",step:".00000000001",id:"label"},domProps:{value:e.geometry[0]},on:{input:function(t){t.target.composing||e.$set(e.geometry,0,e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),a("div",{staticClass:"col-md-5"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"label"}},[e._v("Y")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.geometry[1],expression:"geometry[1]",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",step:".00000000001",id:"label"},domProps:{value:e.geometry[1]},on:{input:function(t){t.target.composing||e.$set(e.geometry,1,e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"label"}}),a("button",{staticClass:"btn btn-danger d-block mt-2",attrs:{type:"button"},on:{click:e.deleteCoordinate}},[a("i",{staticClass:"fas fa-trash-alt",attrs:{title:"Edit Data"}})])])])]):e._l(e.geometry,(function(t,n){return a("div",{key:n,staticClass:"row"},[a("div",{staticClass:"col-md-5"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"label"}},[e._v("X")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t[0],expression:"item[0]",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",step:".00000000001",id:"label"},domProps:{value:t[0]},on:{input:function(a){a.target.composing||e.$set(t,0,e._n(a.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),a("div",{staticClass:"col-md-5"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"label"}},[e._v("Y")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t[1],expression:"item[1]",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",step:".00000000001",id:"label"},domProps:{value:t[1]},on:{input:function(a){a.target.composing||e.$set(t,1,e._n(a.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"label"}}),a("button",{staticClass:"btn btn-danger d-block mt-2",attrs:{type:"button"},on:{click:function(t){return e.deleteCoordinate(n)}}},[a("i",{staticClass:"fas fa-trash-alt",attrs:{title:"Edit Data"}})])])])])}))],2):e._e()]),a("div",{staticClass:"row "},[a("div",{staticClass:"col-md-12 form-group"},[a("button",{staticClass:"btn btn-primary float-right",attrs:{type:"button",disabled:!e.canAddCoordinate},on:{click:e.addCoordinate}},[e._v("\n          Add Coordinate\n        ")])])])])],1)},Q=[],Y=(a("6b54"),a("7514"),a("aa3f")),Z=a("0962"),K={getTableInfo:function(e){return N["a"].get(M["d"].GET_TABLE_INFO+"/"+e)},getData:function(e,t){var a={gid:t};return N["a"].get(M["d"].GET_ITEM+"/"+e+"/",{params:a})},addOrEditData:function(e){return N["a"].post(M["d"].ADD_OR_EDIT,e)}};a("7f7f");function W(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?W(Object(a),!0).forEach((function(t){Object(O["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):W(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var J,ee,te={name:"DynamicFormInput",props:{name:{type:String},type:{type:String},value:{type:String}},render:function(e){var t=this,a=1,n="text";switch(this.type){case"int":n="number";break;case"string":n="string";break;case"double":n="number",a=".01";break}var i={domProps:{value:this.value,name:this.name},attrs:X({type:n},"double"===this.type&&{step:a}),on:{change:function(e){var a=e.target,n=a.value,i=a.name;t.$emit("onChange",i,n)}}};"double"===n&&i.attrs["step"];var r=e("input",i);return r}},ae=te,ne=Object(l["a"])(ae,J,ee,!1,null,null,null),ie=ne.exports,re={components:{DynamicFormInput:ie},props:{layerId:{type:Number,required:!0},gid:{type:Number,required:!1}},data:function(){return{isModalHidingForGeometrySelection:!1,columns:[],geometryType:"",geometry:null,geometryBtnSelect:"",columnData:[],drawTypeEnum:Z["a"],icons:Y["a"]}},mounted:function(){},computed:{canAddCoordinate:function(){var e=this.geometryType&&("point"!==this.geometryType||"point"===this.geometryType&&null==this.geometry||0==this.geometry.length);return e},isGeometryExist:function(){var e=this.geometry&&this.geometry.length>0;return e},bbox:function(){return B["k"].getBbox()},isEdit:function(){return this.gid&&0!==this.gid},activeTableService:function(){return B["j"].getTableActiveService()},pointGeometryVisibility:function(){return this.geometryType&&"point"===this.geometryType},lineGeometryVisibility:function(){return this.geometryType&&("linestring"===this.geometryType||"multilinestring"===this.geometryType)},polygonGeometryVisibility:function(){return this.geometryType&&("polygon"===this.geometryType||"multipolygon"===this.geometryType)}},methods:{resetData:function(){this.isModalHidingForGeometrySelection=!1,this.columns=[],this.geometryType="",this.geometry=null,this.columnData=[]},resetCoordinates:function(){this.geometry=null},deleteCoordinate:function(e){this.geometryBtnSelect=Z["a"].NONE,"point"===this.geometryType?this.geometry=null:this.geometry.splice(e,1)},addCoordinate:function(){this.geometryBtnSelect=Z["a"].NONE;var e=this.geometryType;if("point"===e)this.geometry||(this.geometry=[]),0==this.geometry.length&&(this.geometry=[1,1]);else{this.geometry||(this.geometry=[]);this.geometry.length;this.geometry.push([1,1])}},drawTypeOnChange:function(e){var t=this,a=e.target.value,n=B["d"].getDynamicLayer(this.layerId),i={id:n.id,type:n.type};if(B["k"].deleteServiceFeatures(this.layerId),this.geometryBtnSelect===a)this.geometryBtnSelect=Z["a"].NONE,this.geometry;else{var r={forService:i};this.isModalHidingForGeometrySelection=!0,B["g"].hideDataAddEditModal(),B["j"].setTableUnvisible(),B["k"].pickDrawType(a,(function(){B["g"].showDataAddEditModal(),t.geometryBtnSelect=a,t.geometry=t.bbox,B["k"].pickDrawType(t.drawTypeEnum.NONE),B["j"].setTableVisible()}),r)}},showGeometryModal:function(){B["g"].showGeometryModal(),this.isModalHidingForGeometrySelection=!0,B["g"].hideDataAddEditModal()},onGeometryModalClose:function(){B["g"].showDataAddEditModal()},onSubmit:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t={columns:this.columnData,layerId:this.layerId,geometryType:this.geometryType,geometry:this.geometry?JSON.stringify(this.geometry):null},a=this.isEdit,a&&(t.gid=this.gid),K.addOrEditData(t).then((function(e){B["g"].hideDataAddEditModal()}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onModalOpen:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t,a,n,i,r,s,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=null,a=this.isEdit,!a){e.next=7;break}return e.next=5,K.getData(this.layerId,this.gid);case 5:n=e.sent,t=n.data;case 7:if(this.isModalHidingForGeometrySelection){e.next=15;break}return e.next=10,K.getTableInfo(this.layerId);case 10:i=e.sent,r=i.data,s=r.columns,o=r.geometryType,a&&(s.forEach((function(e){var a=t.find((function(t){return t.columnName==e.columnName})),n=a.value;e.valueType;n&&(n=n.toString()),e["value"]=n})),t.geometries&&(c=JSON.parse(t.geometries),this.geometry="point"===o?c[0]:c,this.geometryBtnSelect=o)),this.columns=s,this.geometryType=o;case 15:this.isModalHidingForGeometrySelection=!1;case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onModalClose:function(){this.isModalHidingForGeometrySelection||(this.resetData(),B["k"].deleteServiceFeatures(this.layerId))},onInputChange:function(e,t){var a=this.columnData.some((function(t){return t.columnName&&t.columnName===e}));a?this.columnData.find((function(t){return t.columnName===e})).value=t:this.columnData.push({columnName:e,value:t})}}},se=re,oe=Object(l["a"])(se,q,Q,!1,null,null,null),ce=oe.exports,le=a("f2ef");function ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function de(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(a),!0).forEach((function(t){Object(O["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ue(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var pe,fe={name:"DataTable",components:{Multiselect:T.a,Resizable:k.a,ImageUploadModal:$,DataAddEditModal:ce},data:function(){return{currentTabId:null,toggler:null,isColumnPopupShowing:!1,selectedGid:0,resize:{handlers:["t"],left:0,top:window.innerHeight-200,height:window.innerHeight,width:window.innerWidth,maxW:1e4,maxH:window.innerHeight,minW:150,minH:200,fit:!0,event:""}}},mounted:function(){this.scrollHandler()},created:function(){window.addEventListener("resize",this.update)},destroyed:function(){window.removeEventListener("resize",this.update)},watch:{isVisible:{handler:function(){this.resetScroll(),this.resetPaging()},deep:!0,immediate:!1}},methods:{checkPermission:G,resetScroll:function(){this.$refs.dataTableContent&&this.$refs.dataTableContent.scrollTo(0,0)},isEndOfData:function(){return this.paging.page*this.paging.limit>this.totalCount},scrollHandler:function(){var e=this,t=document.getElementById("dataTable");t.addEventListener("scroll",(function(a){if(t.scrollTop+t.clientHeight>=t.scrollHeight&&!e.paging.isBusy&&!e.isEndOfData()&&(E["h"].isLocalService(e.activeService)||E["h"].isBunch(e.activeService))){var n=e.paging.page;n=e.paging.page;n+=1,e.isPagingBusy(!0),B["j"].setTableLoading(!0),e.paging=de({},e.paging,{page:n++}),e.getDatas(),e.isPagingBusy(!1),B["j"].setTableLoading(!1)}}))},isPagingBusy:function(e){this.paging=de({},this.paging,{isBusy:e})},getDatas:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t,a,n,i,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.activeService,a=E["h"].isBunch(t),n={},i=this.paging,r=null,!a){e.next=12;break}return n=t.layers.map((function(e,t){return{layerId:e.id,query:de({},e.query)}})),e.next=9,w["a"].getIntersectLocalTableData(t.id,{layerQueries:n,paging:i});case 9:r=e.sent,e.next=16;break;case 12:return n=de({layerId:t.id},t.query,{paging:i}),e.next=15,w["a"].getLocalTableData(n);case 15:r=e.sent;case 16:s=r.data.features,this.tableData.features=[].concat(Object(C["a"])(this.tableData.features),Object(C["a"])(s));case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),resetPaging:function(){this.paging={isBusy:!1,page:1,limit:25}},toggleIsVisible:function(){B["k"].deleteServiceFeatures(this.activeService.id),B["j"].setTableUnvisible()},togglePopup:function(e){this.isColumnPopupShowing=!this.isColumnPopupShowing},showFilterModal:function(){B["g"].showFilterModal()},addData:function(){var e=this;new Promise((function(t,a){e.selectedGid=0,t()})).then((function(e){B["g"].showDataAddEditModal()}))},editData:function(e){var t=this;new Promise((function(a,n){t.selectedGid=e,a()})).then((function(e){B["g"].showDataAddEditModal()}))},uploadImage:function(e){var t=this;new Promise((function(a,n){t.selectedGid=e,a()})).then((function(e){B["g"].showImageUploadModal()}))},focusToGeometry:function(e){B["e"].focusToGeometry(e.geometry)},fetchFullData:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t,a,n,i,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.activeService,a=E["h"].isBunch(t),n=null,i=null,r={page:1,limit:this.totalCount},!a){e.next=12;break}return n=t.layers.map((function(e,t){return{layerId:e.id,query:de({},e.query)}})),e.next=9,w["a"].getIntersectLocalTableData(t.id,{layerQueries:n,paging:r});case 9:i=e.sent,e.next=16;break;case 12:return n=de({layerId:t.id},t.query,{paging:r,isGeometryDataExist:!1}),e.next=15,w["a"].getLocalTableData(n);case 15:i=e.sent;case 16:return s=i.data.features.map((function(e,t){return e.attributes})),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),featuresToExcel:function(){for(var e=[],t=0;t<this.tableData.length;t++)e[t]=this.tableData[t].attributes;return e},selectColumns:function(e,t,a){var n=a.target.checked;if(n)this.checkedColumns.push(t);else{var i=this.checkedColumns.findIndex((function(e){return e===t}));this.checkedColumns.splice(i,1)}},resizeHandler:function(e){this.resize.width=e.width,this.resize.height=e.height,this.resize.left=e.left,this.resize.top=e.top,this.resize.event=e.eventName,"mount"===e.eventName&&(this.resize.height=200)},update:function(){this.resize.top=window.innerHeight-200,this.resize.height=200,this.resize.width=window.innerWidth,this.resize.maxH=window.innerHeight,this.$forceUpdate()}},computed:{isActiveServiceLocal:function(){return E["h"].isLocalService(this.activeService)},isVisible:function(){return B["j"].getTableVisibility()},loading:function(){return B["j"].getTableLoadingStatus()},totalCount:function(){return this.tableData.totalCount},paging:{get:function(){return B["j"].getTablePaging()},set:function(e){B["j"].setTablePaging(e)}},tableName:function(){return this.tableData.tableName},tableHeaders:function(){return this.tableData.tableHeaders},tableStackedHeaders:{get:function(){return this.tableData.tableStackedHeaders},set:function(e){this.$store.dispatch("SAVE_DATATABLE_CHECKED_COLUMNS",e)}},tableHeadersWithAlias:function(){return this.tableData.tableHeadersWithAlias},checkedColumnsData:{get:function(){return this.tableData.checkedColumnsData},set:function(e){this.$store.dispatch("SAVE_DATATABLE_CHECKED_COLUMNS_DATA",e)}},checkedColumns:{get:function(){return this.tableData.checkedColumns},set:function(e){this.$store.dispatch("SAVE_DATATABLE_CHECKED_COLUMNS",e)}},tableData:{get:function(){var e=B["j"].getTableData();return e},set:function(e){B["j"].setTableData(e)}},editDataGid:{get:function(){var e=B["j"].getEditDataGid();return e},set:function(e){B["j"].setEditDataGid(e)}},activeService:function(){return B["j"].getTableActiveService()}},filters:{checkEmpty:function(e){return"number"!==typeof e?0:e}}},me=fe,be=(a("bf17"),Object(l["a"])(me,g,y,!1,null,null,null)),ve=be.exports,he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sidebar"},[a("div",{staticClass:"menu"},[a("div",{staticClass:"menu--top"},e._l(e.topMenu,(function(t){return a("div",{key:t.key,staticClass:"menu__item"},[a("button",{staticClass:"menu__item__button",attrs:{title:t.label},on:{click:t.click}},["Profile"==t.label&&e.notificationCount>0?a("span",{staticClass:"badge badge-notify"},[e._v(e._s(e.notificationCount))]):e._e(),a("img",{class:{active:e.activeMenuTab===t.key},attrs:{src:t.image,alt:""}})])])})),0),a("div",{staticClass:"menu--bottom"},e._l(e.bottomMenu,(function(t){return a("div",{key:t.key,staticClass:"menu__item"},[a("button",{staticClass:"menu__item__button",attrs:{title:t.label},on:{click:t.click}},[a("img",{class:{active:e.activeMenuTab===t.key},attrs:{src:t.image,alt:""}})])])})),0)]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isProfileTabActive,expression:"isProfileTabActive"}],staticClass:"profile-popup"},[a("div",{staticClass:"profile-popup-item",staticStyle:{cursor:"pointer"},on:{click:e.showProfileModal}},[a("span",[e._v("Profile")])]),a("div",{staticClass:"profile-popup-item",staticStyle:{cursor:"pointer"},on:{click:e.logout}},[a("span",[e._v("Log Out")]),a("i",{staticClass:"fas fa-power-off ml-1",attrs:{title:"Log out"}})])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isBaseMapTypeTabActive,expression:"isBaseMapTypeTabActive"}],staticClass:"layer-types"},e._l(e.baseMaps,(function(t,n){return a("div",{key:n,staticClass:"layer-types__item",class:{active:e.activeLayerType===n},on:{click:function(t){return e.setBaseLayout(n)}}},[e._v("\n      "+e._s(e.capitalize(n))+"\n    ")])})),0),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isDynamicLayerTabActive,expression:"isDynamicLayerTabActive"}],staticClass:"list layers"},[a("div",{staticClass:"list__header"},[e._v("Dynamic layers")]),a("div",{staticClass:"list__tabs"},[a("div",{staticClass:"tab",class:{"tab--active":"dynamicTab"===e.dynamicActiveTab},on:{click:function(t){return e.setDynamicActiveTab("dynamicTab")}}},[e._v("\n        Standard\n      ")]),a("div",{staticClass:"tab",class:{"tab--active":"bunchTab"===e.dynamicActiveTab},on:{click:function(t){return e.setDynamicActiveTab("bunchTab")}}},[e._v("\n        Customized\n      ")]),a("div",{staticClass:"tab",class:{"tab--active":"favoriteTab"===e.dynamicActiveTab},on:{click:function(t){return e.setDynamicActiveTab("favoriteTab")}}},[e._v("\n        Favorites\n      ")])]),a("div",{staticClass:"list__search"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.dynamicSearchInput,expression:"dynamicSearchInput"}],attrs:{type:"text",placeholder:"Search"},domProps:{value:e.dynamicSearchInput},on:{input:function(t){t.target.composing||(e.dynamicSearchInput=t.target.value)}}})]),"dynamicTab"===e.dynamicActiveTab?a("ul",{staticClass:"list__content list__content--parent custom-scrollbar"},[a("LayerTree",{attrs:{list:e.dynamicLayersList,dragOptions:{disabled:!1},layerType:e.serviceTypeEnum.DYNAMIC_LAYER},on:{updateList:function(t){e.dynamicLayersList=t}}})],1):e._e(),"bunchTab"===e.dynamicActiveTab?a("ul",{staticClass:"list__content list__content--parent custom-scrollbar"},[a("LayerTree",{attrs:{list:e.bunchLayerList,dragOptions:{disabled:!1},layerType:e.serviceTypeEnum.BUNCH},on:{updateList:function(t){e.bunchLayerList=t}}})],1):e._e(),"favoriteTab"===e.dynamicActiveTab?a("ul",{staticClass:"list__content list__content--parent custom-scrollbar"},[a("LayerTree",{attrs:{list:e.favoriteDynamicLayerList,dragOptions:{disabled:!0},layerType:e.serviceTypeEnum.DYNAMIC_LAYER}})],1):e._e(),"bunchTab"===e.dynamicActiveTab?a("button",{staticClass:"btn btn--add-new",on:{click:e.openComputedLayerModal}},[a("i",{staticClass:"fas fa-plus"}),e._v("  Add\n    ")]):e._e()]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isBaseLayerTabActive,expression:"isBaseLayerTabActive"}],staticClass:"list layers"},[a("div",{staticClass:"list__header"},[e._v("Basemaps")]),a("div",{staticClass:"list__tabs"},[a("div",{staticClass:"tab",class:{"tab--active":"baseTab"===e.basemapActiveTab},on:{click:function(t){return e.setBasemapActiveTab("baseTab")}}},[e._v("\n        Standard\n      ")]),a("div",{staticClass:"tab",class:{"tab--active":"favoriteTab"===e.basemapActiveTab},on:{click:function(t){return e.setBasemapActiveTab("favoriteTab")}}},[e._v("\n        Favorites\n      ")])]),a("div",{staticClass:"list__search"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.baseSearchInput,expression:"baseSearchInput"}],attrs:{type:"text",placeholder:"Search"},domProps:{value:e.baseSearchInput},on:{input:function(t){t.target.composing||(e.baseSearchInput=t.target.value)}}})]),"baseTab"===e.basemapActiveTab?a("ul",{staticClass:"list__content list__content--parent custom-scrollbar"},[a("LayerTree",{attrs:{list:e.baselayerList,dragOptions:{disabled:!1},layerType:e.serviceTypeEnum.BASE_LAYER},on:{updateList:function(t){e.baselayerList=t}}})],1):e._e(),"favoriteTab"===e.basemapActiveTab?a("ul",{staticClass:"list__content list__content--parent custom-scrollbar"},[a("LayerTree",{attrs:{list:e.favoriteBaseLayerList,dragOptions:{disabled:!0},layerType:e.serviceTypeEnum.BASE_LAYER}})],1):e._e()]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isToolTabActive,expression:"isToolTabActive"}],staticClass:"list tools"},[a("div",{staticClass:"list__header"},[e._v("Tools")]),a("ul",{staticClass:"list__content list__content--parent custom-scrollbar"},e._l(e.toolList,(function(t){return a("li",{key:t.key,staticClass:"list__item"},[a("div",{staticClass:"item__header",on:{click:t.click}},[a("span",{staticClass:"title"},[a("img",{staticClass:"pre",attrs:{src:t.image,alt:""}}),e._v("\n            "+e._s(t.label)+"\n          ")])])])})),0)])])},ge=[],ye=a("ed08"),Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Draggable",e._b({on:{start:function(t){e.isDragging=!0},end:e.onDraggableMoveCallback},model:{value:e.data,callback:function(t){e.data=t},expression:"data"}},"Draggable",e.dragOptions,!1),e._l(e.data,(function(t,n){return a("layer-tree-item",{key:t.name+n,attrs:{item:t,layerType:e.layerType,loop:1,dragOptions:e.dragOptions},on:{updateList:function(t){var a=e.data;a[n]=t,e.$emit("updateList",a)}}})})),1)},_e=[],Oe=a("310e"),Ee=a.n(Oe),Se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"list__item"},[n("span",{staticClass:"item__header",style:"padding-left: "+e.paddingLeft},[n("span",{staticClass:"title"},[e.isCategory?n("i",{staticClass:"far fa-folder pre"}):n("ToggleSwitch",{staticClass:"pre",model:{value:e.switchModel,callback:function(t){e.switchModel=t},expression:"switchModel"}}),e._v("\n      "+e._s(e.isCategory?e.data.name:e.data.showingLabel)+"\n    ")],1),e.caretIconsVisibility?n("span",[n("i",{directives:[{name:"show",rawName:"v-show",value:e.subListVisibility,expression:"subListVisibility"}],staticClass:"fas fa-caret-down",on:{click:e.toggleSubList}}),n("i",{directives:[{name:"show",rawName:"v-show",value:!e.subListVisibility,expression:"!subListVisibility"}],staticClass:"fas fa-caret-left",on:{click:e.toggleSubList}})]):e._e(),e.operationsVisibility?n("span",{staticClass:"icons"},[e.colorIconVisibility?n("img",{attrs:{src:a("9f3c"),alt:""},on:{click:e.toggleColorPicker}}):e._e(),e.tableIconVisibility?n("img",{attrs:{src:a("a93e"),alt:""},on:{click:function(t){return e.getTableData(e.data)}}}):e._e(),e.deleteIconVisibility?n("img",{attrs:{src:a("a91f"),alt:""},on:{click:e.deleteBunch}}):e._e()]):e._e()]),e.colorPickerVisibility?n("div",{staticClass:"mt-2 item__colorpicker__content"},[e.conditionSelectVisibility?n("v-select",{staticClass:"condition__select",attrs:{clearable:!1,options:e.conditions},model:{value:e.selectedColorOpt,callback:function(t){e.selectedColorOpt=t},expression:"selectedColorOpt"}}):e._e(),n("LayerColorPicker",{attrs:{borderColor:e.currentConditionColor.borderColor,fillColor:e.currentConditionColor.fillColor},on:{onSave:e.onColorPickerSave,onClose:e.colorPickerOnClose}})],1):e._e(),e.data.layers&&e.subListVisibility?n("ul",{staticClass:"list__content"},[n("Draggable",e._b({on:{start:function(t){e.isDragging=!0},end:e.onDraggableMoveCallback},model:{value:e.children,callback:function(t){e.children=t},expression:"children"}},"Draggable",e.dragOptions,!1),e._l(e.children,(function(t,a){return n("layer-tree-item",{key:t.name+a,attrs:{item:t,parent:e.data,layerType:e.layerType,loop:e.loop+1,dragOptions:e.dragOptions},on:{updateList:function(t){var n=e.data;n.children[a]=t,e.$emit("updateList",n)}}})})),1),n("Draggable",e._b({on:{start:function(t){e.isDragging=!0},end:e.onDraggableMoveCallback},model:{value:e.layers,callback:function(t){e.layers=t},expression:"layers"}},"Draggable",e.dragOptions,!1),e._l(e.layers,(function(t,a){return n("layer-tree-item",{key:t.name+a,attrs:{item:t,parent:e.data,layerType:e.layerType,loop:e.loop+1,dragOptions:e.dragOptions},on:{updateList:function(t){var n=e.data;n.layers[a]=t,e.$emit("updateList",n)}}})})),1)],1):e._e()])},Te=[],we=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"toggle-switch"},[a("input",{attrs:{type:"checkbox"},domProps:{checked:e.value},on:{change:e.onChange}}),a("span",{staticClass:"slider"})])},Le=[],ke={name:"ToggleSwitch",props:{value:{type:Boolean}},methods:{onChange:function(e){this.$emit("input",e)}}},Ie=ke,Ae=(a("16f4"),Object(l["a"])(Ie,we,Le,!1,null,null,null)),De=Ae.exports,xe=a("ee13"),je=a("8bb0"),Pe={name:"LayerTreeItem",components:{ToggleSwitch:De,Draggable:Ee.a,LayerColorPicker:d},props:{item:{type:Object,required:!0},parent:{type:Object},loop:{type:Number,default:1},layerType:{type:String,required:!0,default:""},dragOptions:{type:Object,default:function(){return{disabled:!1}}}},data:function(){return{subListVisibility:!1,layerIsSelected:!1,isDragging:!1,selectedColorOpt:{code:"default",label:"Default"}}},mounted:function(){},computed:{data:{get:function(){return this.item},set:function(e){this.$emit("updateList",e)}},children:{get:function(){return this.data.children},set:function(e){var t=this.data;t.children=e,this.data=t}},layers:{get:function(){return this.data.layers},set:function(e){var t=this.data;t.layers=e,this.data=t}},currentConditionColor:function(){var e=this,t="",a="";if("default"===this.selectedColorOpt.code)t=this.data.color.borderColor,a=this.data.color.fillColor;else{var n=this.data.layerColor.conditions.find((function(t){return t.id===parseInt(e.selectedColorOpt.code)}));t=n.borderColor,a=n.fillColor}return{borderColor:t,fillColor:a}},conditions:function(){var e={code:"default",label:"Default"},t=[e];if(this.data.layerColor){var a=this.data.layerColor,n=a.conditions.map((function(e){var t=e.id,n="".concat(a.column," ").concat(Object(xe["b"])(e.operator)," ").concat(e.value);return{code:t,label:n}}));t=[e].concat(Object(C["a"])(n))}return t},switchModel:{get:function(){return E["h"].isLayer(this.data)?this.data.isSelected:this.data.defaultVisibility},set:function(e){!1===e.target.checked&&(this.subListVisibility=!1),this.layerPicker(e)}},paddingLeft:function(){return 16*this.loop+"px"},isCategory:function(){return E["h"].isCategory(this.data)},caretIconsVisibility:function(){return this.isCategory||E["h"].isLayer(this.data)&&E["h"].isDynamicFromArcgis(this.data)&&this.data.isSelected},tableIconVisibility:function(){return this.data.isSelected&&(E["h"].isSublayer(this.data)||E["h"].isBunch(this.data)||E["h"].isLayer(this.data)&&E["h"].isDynamicFromLocal(this.data))},conditionSelectVisibility:function(){return this.data.layerColor&&this.data.layerColor.conditions.length>0},colorIconVisibility:function(){return this.data.isSelected&&this.data.isColorEnabled&&(E["h"].isSublayer(this.data)||E["h"].isBunch(this.data)||E["h"].isLayer(this.data)&&E["h"].isDynamicFromLocal(this.data))},deleteIconVisibility:function(){return this.data.isColorEnabled&&E["h"].isBunch(this.data)},operationsVisibility:function(){return this.tableIconVisibility||this.colorIconVisibility||this.deleteIconVisibility},colorPickerVisibility:function(){return this.data.isSelected&&this.activeColorPickerId===this.getLayerId()},activeColorPickerId:{get:function(){return this.$store.getters.activeColorPickerId},set:function(e){this.$store.dispatch("SAVE_ACTIVE_COLOR_PICKER_ID",e)}}},methods:{updateList:function(e){this.$emit("updateList",e)},onDraggableMoveCallback:function(){B["i"].onDraggableMoveCallback(this.layerType)},toggleSubList:function(){this.subListVisibility=!this.subListVisibility,this.subListVisibility&&B["i"].dynamicLayersReset(this.data,this.subListVisibility)},onColorPickerSave:function(e){var t=this;new Promise((function(a,n){B["i"].saveColor(t.data,e,t.selectedColorOpt),a()})).then((function(){B["e"].refreshService(t.data.id)}))},colorPickerOnClose:function(){this.activeColorPickerId=null},layerPicker:function(e){var t=e.target.checked;E["h"].isSublayer(this.data)?B["i"].selectSubLayer(this.parent,this.parent.order,this.data.id,t):(B["i"].selectService(this.data,t),B["i"].dynamicLayersReset(this.data,t))},getTableData:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=E["h"].isSublayer(t)?t.parent:t,e.next=3,B["j"].getTable(a);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),getLayerId:function(){var e=0;return E["h"].isSublayer(this.data)?e=this.data.uid:E["h"].isLayer(this.data)&&E["h"].isDynamicFromLocal(this.data)&&(e=this.data.id),e},toggleColorPicker:function(){this.activeColorPickerId===this.getLayerId()?this.activeColorPickerId=null:this.activeColorPickerId=this.getLayerId()},deleteBunch:function(){var e=this;je["a"].remove(this.data.id).then((function(t){B["a"].remove(e.data.id),B["e"].deleteService(e.data)}))}}},Me=Pe,Re=(a("20bc"),Object(l["a"])(Me,Se,Te,!1,null,"10119f2d",null)),Be=Re.exports,Ne={name:"LayerTree",components:{Draggable:Ee.a,LayerTreeItem:Be},props:{layerType:{required:!0,type:String},list:{type:Array,required:!0},dragOptions:{type:Object,default:function(){return{disabled:!1}}}},data:function(){return{isDragging:!1}},methods:{onDraggableMoveCallback:function(){B["i"].onDraggableMoveCallback(this.layerType)}},computed:{data:{get:function(){return this.list},set:function(e){this.$emit("updateList",e)}}}},Fe=Ne,Ve=Object(l["a"])(Fe,Ce,_e,!1,null,null,null),Ge=Ve.exports,He={name:"Sidebar",components:{LayerTree:Ge},data:function(){return{dynamicSearchInput:"",baseSearchInput:"",serviceTypeEnum:Z["d"],activeLayerType:"gray",dynamicActiveTab:"dynamicTab",basemapActiveTab:"baseTab",baseMaps:B["e"].getBaseMaps()}},mounted:function(){},computed:{isProfileTabActive:function(){return this.activeMenuTab===Z["b"].PROFILE},notificationCount:function(){return B["f"].getNotificationCount()},isToolTabActive:function(){return this.activeMenuTab===Z["b"].TOOL},isDynamicLayerTabActive:function(){return this.activeMenuTab===Z["b"].DYNAMIC_LAYER},isBaseLayerTabActive:function(){return this.activeMenuTab===Z["b"].BASE_LAYER},isBaseMapTypeTabActive:function(){return this.activeMenuTab===Z["b"].BASE_MAP_TYPE},activeMenuTab:function(){return B["f"].getActiveMenuTab()},topMenu:function(){return B["f"].getTopMenu()},bottomMenu:function(){return B["f"].getBottomMenu()},toolList:function(){return B["f"].getToolList()},bunchLayerList:{get:function(){var e=B["a"].getBunchLayerList();return this.filteredList(e,this.dynamicSearchInput)},set:function(e){this.$store.dispatch("saveBuncLayerList",e)}},dynamicLayersList:{get:function(){var e=B["d"].getDynamicLayerList();return this.filteredList(e,this.dynamicSearchInput)},set:function(e){this.$store.dispatch("saveDynamicLayerList",e)}},baselayerList:{get:function(){var e=B["d"].getBaseLayerList();return this.filteredList(e,this.baseSearchInput)},set:function(e){this.$store.dispatch("saveBaseLayerList",e)}},favoriteBaseLayerList:{get:function(){var e=B["d"].getFavoriteBaseLayerIds(),t=B["d"].getBaseLayersWithoutCategory(),a=t.filter((function(t){return e.includes(t.id)}));return this.filteredList(a,this.baseSearchInput)},set:function(e){this.$store.dispatch("saveBaseLayerList",e)}},favoriteDynamicLayerList:{get:function(){var e=B["d"].getFavoriteDynamicLayerIds(),t=B["d"].getDynamicLayersWithoutCategory(!1),a=t.filter((function(t){return e.includes(t.id)}));return this.filteredList(a,this.dynamicSearchInput)},set:function(e){this.$store.dispatch("saveDynamicLayerList",e)}}},methods:{guid:ye["c"],capitalize:ye["a"],filteredList:function(e,t){var a=Object(ye["b"])(e);e=E["e"].treeFilter(a,t);return e},logout:function(){R["a"].logout(),this.$router.push("/login")},showProfileModal:function(){B["g"].showProfileModalModal()},setBaseLayout:function(e){this.activeLayerType=e,B["e"].setBaseLayout(e)},setDynamicActiveTab:function(e){this.dynamicActiveTab=e},setBasemapActiveTab:function(e){this.basemapActiveTab=e},openComputedLayerModal:function(){this.$moodal.computedLayerModal.show()}}},Ue=He,ze=(a("3e33"),Object(l["a"])(Ue,he,ge,!1,null,null,null)),$e=ze.exports,qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",{staticClass:"centerize margin-bottom-1halfrem margin-top-halfrem"},[e._v("\n    Report\n  ")]),a("table",{staticClass:"table popupTable"},[e._m(0),a("tbody",{staticClass:"popupTableBody"},e._l(Object.keys(e.result),(function(t){return a("tr",{key:t,staticClass:"centerize"},[a("td",{staticClass:"paddingLeft"},[e._v("\n          "+e._s(t)+"\n        ")]),a("td",{staticClass:"paddingRight"},[e._v("\n          "+e._s(e.result[t])+"\n        ")])])})),0)])])},Qe=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",{staticClass:"fields centerize"},[a("th",{staticClass:"paddingLeft"},[e._v("Field")]),a("th",{staticClass:"paddingRight"},[e._v("Value")])])])}],Ye={name:"Report",props:{result:{type:Object}}},Ze=Ye,Ke=Object(l["a"])(Ze,qe,Qe,!1,null,null,null),We=Ke.exports,Xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"map-controls",attrs:{id:"map-controls"}},[n("div",{staticClass:"search"},[e._m(0),n("div",{staticClass:"search__select"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchInputValue,expression:"searchInputValue"}],staticClass:"search__input",class:{"search__input--expanded":e.searchExpanded},attrs:{type:"text",placeholder:"Search"},domProps:{value:e.searchInputValue},on:{input:function(t){t.target.composing||(e.searchInputValue=t.target.value)}}}),n("div",{staticClass:"search__results custom-scrollbar"},[n("ul",e._l(e.citiesToShow,(function(t,a){return n("li",{key:a,on:{click:function(a){return e.onCitySelect(t)}}},[e._v("\n            "+e._s(t.city)+"\n          ")])})),0)])]),n("button",{staticClass:"control__button search__button",on:{click:function(t){e.searchExpanded=!e.searchExpanded}}},[n("img",{attrs:{src:a("f919"),alt:"Home"}})])]),n("div",{staticClass:"control__button--group"},[n("button",{staticClass:"control__button",on:{click:e.zoomIn}},[n("img",{attrs:{src:a("6cf9"),alt:"Home"}})]),n("button",{staticClass:"control__button",on:{click:e.zoomOut}},[n("img",{attrs:{src:a("f11b"),alt:"Home"}})])]),n("div",{staticClass:"control__button--group"},[n("button",{staticClass:"control__button",on:{click:e.zoomToCenter}},[n("img",{attrs:{src:a("7936"),alt:"Home"}})]),n("button",{staticClass:"control__button",attrs:{disabled:!e.isPreviousExist},on:{click:e.historyBack}},[n("img",{attrs:{src:a("cee4"),alt:"Back"}})]),n("button",{staticClass:"control__button",attrs:{disabled:!e.isNextExist},on:{click:e.historyNext}},[n("img",{attrs:{src:a("adc4"),alt:"Next"}})])])])},Je=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search__logo"},[n("img",{attrs:{src:a("293c4"),alt:"Azercosmos logo"}})])}],et=(a("55dd"),a("256f")),tt=a("3b25"),at={name:"MapControls",data:function(){return{searchExpanded:!1,cities:tt,searchInputValue:""}},methods:{onCitySelect:function(e){this.map.getView().setCenter(Object(et["fromLonLat"])([parseFloat(e.lng),parseFloat(e.lat)])),this.map.getView().setZoom(11),this.searchInputValue=e.city},zoomIn:function(){this.map.getView().setZoom(this.map.getView().getZoom()+1)},zoomOut:function(){this.map.getView().setZoom(this.map.getView().getZoom()-1)},zoomToCenter:function(){this.map.getView().setCenter(Object(et["fromLonLat"])([47.82858,40.3598414])),this.map.getView().setZoom(8),this.searchInputValue=""},historyBack:function(){B["c"].historyBack(this)},historyNext:function(){B["c"].historyNext(this)}},computed:{isNextExist:function(){return B["c"].getHistoryIsNextExist()},isPreviousExist:function(){return B["c"].getHistoryIsPreviousExist()},map:{get:function(){return B["e"].getMap()},set:function(e){B["e"].setMap(e)}},citiesToShow:function(){var e=this;return this.cities.filter((function(t){return t.city.toLowerCase().includes(e.searchInputValue.toLowerCase())})).sort((function(e,t){return e.city>t.city?1:e.city<t.city?-1:0}))}}},nt=at,it=(a("f035"),Object(l["a"])(nt,Xe,Je,!1,null,null,null)),rt=it.exports,st=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"fade"}},[e.isMounted?a("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"Modal modal--overlay",attrs:{id:e.name},on:{click:function(t){return t.target!==t.currentTarget?null:e.hide(t)}}},[a("div",{staticClass:"modal__content",style:e.contentStyle},[a("div",{staticClass:"modal__header"},[a("div",{staticClass:"header__title"},[e._v(e._s(e.title))]),a("div",{staticClass:"header__close"},[a("i",{staticClass:"fas fa-times",on:{click:e.hide}})])]),a("div",{staticClass:"modal__body custom-scrollbar"},[e._t("default")],2)])]):e._e()])},ot=[],ct=a("2b0e"),lt={name:"Moodal",props:{name:{type:String},height:{type:[Number,String]},width:{type:[Number,String]},minHeight:{type:Number,default:100},minWidth:{type:Number,default:200},maxHeight:{type:Number,default:window.innerHeight},maxWidth:{type:Number,default:window.innerWidth},title:{type:String,default:""},mounted:{type:Boolean,default:!0}},data:function(){return{isMounted:this.mounted,visible:!1}},computed:{contentStyle:function(){var e=[];if(this.width){var t="";"number"===typeof this.width?t=this.width+"px":"string"===typeof this.width&&(t=this.width),e.push("width: ".concat(t,";"))}if(this.height){var a="";"number"===typeof this.height?a=this.height+"px":"string"===typeof this.height&&(a=this.height),e.push("height: ".concat(a,";"))}return this.minWidth&&e.push("min-width: ".concat(this.minWidth,"px;")),this.minHeight&&e.push("min-height: ".concat(this.minHeight,"px;")),this.maxWidth&&e.push("max-width: ".concat(this.maxWidth,"px;")),this.maxHeight&&e.push("max-height: ".concat(this.maxHeight<window.innerHeight,"px;")),e.join(" ")}},methods:{open:function(){this.$emit("beforeOpen"),this.isMounted=!0,this.show(),this.$emit("afterOpen")},close:function(){this.$emit("beforeClose"),this.isMounted=!1,this.hide(),this.$emit("afterClose")},show:function(){this.$emit("beforeShow"),this.visible=!0,this.$emit("afterShow")},hide:function(){this.$emit("beforeHide"),this.visible=!1,this.$emit("afterHide")}},created:function(){this.$moodal||(ct["default"].prototype.$moodal={}),this.$moodal[this.name]=this}},ut=lt,dt=Object(l["a"])(ut,st,ot,!1,null,null,null),pt=dt.exports,ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tree"},e._l(e.data,(function(t,n){return a("ul",{key:n},[a("tree-item",{attrs:{node:t,options:e.options,checkeds:e.checkedIds},on:{setCheckeds:e.setCheckeds,onChange:e.onChange}})],1)})),0)},mt=[],bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticStyle:{margin:"10px 0px"}},[e.checkCategoryCondition()?a("span",{staticClass:"tree-item",on:{click:function(){e.isOpen=!e.isOpen}}},[a("strong",[e._v(e._s(e.node[e.getNameKey()]))]),a("i",{staticClass:" m-1 ",class:{"fa fa-plus":!e.isOpen,"fa fa-minus":e.isOpen}})]):a("span",{staticClass:"tree-item"},[e._v(" "+e._s(e.node[e.getNameKey()]))]),e.isCheckboxExist&&e.checkCheckboxCondition()?a("input",{staticClass:"form-check-input tree-checkbox",attrs:{type:"checkbox"},domProps:{checked:e.isCheckedsPropertyExist&&e.checkeds.includes(e.node[e.getIdKey()])},on:{change:function(t){var a=t.target.checked;e.onChange(e.node,a)}}}):e._e(),e.node[e.getChildrenKey()]?a("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}]},e._l(e.node[e.getChildrenKey()],(function(t,n){return a("ul",{key:n},[a("tree-item",{attrs:{node:t,options:e.options,checkeds:e.checkeds},on:{onChange:e.onChange}})],1)})),0):e._e(),e.node[e.getItemKey()]?a("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}]},e._l(e.node[e.getItemKey()],(function(t,n){return a("ul",{key:n},[a("tree-item",{attrs:{node:t,options:e.options,checkeds:e.checkeds},on:{onChange:e.onChange}})],1)})),0):e._e()])},vt=[],ht=(pe={name:"TreeItem",props:{node:{type:Object,required:!0},options:{type:Object},checkeds:{type:Array}},mounted:function(){},data:function(){return{isOpen:!1}},watch:{data:{deep:!0,handler:function(e,t){this.data=e}},options:{deep:!0,handler:function(e,t){this.options=e}},checkeds:{deep:!0,handler:function(e,t){this.checkeds=e}}}},Object(O["a"])(pe,"mounted",(function(){this.isOpen=!this.isCollapsed})),Object(O["a"])(pe,"computed",{isCheckboxExist:function(){return this.options&&this.options.checkbox&&1==this.options.checkbox},isCollapsed:function(){return this.options&&this.options.collapsed},isCheckedsPropertyExist:function(){return this.options&&this.checkeds}}),Object(O["a"])(pe,"methods",{toggle:function(){this.isOpen=!this.isOpen},onChange:function(e,t){if(this.isCheckedsPropertyExist){if(t)this.checkeds.includes(e.id)||this.checkeds.push(e.id);else if(this.checkeds.includes(e.id)){var a=this.checkeds.findIndex((function(t){return t==e.id}));this.checkeds.splice(a,1)}this.$emit("setCheckeds",this.checkeds)}this.$emit("onChange",e,t)},getChildrenKey:function(){return this.isOptionLabelsPropertyExist("children")?this.options.labels.children:null},getItemKey:function(){return this.isOptionLabelsPropertyExist("items")?this.options.labels.items:null},getNameKey:function(){return this.isOptionLabelsPropertyExist("name")?this.options.labels.name:null},getIdKey:function(){return this.isOptionLabelsPropertyExist("id")?this.options.labels.id:null},checkCategoryCondition:function(){return!!this.isOptionConditionsPropertyExist("isCategory")&&this.options.conditions.isCategory(this.node)},checkCheckboxCondition:function(){return!!this.isOptionCheckboxPropertyExist()&&this.options.conditions.isCheckboxExist(this.node)},isOptionLabelsPropertyExist:function(e){return this.options&&this.options.labels&&this.options.labels[e]},isOptionConditionsPropertyExist:function(e){return this.options&&this.options.conditions&&this.options.conditions[e]},isOptionCheckboxPropertyExist:function(e){return this.options&&this.options.checkbox}}),pe),gt=ht,yt=Object(l["a"])(gt,bt,vt,!1,null,null,null),Ct=yt.exports,_t={name:"Tree",components:{TreeItem:Ct},data:function(){return{checkedIds:[]}},props:{data:{type:Array,required:!0},options:{type:Object},checkeds:{type:Array}},watch:{data:{deep:!0,handler:function(e,t){this.data=e}},options:{deep:!0,handler:function(e,t){this.options=e}},checkeds:{deep:!0,handler:function(e,t){this.checkeds=e}}},mounted:function(){this.checkedIds=this.checkeds?this.checkeds:[]},methods:{onChange:function(e,t){this.$emit("onCheckboxChange",e,t)},setCheckeds:function(e){this.checkedIds=e},getCheckeds:function(){return this.checkedIds}}},Ot=_t,Et=Object(l["a"])(Ot,ft,mt,!1,null,null,null),St=Et.exports,Tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],staticClass:"modal overlay",attrs:{id:"infoModal",tabindex:"-1",role:"dialog","aria-labelledby":"infoModalLabel","aria-hidden":"true"},on:{click:function(t){return t.target!==t.currentTarget?null:e.$emit("close")}}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("ul",{staticClass:"nav nav-tabs"},[e._l(e.tabs,(function(t){return a("li",{key:t.key,staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:t.key===e.activeTab},attrs:{href:"#"},on:{click:function(a){return e.changeTab(t.key)}}},[e._v(e._s(t.text))])])})),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(t){return e.$emit("close")}}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])],2)]),e.isOpen?a("div",{staticClass:"modal-body"},["about"===e.activeTab?a("About"):e._e(),"faq"===e.activeTab?a("FAQ"):e._e(),"releaseNotes"===e.activeTab?a("ReleaseNotes"):e._e(),"contact"===e.activeTab?a("Contact"):e._e(),"forum"===e.activeTab?a("Forum"):e._e()],1):e._e()])])])])},wt=[],Lt=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},kt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"about"},[a("h3",[e._v("What is WebGIS?")]),a("p",[e._v("WebGIS is an online platform that ensures safety of sharing of satellite imagery with clients of Azercosmos and provides them with a source for independent processing of the images online.")])])}],It={name:"About"},At=It,Dt=(a("6994"),Object(l["a"])(At,Lt,kt,!1,null,null,null)),xt=Dt.exports,jt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.loading?a("Loader"):e._e(),a("div",{staticClass:"accordion"},e._l(e.questions,(function(t){return a("div",{key:t.id,staticClass:"card"},[a("div",{staticClass:"card-header"},[a("h5",{staticClass:"mb-0"},[a("button",{staticClass:"btn btn-link",class:{collapsed:e.activeQuestionIds!==t.id},on:{click:function(a){return e.toggleAccordion(t.id)}}},[e._v("\n                        "+e._s(t.question)+"\n                    ")])])]),a("transition",{attrs:{name:"collapse",delay:"0"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.activeQuestionIds.includes(t.id),expression:"activeQuestionIds.includes(question.id)"}],staticClass:"collapse-body"},[a("div",{staticClass:"card-body"},[e._v(e._s(t.answer))])])])],1)})),0)],1)},Pt=[],Mt={getFAQ:function(){return N["a"].get(M["m"]+"/api/faq")},getReleaseNotes:function(){return N["a"].get(M["m"]+"/api/releasenote")},sendMessage:function(e){return N["a"].post(M["m"]+"/api/mail/contact-us",e)}},Rt=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Bt=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loader"},[n("img",{attrs:{src:a("4045"),alt:""}})])}],Nt={name:"Loader"},Ft=Nt,Vt=(a("9b72"),Object(l["a"])(Ft,Rt,Bt,!1,null,null,null)),Gt=Vt.exports,Ht={name:"FAQ",components:{Loader:Gt},data:function(){return{activeQuestionIds:[],loading:!1}},methods:{getFAQ:function(){var e=this;this.loading=!0,Mt.getFAQ().then((function(t){t.data&&e.$store.commit("SET_FAQ_DATA",t.data),e.loading=!1})).catch((function(t){e.loading=!1}))},toggleAccordion:function(e){if(this.activeQuestionIds.includes(e)){var t=this.activeQuestionIds.findIndex((function(t){return t===e}));this.activeQuestionIds.splice(t,1)}else this.activeQuestionIds.push(e)},labelClick:function(e){!0===e.target.checked&&document.querySelectorAll(".toggle").forEach((function(t){t.getAttribute("data-index")!==e.target.getAttribute("data-index")&&(t.checked=!1)}))}},mounted:function(){this.questions.length||this.getFAQ()},computed:{questions:function(){return this.$store.state.information.faq.data}}},Ut=Ht,zt=(a("6606"),Object(l["a"])(Ut,jt,Pt,!1,null,null,null)),$t=zt.exports,qt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.loading?a("Loader"):e._e(),e._l(e.notes,(function(t){return a("div",{key:t.id,staticClass:"release-note"},[a("div",{staticClass:"date"},[a("b",[e._v(e._s(e.formatDate(t.dateCreated)))])]),a("p",{staticClass:"content"},[e._v(e._s(t.note))])])}))],2)},Qt=[],Yt=a("5a0c"),Zt=a.n(Yt),Kt={name:"ReleaseNotes",components:{Loader:Gt},data:function(){return{loading:!1}},methods:{getReleaseNotes:function(){var e=this;this.loading=!0,Mt.getReleaseNotes().then((function(t){t.data&&(e.releaseNotesData=t.data),e.loading=!1})).catch((function(t){e.loading=!1}))},formatDate:function(e){return Zt()(e).format("DD MMMM YYYY")}},mounted:function(){this.notes.length||this.getReleaseNotes()},computed:{notes:function(){return this.$store.state.information.releaseNotes.data}}},Wt=Kt,Xt=(a("6092"),Object(l["a"])(Wt,qt,Qt,!1,null,null,null)),Jt=Xt.exports,ea=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("transition",{attrs:{name:"collapse"}},[e.messageSent?a("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[e._v("\n      Your message has been sent\n    ")]):e._e()]),a("form",{staticClass:"contact-block"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"subject"}},[e._v("Subject")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.subject,expression:"subject"}],staticClass:"form-control",class:{"is-invalid":e.subjectIsInvalid},attrs:{type:"text",id:"subject",placeholder:"Subject",required:""},domProps:{value:e.subject},on:{input:function(t){t.target.composing||(e.subject=t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"content"}},[e._v("Content")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],staticClass:"form-control",class:{"is-invalid":e.messageIsInvalid},attrs:{id:"content",rows:"3",placeholder:"Content",required:""},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}})]),a("button",{staticClass:"btn btn-primary submit-btn",attrs:{type:"submit",disabled:e.loading},on:{click:function(t){return t.preventDefault(),e.sendMessage(t)}}},[e._v("\n      Submit\n    ")])])],1)},ta=[],aa={name:"Contact",data:function(){return{subject:null,message:null,loading:!1,messageSent:!1}},methods:{sendMessage:function(){var e=this;this.loading=!0;var t={subject:this.subject.trim(),message:this.message.trim()};Mt.sendMessage(t).then((function(t){200===t.status&&(e.subject=null,e.message=null,e.messageSent=!0,setTimeout((function(){e.messageSent=!1}),5e3)),e.loading=!1})).catch((function(t){e.loading=!1}))}},computed:{subjectIsInvalid:function(){return null!==this.subject&&""===this.subject.trim()},messageIsInvalid:function(){return null!==this.message&&""===this.message.trim()}}},na=aa,ia=(a("6511"),Object(l["a"])(na,ea,ta,!1,null,null,null)),ra=ia.exports,sa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"Forum"}},["list"===e.activeBlock?a("IssueList",{on:{openIssue:e.openIssue,newIssue:function(t){e.activeBlock="newIssue"}}}):e._e(),"detailed"===e.activeBlock?a("IssueDetailed",{attrs:{openIssueId:e.openIssueId},on:{back:function(t){e.activeBlock="list"}}}):e._e(),"newIssue"===e.activeBlock?a("NewIssue",{on:{back:function(t){e.activeBlock="list"},openIssue:e.openIssue}}):e._e()],1)},oa=[],ca={getCategories:function(){return N["a"].get(M["m"]+"/api/forum/Category")},getIssues:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return N["a"].get(M["m"]+"/api/forum/Post/Statuses/"+e)},getIssueById:function(e){return N["a"].get(M["m"]+"/api/forum/Post/"+e)},getIssueCount:function(){return N["a"].get(M["m"]+"/api/forum/Post/Counts")},insertIssue:function(e){return N["a"].post(M["m"]+"/api/forum/Post",e)},deleteIssue:function(e){return N["a"].delete(M["m"]+"/api/forum/Post/"+e)},insertComment:function(e){return N["a"].post(M["m"]+"/api/forum/Comment",e)},deleteComment:function(e){return N["a"].delete(M["m"]+"/api/forum/Comment/"+e)},closeIssue:function(e){return N["a"].put(M["m"]+"/api/forum/Post/".concat(e,"/Close"))}},la=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"issue-list"},[a("div",{staticClass:"issue__action-bar"},[a("div",{staticClass:"action-bar__fields"},[a("div",{staticClass:"btn-group",attrs:{role:"group"}},[a("button",{staticClass:"btn",class:1===e.activeTab?"btn-primary":"btn-light",attrs:{type:"button"},on:{click:function(t){return e.changeActiveTab(1)}}},[a("i",{staticClass:"fas fa-exclamation-circle issue-icon issue-icon--open"}),e._v("\n          "+e._s(e.issueCount.open)+" Open issues\n        ")]),a("button",{staticClass:"btn",class:2===e.activeTab?"btn-primary":"btn-light",attrs:{type:"button"},on:{click:function(t){return e.changeActiveTab(2)}}},[a("i",{staticClass:"far fa-check-circle issue-icon issue-icon--closed"}),e._v("\n          "+e._s(e.issueCount.closed)+" Closed issues\n        ")])]),a("select",{staticClass:"form-control category",attrs:{placeholder:"Filter by category"},on:{change:e.handleFilter}},[a("option",{domProps:{value:0,selected:0===e.activeCategoryId}},[e._v("All")]),e._l(e.categories,(function(t){return a("option",{key:t.id,domProps:{value:t.id,selected:e.activeCategoryId===t.id}},[e._v(e._s(t.name))])}))],2)]),a("div",[a("button",{staticClass:"btn btn-primary new-issue",attrs:{type:"button"},on:{click:function(t){return e.$emit("newIssue")}}},[e._v("\n        Create issue\n      ")])])]),e.loading?a("Loader"):e._e(),e.activeIssueList.length?a("div",{staticClass:"card issues-card"},[a("ul",{staticClass:"list-group list-group-flush"},e._l(e.activeIssueList,(function(t){return a("li",{key:t.id,staticClass:"list-group-item issues-card__item",on:{click:function(a){return e.openIssue(t.id)}}},[a("i",{staticClass:"issue-icon",class:e.issueIconClass}),a("span",[e._v(e._s(t.title))]),a("span",{staticClass:"issue__date"},[e._v(e._s(e.formatDate(t.dateCreated)))])])})),0)]):e._e()],1)},ua=[];function da(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function pa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?da(Object(a),!0).forEach((function(t){Object(O["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):da(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var fa={name:"IssueList",components:{Loader:Gt},data:function(){return{filteredIssues:{open:[],closed:[]},loading:!1}},methods:{getOpenIssues:function(){var e=this;this.loading=!0,ca.getIssues(1).then((function(t){t.data&&(e.$store.commit("SET_OPEN_ISSUES",t.data),e.filteredIssues.open=t.data,e.loading=!1)})).catch()},getClosedIssues:function(){var e=this;this.loading=!0,ca.getIssues(2).then((function(t){t.data&&(e.$store.commit("SET_CLOSED_ISSUES",t.data),e.filteredIssues.closed=t.data,e.loading=!1)})).catch()},getIssueCount:function(){var e=this;ca.getIssueCount().then((function(t){t.data&&(e.$store.state.forum.issueCount=t.data)})).catch()},openIssue:function(e){this.$emit("openIssue",e)},handleFilter:function(e){this.$store.commit("SET_ACTIVE_CATEGORY_ID",Number(e.target.value)),this.filterList()},filterList:function(){var e=this;0!==this.activeCategoryId?(this.filteredIssues.open=this.issues.open.filter((function(t){return t.categoryId===e.activeCategoryId})),this.filteredIssues.closed=this.issues.closed.filter((function(t){return t.categoryId===e.activeCategoryId}))):this.filteredIssues=pa({},this.issues)},changeActiveTab:function(e){this.$store.commit("SET_ACTIVE_TAB",e),1!==e||this.issues.open.length?2!==e||this.issues.closed.length||this.getClosedIssues():this.getOpenIssues()},formatDate:E["d"].formatDate},mounted:function(){this.issues.open.length?this.filterList():this.getOpenIssues(),this.issueCount.open+this.issueCount.closed||this.getIssueCount()},computed:{issues:function(){return this.$store.state.forum.issueList},issueCount:function(){return this.$store.state.forum.issueCount},activeTab:function(){return this.$store.state.forum.activeTab},activeCategoryId:function(){return this.$store.state.forum.activeCategoryId},activeIssueList:function(){return 1===this.activeTab?this.filteredIssues.open:this.filteredIssues.closed},issueIconClass:function(){return 1===this.activeTab?"fas fa-exclamation-circle issue-icon--open":"far fa-check-circle issue-icon--closed"},categories:function(){return this.$store.state.forum.categories}}},ma=fa,ba=(a("8dc4"),Object(l["a"])(ma,la,ua,!1,null,"a5e95858",null)),va=ba.exports,ha=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("button",{staticClass:"btn btn-light back-btn",attrs:{type:"button"},on:{click:e.back}},[a("i",{staticClass:"fas fa-arrow-left"}),e._v(" Back\n  ")]),e.loading?a("Loader"):e._e(),e.issue?a("div",{staticClass:"issue-details"},[a("div",{staticClass:"issue__header"},[1===e.issue.status?a("i",{staticClass:"fas fa-exclamation-circle issue-icon issue-icon--open"}):a("i",{staticClass:"far fa-check-circle issue-icon issue-icon--closed"}),a("div",[a("h3",{staticClass:"issue__title"},[e._v("\n          "+e._s(e.issue.title)+"\n          "),a("div",{staticClass:"btn-group"},[e.showCloseBtn(e.issue)?a("button",{staticClass:"btn btn-sm btn-success",attrs:{type:"button"},on:{click:e.closeIssue}},[e._v("\n              Close\n            ")]):e._e(),e.showDeleteBtn?a("button",{staticClass:"btn btn-sm btn-light",attrs:{type:"button"},on:{click:function(t){return e.deletePost(e.issue.id)}}},[a("i",{staticClass:"far fa-trash-alt"})]):e._e()])]),a("div",[a("span",{staticClass:"issue__author"},[e._v(e._s(e.issue.user.userName))]),a("span",{staticClass:"issue__date",attrs:{title:e.formatDateTime(e.issue.dateCreated)}},[e._v(e._s(e.formatDate(e.issue.dateCreated)))])])])]),a("div",{staticClass:"issue__content",domProps:{innerHTML:e._s(e.issue.content)}}),a("Comments",{attrs:{rawComments:e.issue.comments,postId:e.issue.id}})],1):e._e()],1)},ga=[],ya=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"issue__comments"},[e._l(e.comments,(function(t){return a("div",{key:t.id,staticClass:"issue__comment"},[a("div",{staticClass:"card"},[a("h6",{staticClass:"card-header"},[a("div",[a("span",{staticClass:"issue__author"},[e._v(e._s(t.user.userName))]),a("span",{staticClass:"issue__date",attrs:{title:e.formatDateTime(t.dateCreated)}},[e._v(e._s(e.formatDate(t.dateCreated)))])]),a("div",{staticClass:"btn-group"},[e.showDeleteBtn?a("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:function(a){return e.deleteComment(t.id)}}},[a("i",{staticClass:"far fa-trash-alt"})]):e._e(),a("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:function(a){return e.setActiveReplyId(t.id)}}},[a("i",{staticClass:"fas fa-reply"})])])]),a("div",{staticClass:"card-body",domProps:{innerHTML:e._s(t.content)}})]),a("div",{staticClass:"issue__comment_replies"},[a("NewComment",{directives:[{name:"show",rawName:"v-show",value:t.id===e.activeReplyId,expression:"comment.id === activeReplyId"}],attrs:{replyId:t.id},on:{submitComment:e.submitComment}}),e._l(t.replies,(function(t){return a("div",{key:t.id,staticClass:"issue__comment"},[a("div",{staticClass:"card"},[a("h6",{staticClass:"card-header"},[a("div",[a("span",{staticClass:"issue__author"},[e._v(e._s(t.user.userName))]),a("span",{staticClass:"issue__date",attrs:{title:e.formatDateTime(t.dateCreated)}},[e._v(e._s(e.formatDate(t.dateCreated)))])]),e.showDeleteBtn?a("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:function(a){return e.deleteComment(t.id)}}},[a("i",{staticClass:"far fa-trash-alt"})]):e._e()]),a("div",{staticClass:"card-body",domProps:{innerHTML:e._s(t.content)}})])])}))],2)])})),e.loading?a("Loader"):e._e(),a("NewComment",{on:{submitComment:e.submitComment}}),e._m(0)],2)])},Ca=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal show",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[e._v("Modal title")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),a("div",{staticClass:"modal-body"},[a("p",[e._v("Modal body text goes here.")])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("\n              Close\n            ")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[e._v("\n              Save changes\n            ")])])])])])}],_a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"issue__comment new-comment"},[a("div",{staticClass:"card"},[a("h6",{staticClass:"card-header"},[a("div",[a("span",{staticClass:"issue__author"},[e._v(e._s(e.title))])])]),a("div",{staticClass:"card-body"},[a("quill-editor",{ref:"newComment",attrs:{options:e.editorOption},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)]),a("button",{staticClass:"btn btn-primary submit-btn",attrs:{type:"button",disabled:!e.content},on:{click:e.submitComment}},[e._v("Submit")])])])},Oa=[],Ea={name:"NewComment",props:{replyId:{type:Number}},data:function(){return{content:"",editorOption:{}}},methods:{submitComment:function(){var e={content:this.content,parentId:this.replyId};this.$emit("submitComment",e),this.content=""}},computed:{title:function(){return this.replyId?"New reply":"New comment"}}},Sa=Ea,Ta=(a("4397"),Object(l["a"])(Sa,_a,Oa,!1,null,"53c759f6",null)),wa=Ta.exports;function La(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ka(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?La(Object(a),!0).forEach((function(t){Object(O["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):La(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ia={name:"Comments",components:{NewComment:wa,Loader:Gt},props:{rawComments:{type:Array},postId:{type:Number}},data:function(){return{comments:[],activeReplyId:null,loading:!1}},methods:{setActiveReplyId:function(e){this.activeReplyId===e?this.activeReplyId=null:this.activeReplyId=e},rearrangeCommentList:function(){var e=this,t=[];this.rawComments.forEach((function(a){a.parentId||t.push(ka({},a,{replies:e.rawComments.filter((function(e){if(e.parentId)return e.parentId===a.id}))}))})),this.comments=t},submitComment:function(e){var t=this;this.loading=!0;var a=ka({parentId:null,postId:this.postId},e);ca.insertComment(a).then((function(e){e.data&&(t.rawComments.push(e.data),t.activeReplyId=null),t.loading=!1})).catch()},deleteComment:function(e){var t=this;this.$swal({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(a){a.value&&(t.loading=!0,ca.deleteComment(e).then((function(a){200===a.status&&t.rawComments.splice(t.rawComments.findIndex((function(t){return t.id===e})),1),t.loading=!1})).catch())}))},formatDate:E["d"].formatDate,formatDateTime:E["d"].formatDateTime},computed:{showDeleteBtn:function(){return!1}},mounted:function(){this.rearrangeCommentList()},watch:{rawComments:function(){this.rearrangeCommentList()}}},Aa=Ia,Da=(a("dcbe"),Object(l["a"])(Aa,ya,Ca,!1,null,null,null)),xa=Da.exports,ja={name:"IssueDetailed",components:{Comments:xa,Loader:Gt},props:{openIssueId:{type:Number}},data:function(){return{loading:!1,issue:null}},methods:{getIssueById:function(e){var t=this;this.loading=!0,ca.getIssueById(e).then((function(e){e.data&&(t.issue=e.data),t.loading=!1})).catch()},closeIssue:function(){var e=this;ca.closeIssue(this.issue.id).then((function(t){t.data&&(e.issue=t.data,e.$store.commit("SET_OPEN_ISSUES",[]),e.$store.commit("SET_CLOSED_ISSUES",[]))})).catch()},back:function(){this.issue=null,this.$emit("back")},showCloseBtn:function(e){return!1},deletePost:function(e){var t=this;this.$swal({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(a){a.value&&(t.loading=!0,ca.deleteIssue(e).then((function(e){200===e.status&&(1===t.issue.status&&t.$store.commit("SET_OPEN_ISSUES",[]),2===t.issue.status&&t.$store.commit("SET_CLOSED_ISSUES",[]),t.back()),t.loading=!1})).catch())}))},formatDate:E["d"].formatDate,formatDateTime:E["d"].formatDateTime},computed:{showDeleteBtn:function(){return localStorage.getItem("isAdmin")}},mounted:function(){this.openIssueId&&this.getIssueById(this.openIssueId)}},Pa=ja,Ma=(a("ebd0"),Object(l["a"])(Pa,ha,ga,!1,null,null,null)),Ra=Ma.exports,Ba=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("h4",{staticClass:"title"},[a("button",{staticClass:"btn btn-light back-btn",attrs:{type:"button"},on:{click:function(t){return e.$emit("back")}}},[a("i",{staticClass:"fas fa-arrow-left"}),e._v(" Back")]),e._v("Create issue\n    ")]),a("form",[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[e._v("Title")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],staticClass:"form-control",class:{"is-invalid":!e.titleValid},attrs:{id:"title",placeholder:"Title",required:""},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[e._v("Please enter the title.")])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"category"}},[e._v("Category")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedCategory,expression:"selectedCategory"}],staticClass:"form-control category",class:{"is-invalid":!e.categoryValid},attrs:{id:"category",placeholder:"Filter by category"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedCategory=t.target.multiple?a:a[0]}}},e._l(e.categories,(function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0),a("div",{staticClass:"invalid-feedback"},[e._v("Please select the category.")])]),a("div",{staticClass:"form-group content"},[a("label",{attrs:{for:"content"}},[e._v("Content")]),a("quill-editor",{ref:"myQuillEditor",staticClass:"content__editor",class:{"is-invalid":!e.contentValid},attrs:{id:"content",options:e.editorOption},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}}),a("div",{staticClass:"invalid-feedback"},[e._v("Please enter the content")]),a("button",{staticClass:"btn btn-primary submit-btn",attrs:{type:"button",disabled:e.submitButtonDisabled&&!1},on:{click:e.submitForm}},[e._v("\n          Submit\n        ")])],1)])])])},Na=[],Fa={name:"NewIssue",data:function(){return{title:null,content:null,selectedCategory:0,editorOption:{}}},methods:{submitForm:function(){var e=this;if(this.title=null!==this.title?this.title.trim():"",this.selectedCategory=0!==this.selectedCategory?this.selectedCategory:-1,this.content=null!==this.content?this.content.trim():"",this.titleValid&&this.categoryValid&&this.contentValid){var t={title:this.title.trim(),content:this.content,categoryId:Number(this.selectedCategory)};ca.insertIssue(t).then((function(t){t.data&&(e.$emit("openIssue",t.data.id),e.$store.commit("SET_OPEN_ISSUES",[]))})).catch()}}},computed:{submitButtonDisabled:function(){return!!(this.titleValid||this.categoryValid||this.contentValid)},titleValid:function(){return null===this.title||this.title.trim()},categoryValid:function(){return this.selectedCategory>=0},contentValid:function(){return null===this.content||this.content.trim()},categories:function(){return this.$store.state.forum.categories}}},Va=Fa,Ga=(a("7ca1"),Object(l["a"])(Va,Ba,Na,!1,null,"394f2661",null)),Ha=Ga.exports,Ua={name:"Forum",components:{IssueList:va,IssueDetailed:Ra,NewIssue:Ha},data:function(){return{activeBlock:"list",openIssueId:null}},methods:{openIssue:function(e){this.openIssueId=e,this.activeBlock="detailed"},getCategories:function(){var e=this;ca.getCategories().then((function(t){t.data&&e.$store.commit("SET_CATEGORIES",t.data)})).catch()}},mounted:function(){this.categories.length||this.getCategories()},computed:{categories:function(){return this.$store.state.forum.categories}}},za=Ua,$a=(a("5477"),Object(l["a"])(za,sa,oa,!1,null,null,null)),qa=$a.exports,Qa={name:"InfoModal",components:{About:xt,FAQ:$t,ReleaseNotes:Jt,Contact:ra,Forum:qa},props:{isOpen:{required:!0,type:Boolean}},data:function(){return{activeTab:"about",tabs:[{key:"about",text:"About"},{key:"faq",text:"FAQ"},{key:"releaseNotes",text:"Release notes"},{key:"forum",text:"Forum"},{key:"contact",text:"Contact us"}]}},methods:{changeTab:function(e){this.activeTab=e}}},Ya=Qa,Za=(a("99ac"),Object(l["a"])(Ya,Tt,wt,!1,null,null,null)),Ka=Za.exports,Wa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("CustomModal",{attrs:{name:"serviceSelectionModal",title:"Services","min-width":400,minHeight:200},on:{beforeShow:e.onModalOpen,afterShow:e.onModalOpened,afterHide:e.onModalClose}},[a("div",[a("ul",{staticClass:"selection-list text-center"},e._l(e.activeLayers,(function(t,n){return a("li",{key:n,on:{click:function(a){return e.selectItem(t)}}},[a("span",{staticClass:"list-item"},[a("h5",[e._v(e._s(t.name))])])])})),0)])]),e.dataModalVisibility?a("DataModal",{attrs:{layerId:e.selectedLayer.id}}):e._e()],1)},Xa=[],Ja=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("CustomModal",{attrs:{name:"dataModal",minWidth:200,minHeight:200},on:{beforeShow:e.onModalOpen}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("button",{staticClass:"btn btn-primary btn-sm float-right w-100",on:{click:e.showImageUploadModal}},[e._v("\n          Show Files\n        ")])])]),a("div",{staticClass:"row mt-2"},[a("table",{staticClass:"table  text-center"},[a("thead",[a("tr",{staticClass:"fields"},[a("th",{staticClass:"paddingLeft"},[e._v("Field")]),a("th",{staticClass:"paddingRight"},[e._v("Value")])])]),a("tbody",{staticClass:"popupTableBody"},e._l(e.data,(function(t,n){return a("tr",{key:n},[a("td",{staticClass:"paddingLeft"},[e._v(e._s(n))]),a("td",{staticClass:"paddingRight"},[e._v(e._s(t))])])})),0)])])]),a("ImageUploadModal",{attrs:{gid:e.gid,layerId:e.layerId}})],1)},en=[],tn={name:"DataModal",components:{ImageUploadModal:$},props:{layerId:{type:Number,required:!0}},methods:{onModalOpen:function(){},showImageUploadModal:function(){B["g"].showImageUploadModal()}},computed:{data:function(){return B["j"].getInfoData()},gid:function(){return this.data["gid"]}}},an=tn,nn=Object(l["a"])(an,Ja,en,!1,null,null,null),rn=nn.exports,sn={name:"ServiceSelectionModal",components:{DataModal:rn},data:function(){return{activeLayers:[],selectedLayer:null}},computed:{dataModalVisibility:function(){return null!==this.selectedLayer},clickedCoordinate:function(){return B["e"].getClickedCoordinate()},clickedPixel:function(){return B["e"].getClickedPixel()}},methods:{onModalOpen:function(){this.activeLayers=B["d"].getSelectedDyanmics()},onModalOpened:function(){0==this.activeLayers.length&&B["g"].hideServiceSelectionModal(),1==this.activeLayers.length&&(B["g"].hideServiceSelectionModal(),this.selectItem(this.activeLayers[0]))},onModalClose:function(){},selectItem:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B["j"].getGeometryData(t.id,this.clickedCoordinate).then((function(e){var n=e.data.features[0].attributes;le["a"].isEmpty(n)?a.$toasted.show("Data Not Exist In This Coordinate!",{theme:"bubble",icon:{name:"fas fa-exclamation"}}):new Promise((function(e){a.selectedLayer=t,B["j"].setInfoData(n),e()})).then((function(e){B["g"].showDataModal(),B["e"].focusToServicePolygon(t.id,a.clickedPixel)})),B["g"].hideServiceSelectionModal()}));case 2:e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},on=sn,cn=(a("6b86"),Object(l["a"])(on,Wa,Xa,!1,null,"581109cf",null)),ln=cn.exports,un=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("CustomModal",{attrs:{name:"filterModal",title:"Filter",maxWidth:600}},[a("div",{staticClass:"data-table__filter"},[a("div",{staticClass:"row form-group"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"filter__tabs"},e._l(e.tabs,(function(t){return a("div",{key:t.id,staticClass:"tab",class:{"tab--active":e.activeTabId===t.id},on:{click:function(a){e.activeTabId=t.id}}},[e._v("\n              "+e._s(t.name)+"\n            ")])})),0)])]),a("div",{staticClass:"row form-group"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"filter__fields"},[a("div",{staticClass:"filter__fields__columns"},[a("h5",[e._v("Columns")]),a("ul",{staticClass:"filter__fields__list custom-scrollbar"},e._l(e.tableHeaders,(function(t,n){return a("li",{key:n,staticClass:"list__item",on:{dblclick:function(a){return e.appendFilterQuery(t,!1)},click:function(a){return e.getFilterColumnValues(t)}}},[e._v("\n                  "+e._s(t)+"\n                ")])})),0)]),a("div",{staticClass:"filter__fields__values"},[a("h5",[e._v("Values")]),a("ul",{staticClass:"filter__fields__list custom-scrollbar"},e._l(e.filterValues,(function(t,n){return a("li",{key:n,staticClass:"list__item",on:{dblclick:function(a){return e.appendFilterQuery(t,!0)}}},[e._v("\n                  "+e._s(t)+"\n                ")])})),0)])])])]),a("div",{staticClass:"row form-group"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"filter__actions"},e._l(e.actionsList,(function(t){return a("div",{key:t},[a("button",{staticClass:"btn btn-sm btn-outline-secondary",on:{click:function(a){return e.appendFilterQuery(t,!1)}}},[e._v("\n                "+e._s(t)+"\n              ")])])})),0)])]),a("div",{staticClass:"row form-group"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"filter__query"},[a("label",{staticClass:"title"},[e._v("SELECT * FROM table WHERE:")]),e._v("\n            "+e._s(e.activeTabQuery)+"\n            "),a("textarea",{ref:"filterQueryTextarea",attrs:{name:"filterQuery",rows:"4",cols:"69"},domProps:{value:e.activeTabQuery},on:{input:e.handleQueryChange}})])]),a("div",{staticClass:"col-md-12"},[e.favoriteQueryModalVisibility?a("button",{staticClass:"btn btn-success btn-sm float-right",attrs:{type:"button",disabled:!(e.isQueryExist&&e.activeTabId)},on:{click:e.showFavoriteQueryModal}},[e._v("\n            Add To Favorite Query\n          ")]):e._e()])]),a("div",{staticClass:"row form-group"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.extentOptionsVisibility,expression:"extentOptionsVisibility"}],staticClass:"col-md-6"},[a("label",[e._v("\n            Extent Options\n            "),a("span",{staticStyle:{"font-size":"0.9rem"}},[e._v("\n              (Is Exist :\n              "),e.isExtentAreaExist?a("span",{staticClass:"badge badge-success"},[e._v("\n                true\n              ")]):a("span",{staticClass:"badge badge-danger"},[e._v("\n                false\n              ")]),e._v("\n              )\n            ")])]),a("div",{staticClass:"btn-group btn-group-toggle btn-group-sm",attrs:{role:"group","aria-label":"Basic example"}},[a("label",{staticClass:"btn  btn-info ",class:{active:e.isExtentAreaExist&&e.extentType==e.drawTypeEnum.SQUARE}},[a("input",{attrs:{type:"radio",name:"options"},domProps:{value:e.drawTypeEnum.SQUARE},on:{click:e.drawTypeOnChange}}),a("img",{attrs:{src:e.icons.square}})]),a("label",{staticClass:"btn  btn-info ",class:{active:e.isExtentAreaExist&&e.extentType==e.drawTypeEnum.BOX}},[a("input",{attrs:{type:"radio",name:"options"},domProps:{value:e.drawTypeEnum.BOX},on:{click:e.drawTypeOnChange}}),a("img",{attrs:{src:e.icons.rectangle}})]),a("label",{staticClass:"btn  btn-info ",class:{active:e.isExtentAreaExist&&e.extentType==e.drawTypeEnum.POLYGON}},[a("input",{attrs:{type:"radio",name:"options"},domProps:{value:e.drawTypeEnum.POLYGON},on:{click:e.drawTypeOnChange}}),a("img",{attrs:{src:e.icons.polygon}})]),e.circleButtonVisibility?a("label",{staticClass:"btn  btn-info ",class:{active:e.isExtentAreaExist&&e.extentType==e.drawTypeEnum.CIRCLE}},[a("input",{attrs:{type:"radio",name:"options"},domProps:{value:e.drawTypeEnum.CIRCLE},on:{click:e.drawTypeOnChange}}),a("img",{attrs:{src:e.icons.circle}})]):e._e()])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.reportCheckboxVisibility,expression:"reportCheckboxVisibility"}],staticClass:"col-md-6"},[a("label",[e._v("Sum Report Options")]),a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.isSumFilter,expression:"isSumFilter"}],attrs:{type:"checkbox",id:"isSum"},domProps:{checked:Array.isArray(e.isSumFilter)?e._i(e.isSumFilter,null)>-1:e.isSumFilter},on:{change:function(t){var a=e.isSumFilter,n=t.target,i=!!n.checked;if(Array.isArray(a)){var r=null,s=e._i(a,r);n.checked?s<0&&(e.isSumFilter=a.concat([r])):s>-1&&(e.isSumFilter=a.slice(0,s).concat(a.slice(s+1)))}else e.isSumFilter=i}}}),a("label",{staticClass:"ml-1"},[e._v("Is Sum")])]),a("div",{staticClass:"col-md-6"},[e.isSumFilter?a("select",{directives:[{name:"model",rawName:"v-model",value:e.sumFilterColumn,expression:"sumFilterColumn"}],staticClass:"form-control form-control-sm",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.sumFilterColumn=t.target.multiple?a:a[0]}}},e._l(e.tableHeaders,(function(t){return a("option",{key:t,domProps:{value:t}},[e._v("\n                    "+e._s(t)+"\n                  ")])})),0):e._e()])])])])]),a("div",{staticClass:"row form-group"},[a("div",{staticClass:"col-md-12"},[a("button",{staticClass:"btn btn-primary float-right",on:{click:e.applyFilter}},[e._v("\n            Apply\n          ")])])])])]),e.favoriteQueryModalVisibility&&e.isQueryExist&&e.activeTabId?a("FavoriteQueryModal",{attrs:{query:e.activeTabQuery,layerId:e.activeTabId}}):e._e()],1)},dn=[],pn={name:"FilterModal",components:{FavoriteQueryModal:function(){return Promise.resolve().then(a.bind(null,"4882"))}},data:function(){return{actionsList:["=",">",">=","<","<=","<>","AND","OR","LIKE","IS NULL"],filterValues:[],currentTabId:null,selectedColumn:"gid",icons:{},tableHeaders:[],extentType:null,drawTypeEnum:null}},created:function(){this.icons=Y["a"],this.drawTypeEnum=Z["a"]},mounted:function(){this.extentType=this.drawTypeEnum.NONE},methods:{showFavoriteQueryModal:function(){B["g"].showFavoriteQueryModal()},setTableHeaders:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,w["a"].getTableHeaders(t);case 2:a=e.sent,this.tableHeaders=a.data.columns.map((function(e){return e.columnName}));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),drawTypeOnChange:function(e){var t=this,a=e.target.value,n={id:this.activeService.id,type:this.activeService.type};if(B["k"].deleteServiceFeatures(this.activeService.id),this.extentType==a)this.extentType=Z["a"].NONE,B["i"].setExtentCoordinates(this.activeService,"");else{B["g"].hideFilterModal(),B["j"].setTableUnvisible();var i={forService:n};B["k"].pickDrawType(a,(function(){B["g"].showFilterModal(),t.extentType=a;var e=t.bbox;B["i"].setExtentCoordinates(t.activeService,JSON.stringify(e)),B["k"].pickDrawType(t.drawTypeEnum.NONE),B["j"].setTableVisible(),B["b"].setIsRequiredServiceRefresh(!0)}),i)}},handleQueryChange:function(e){var t=e.target.value;""===t&&(t=" "),this.activeTabQuery=t},isValString:function(e){return"string"==typeof e},appendFilterQuery:function(e,t){t&&this.isValString(e)&&(e="'".concat(e,"'")),this.activeTabQuery=this.activeTabQuery+e+" ",this.$refs.filterQueryTextarea.focus()},applyFilter:function(){B["j"].getTable(this.activeService),this.$moodal.filterModal.hide()},getFilterColumnValues:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B["b"].getFilterColumnValues(this.activeTabId,t);case 2:this.filterValues=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},computed:{favoriteQueryModalVisibility:function(){return E["h"].isDynamicFromLocal(this.activeService)},isQueryExist:function(){return this.activeTabQuery&&""!==this.activeTabQuery.trim()&&this.activeTabQuery.length>0},isExtentAreaExist:function(){var e=this.activeService,t=E["h"].isBunch(e),a=!1;if(e)if(t){var n=B["a"].getExtentCoordinates(e.id);a=n.some((function(e){return null!==e&&""!==e}))}else{n=B["d"].getExtentCoordinates(e.id);a=null!==n&&""!==n}return this.extentType!==Z["a"].NONE&&a},circleButtonVisibility:function(){return!E["h"].isBunch(this.activeService)},reportCheckboxVisibility:function(){return this.activeService&&E["h"].isLayer(this.activeService)},extentOptionsVisibility:function(){return this.activeService&&(E["h"].isLayer(this.activeService)||E["h"].isBunch(this.activeService))},tabs:function(){var e=[];if(this.activeService){var t=E["h"].isBunch(this.activeService);e=t?this.activeService.layers.map((function(e){return{id:e.id,name:e.name}})):[{id:this.activeService.id,name:this.activeService.name}]}return e},activeTabId:{get:function(){return this.$store.state.dataTable.activeTabId},set:function(e){this.$store.dispatch("SAVE_DATATABLE_ACTIVE_TAB_ID",e)}},activeService:function(){return B["j"].getTableActiveService()},activeTabService:function(){if(!this.activeService)return null;var e=E["h"].isBunch(this.activeService),t=null;return this.activeTab&&(t=e?B["a"].getBunchLayer(this.activeService.id,this.activeTabId):B["d"].getDynamicLayer(this.activeTabId)),t},activeTabQuery:{get:function(){var e="",t=this.activeService;if(!t||!this.activeTabId)return e;var a=B["i"].getDynamicService(t,this.activeTabId);return e=a?a.query.where:"",e},set:function(e){if(e){var t=this.activeService,a=E["h"].isBunch(t);a?B["i"].setQuery(t,e,this.activeTabId):B["i"].setQuery(t,e),B["b"].setIsRequiredServiceRefresh(!0)}}},isSumFilter:{get:function(){return this.$store.getters.isSumFilter},set:function(e){return e&&this.$store.dispatch("saveSumFilterColumn",this.tableHeaders[0]),this.$store.dispatch("saveIsSumFilter",e)}},sumFilterColumn:{get:function(){var e=this.$store.getters.sumFilterColumn;return e},set:function(e){return this.$store.dispatch("saveSumFilterColumn",e)}},bbox:{get:function(){return B["k"].getBbox()},set:function(e){B["k"].setBbox(e)}}},watch:{activeTabId:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.setTableHeaders(t);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},fn=pn,mn=Object(l["a"])(fn,un,dn,!1,null,null,null),bn=mn.exports,vn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("CustomModal",{attrs:{name:"computedLayerModal",title:"Customized layers",width:400,height:300}},[a("form",[a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-md-12"},[a("div",{ref:"computedForm",staticClass:"form-group"},[a("label",{attrs:{for:"label"}},[e._v("Label")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.label,expression:"data.label"}],staticClass:"form-control",attrs:{type:"text",id:"label"},domProps:{value:e.data.label},on:{input:function(t){t.target.composing||e.$set(e.data,"label",t.target.value)}}})])]),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"layers"}},[e._v("Layers")]),a("treeselect",{attrs:{multiple:!0,"show-count":!0,options:e.dynamicOptions,limit:4,"disable-branch-nodes":!0,"search-nested":""},model:{value:e.data.layers,callback:function(t){e.$set(e.data,"layers",t)},expression:"data.layers"}})],1)]),a("div",{staticClass:"col-md-12"},[a("button",{staticClass:"btn btn-primary float-right",attrs:{type:"button"},on:{click:e.add}},[e._v("\n          Add\n        ")])])])])])},hn=[],gn=a("ca17"),yn=a.n(gn),Cn=(a("542c"),{name:"ComputedLayersModal",components:{Multiselect:T.a,Treeselect:yn.a},updated:function(){this.dynamicOptons},data:function(){return{value:null,isLoading:!1,data:{label:"",layers:[]}}},methods:{resetData:function(){this.data={label:"",layers:[]}},add:function(){var e=this,t=this.$loading.show({container:this.$refs.computedForm,canCancel:!1}),a=this.data,n=a.label,i=a.layers;""!=n&&i.length>0&&je["a"].add(this.data).then((function(a){B["a"].add(a.data),e.resetData(),e.$moodal.computedLayerModal.hide(),t.hide()}))}},computed:{dynamicOptions:function(){var e=B["d"].getDynamicLayerAsTreeSelect();return e},dynamicLayersList:function(){var e=B["d"].getDynamicLayersWithoutCategory(!0),t=e.map((function(e,t){return{id:e.id,name:e.name}}));return t}}}),_n=Cn,On=(a("b06d"),Object(l["a"])(_n,vn,hn,!1,null,null,null)),En=On.exports,Sn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("CustomModal",{attrs:{name:"mapTextModal",title:"Point Text",width:"25%",minHeight:100},on:{beforeShow:e.onModalOpen}},[a("form",[a("div",{staticClass:"form-group"},[a("label",[e._v("Text")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"text"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.text},on:{input:function(t){t.target.composing||(e.text=t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn btn-primary float-right",attrs:{type:"button"},on:{click:e.addText}},[e._v("\n        Add\n      ")])])])])},Tn=[],wn={name:"MapTextModal",data:function(){return{text:null}},computed:{pointCoordinates:function(){return B["k"].getBbox()}},methods:{addText:function(){B["k"].addText(this.text,this.pointCoordinates),B["g"].hideMapTextModal()},onModalOpen:function(){this.text=null}}},Ln=wn,kn=Object(l["a"])(Ln,Sn,Tn,!1,null,null,null),In=kn.exports,An=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("CustomModal",{attrs:{name:"detectorModal",title:"Change detection",width:800,minHeight:400},on:{afterHide:function(t){return e.$emit("close")}}},[a("div",{staticClass:"row form-group"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"detector"},[a("treeselect",{attrs:{multiple:!0,"show-count":!0,options:e.baseOptions,limit:4,valueFormat:"object","disable-branch-nodes":!0,"search-nested":""},model:{value:e.selectedLayers,callback:function(t){e.selectedLayers=t},expression:"selectedLayers"}}),a("div",{staticClass:"detector-list row"},e._l(e.exportedImages,(function(t,n){return a("div",{key:n,staticClass:"detector-list-item col-md-4"},[a("p",[e._v(e._s(t.label))]),a("div",{staticClass:"image-wrapper"},[a("img",{attrs:{src:t.image}})])])})),0)],1)])])])},Dn=[],xn=(a("ac4d"),a("8a81"),a("b85b")),jn={components:{Multiselect:T.a,Treeselect:yn.a},props:{bbox:{required:!0,type:Array},token:{type:String},visible:{type:Boolean}},watch:{selectedLayers:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t){var a,n,i,r,s,o,c,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(this.exportedImages=[],a=new xn["w"]([this.bbox]).getExtent(),n=!0,i=!1,r=void 0,e.prev=5,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)c=o.value,l=M["m"]+"/api/map/service/"+c.label+"/MapServer/export?"+"token=".concat(this.token,"&")+"f=image&format=png8&transparent=true&size=1024,1024&"+"bbox=".concat(a.toString(),"&")+"bboxsr=4326&imagesr=4326&dpi=90",this.exportedImages.push({image:l,label:c.label});e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](5),i=!0,r=e.t0;case 13:e.prev=13,e.prev=14,n||null==s.return||s.return();case 16:if(e.prev=16,!i){e.next=19;break}throw r;case 19:return e.finish(16);case 20:return e.finish(13);case 21:case"end":return e.stop()}}),e,this,[[5,9,13,21],[14,,16,20]])})));function t(t){return e.apply(this,arguments)}return t}(),visible:function(e){e?(this.selectedLayers=B["d"].getSelectedBasemaps(),this.$moodal.detectorModal.show()):this.$moodal.detectorModal.hide()}},data:function(){return{selectedLayers:[],exportedImages:[]}},computed:{baseOptions:function(){var e=B["d"].getBasemapLayerAsTreeSelect();return e}}},Pn=jn,Mn=(a("60bc"),Object(l["a"])(Pn,An,Dn,!1,null,null,null)),Rn=Mn.exports,Bn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("CustomModal",{attrs:{name:"ndviAssessmentModal",title:"NDVI Assessment",width:"95%",minHeight:400},on:{beforeShow:e.onModalOpen,afterHide:e.onModalClose}},[a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"ndvis"}},[e._v("Layers")]),a("div",{staticClass:"d-block"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-9 p-0"},[a("Multiselect",{staticStyle:{display:"inline-block"},attrs:{id:"ndvis",placeholder:"Select Ndvis",options:e.options,multiple:!0,"close-on-select":!1,"custom-label":e.ndviCustomLabel,label:"ndvi","track-by":"ndvi"},on:{input:e.onChange},model:{value:e.selectedNdvis,callback:function(t){e.selectedNdvis=t},expression:"selectedNdvis"}})],1),a("div",{staticClass:"col-md-3 p-0 ",class:{active:e.isPointExist}},[a("div",{staticClass:"text-center"},[a("div",{staticClass:"btn-group-toggle",attrs:{"data-toggle":"buttons"}},[a("label",{staticClass:"btn btn-info  mr-2"},[a("input",{attrs:{type:"checkbox",name:"pointSelectionBtn"},domProps:{value:e.drawTypeEnum.POINT},on:{click:e.onPointSelection}}),a("img",{attrs:{src:e.icons.point}})]),a("label",{staticClass:"btn   mr-2",class:{active:e.isPointExist,"btn-success":!e.isBasemapsShowing,"btn-danger":e.isBasemapsShowing}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.isBasemapsShowing,expression:"isBasemapsShowing"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isBasemapsShowing)?e._i(e.isBasemapsShowing,null)>-1:e.isBasemapsShowing},on:{change:function(t){var a=e.isBasemapsShowing,n=t.target,i=!!n.checked;if(Array.isArray(a)){var r=null,s=e._i(a,r);n.checked?s<0&&(e.isBasemapsShowing=a.concat([r])):s>-1&&(e.isBasemapsShowing=a.slice(0,s).concat(a.slice(s+1)))}else e.isBasemapsShowing=i}}}),e._v("\n                      "+e._s(e.isBasemapsShowing?"Hide Basemaps":"Show Basemaps")+"\n                    ")])])])])]),e.isPointExist?a("small",{staticClass:"form-text text-muted"},[e._v("\n              Point Location | x : "+e._s(e.pointCoordinates[0])+" , y :\n              "+e._s(e.pointCoordinates[1])+"\n            ")]):e._e()])])])]),a("div",{staticStyle:{display:"flex","flex-direction":"row","justify-content":"space-around","align-items":"baseline"}},e._l(e.selectedNdvis,(function(t,n){return a("div",{key:n,staticStyle:{margin:"0px 10px",padding:"10px","background-color":"#cccccc33"}},[a("div",{staticStyle:{margin:"5px 0px"}},[a("h5",{staticClass:"text-center"},[e._v(e._s(t.ndvi.name))]),a("img",{staticClass:"img-responsive mw-100",attrs:{src:e.getImgUrl(t.ndvi)}})]),a("div",{class:{"d-none":!e.isBasemapsShowing},staticStyle:{display:"flex","flex-direction":"column"}},e._l(t.basemaps,(function(t,n){return a("div",{key:n},[a("div",{staticStyle:{margin:"5px 0px"}},[a("h6",{staticClass:"text-center"},[e._v(e._s(t.name))]),a("img",{staticClass:"img-responsive mw-100",attrs:{src:e.getImgUrl(t)}})])])})),0)])})),0),a("div",{staticClass:"row"},[e.isChartVisible?a("div",{staticClass:"col-md-12"},[a("line-chart",{attrs:{"chart-data":e.chartData,options:e.chartOptions,height:100}})],1):e._e()])])])},Nn=[],Fn={getNdvis:function(){return N["a"].get(M["k"].GET_ALL)},getNdviValue:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t,a,n){var i,r,s,o,c,l,u,d,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getNdviInfo(t);case 2:return i=e.sent,r=i.data.fullExtent,s={xmin:r.xmin,ymin:r.ymin,xmax:r.xmax,ymax:r.ymax},o={geometry:" ".concat(a,", ").concat(n),geometryType:"esriGeometryPoint",mapExtent:JSON.stringify(s),tolerance:0,time:4,geometryPrecision:4,imageDisplay:50,returnGeometry:!1,returnCatalogItems:!1,f:"pjson"},c="".concat(M["b"].SERVICE_URl,"/").concat(t,"/MapServer/Identify?").concat(E["j"].formatQueryString(o)),e.next=9,N["a"].get(c);case 9:return l=e.sent,u=l.data.results,d=u[0].attributes,p={red:le["a"].isUndefined(d["Red"])?0:d["Red"],green:le["a"].isUndefined(d["Green"])?0:d["Green"],blue:le["a"].isUndefined(d["Blue"])?0:d["Blue"],alpha:le["a"].isUndefined(d["Alpha"])?0:d["Alpha"]},e.abrupt("return",p);case 14:case"end":return e.stop()}}),e,this)})));function t(t,a,n){return e.apply(this,arguments)}return t}(),getNdviInfo:function(e){var t={token:R["c"].getToken(),f:"json"},a="".concat(M["b"].SERVICE_URl,"/").concat(e,"/MapServer?").concat(E["j"].formatQueryString(t));return N["a"].get(a)}},Vn=a("778c"),Gn=a("1fca"),Hn=Gn["b"].reactiveProp,Un={extends:Gn["a"],mixins:[Hn],props:["options"],mounted:function(){this.renderChart(this.chartData,this.options)}},zn={components:{Multiselect:T.a,LineChart:Un},props:{visible:{type:Boolean}},data:function(){return{icons:Y["a"],drawTypeEnum:Z["a"],options:[],selectedNdvis:[],chartData:null,isPointValueExist:!1,chartOptions:{title:{display:!0,text:"Ndvi Data"}},pointCoordinates:null,isModalHidingForPoint:!1,isCalculating:!1,isBasemapsShowing:!0}},mounted:function(){this.getNdvis()},methods:{resetData:function(){this.selectedNdvis=[],this.chartData=null,this.pointCoordinates=null,this.isModalHidingForPoint=!1},getNdvis:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Fn.getNdvis();case 2:t=e.sent,a=t.data,a=a.map((function(e){return e.basemaps=e.basemaps.map((function(e){return E["e"].basemapMapping(e)})),e.ndvi=E["e"].basemapMapping(e.ndvi),e})),this.options=a;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onPointSelection:function(e){var t=this,a=e.target.value;this.isModalHidingForPoint=!0,B["g"].hideNdviAssessmentModal(),B["k"].pickDrawType(a,(function(){B["g"].showNdviAssessmentModal(),t.isModalHidingForPoint=!1,t.pointCoordinates=t.bbox,t.buildGraph(),B["k"].pickDrawType(Z["a"].NONE)}))},onChange:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isPointExist){e.next=3;break}return e.next=3,this.buildGraph();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),calculateGraphData:function(e){var t=this,a=[],n=0;return new Promise((function(i,r){e.forEach(function(){var r=Object(_["a"])(regeneratorRuntime.mark((function r(s){var o,c,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=t.pointCoordinates[0],c=t.pointCoordinates[1],r.next=4,Fn.getNdviValue(s.ndvi.name,o,c);case 4:l=r.sent,a.push({value:l,label:s.ndvi.name,service:s}),n++,n===e.length&&i(a);case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}))},calculateNdviValue:function(e,t,a,n){return(n-e)/(n+e)},orderGraphDataBySelecteds:function(e,t){var a=[];return e.forEach((function(e){var n=t.find((function(t){return t.service.ndvi.name==e.ndvi.name}));n&&a.push(n)})),a},buildGraph:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.isCalculating=!0,t=this.selectedNdvis,this.calculateGraphData(t).then((function(e){var n=a.orderGraphDataBySelecteds(t,e),i=[],r=[];n.forEach((function(e){var t=e.value,n=t.red,s=t.green,o=t.blue,c=t.alpha,l=a.calculateNdviValue(n,s,o,c);i.push(l),r.push(e.label)}));var s={label:"NDVI Index Value",borderColor:"rgba(50, 115, 220, 0.5)",backgroundColor:"rgba(50, 115, 220, 0.1)",data:i};a.chartData={labels:r,datasets:[s]},a.isCalculating=!1}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),ndviCustomLabel:function(e){return e.ndvi.name},getImgUrl:function(e){var t=Vn["a"],a=E["f"].bboxToExtent(B["h"].getNdviExtent());t["token"]=R["c"].getToken(),t["bbox"]=a.toString();var n=M["b"].EXPORT_IMAGE_URL(e.name,t);return n},onModalOpen:function(){if(!this.isModalHidingForPoint){B["k"].getBbox();B["h"].setNdviExtent(B["k"].getBbox())}},onModalClose:function(){this.isModalHidingForPoint||this.resetData(),this.$emit("close")}},computed:{bbox:function(){return B["k"].getBbox()},isChartVisible:function(){return!this.isCalculating&&this.chartData&&this.chartData.labels.length>0&&this.isPointExist},isPointExist:function(){return this.pointCoordinates&&this.pointCoordinates.length>0}}},$n=zn,qn=Object(l["a"])($n,Bn,Nn,!1,null,null,null),Qn=qn.exports,Yn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("CustomModal",{attrs:{name:"comparerModal",title:"Swap Image",width:"50%",minHeight:500},on:{beforeShow:e.onModalOpen,afterHide:e.onModalClose}},[a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-9"},[a("v-select",{attrs:{multiple:"",placeholder:"Choose up to 2 basemaps!",options:e.basemaps,selectable:function(){return e.selecteds.length<2}},on:{input:e.onChange},model:{value:e.selecteds,callback:function(t){e.selecteds=t},expression:"selecteds"}}),a("span",{staticClass:"text-muted form-text",staticStyle:{"font-size":"0.7rem"}},[e._v("Extent Area : "+e._s(JSON.stringify(e.extent)))])],1),a("div",{staticClass:"col-md-3"},[a("button",{staticClass:"btn btn-info btn-sm mr-2",attrs:{type:"button"},on:{click:e.onExtentClick}},[a("img",{attrs:{src:e.icons.square}})]),a("button",{staticClass:"btn btn-info btn-sm mr-2",attrs:{type:"button"},on:{click:e.changeRotation}},[a("img",{attrs:{src:e.icons.swap}})])])]),a("div",{staticClass:"row juxtapose-container"},[a("div",{staticClass:"col-md-12"},[e.juxtapose?a("div",{staticClass:"juxtapose",attrs:{id:"juxtapose"}}):e._e()])])])])},Zn=[],Kn=(a("a0fb"),a("83c1")),Wn=a.n(Kn),Xn={name:"ComparerModal",components:{VueCompareImage:Wn.a},data:function(){return{drawTypeEnum:Z["a"],icons:Y["a"],extent:null,selecteds:[],leftImage:"",rightImage:"",isModalHideForExtent:!1,juxtapose:null,isVertical:!0,juxtaposeOptions:{animate:!0,showLabels:!1,showCredits:!1,makeResponsive:!0,mode:"vertical"}}},created:function(){},computed:{selectedBasemaps:function(){return basemaps},basemaps:function(){var e=B["d"].getBaseLayersWithoutCategory().map((function(e){return{code:e.id,label:e.name}}));return e},bbox:function(){return B["k"].getBbox()}},methods:{removeElementsByClass:function(e){var t=document.getElementsByClassName(e);while(t.length>0)t[0].parentNode.removeChild(t[0])},renderJuxtapose:function(){this.juxtapose=!1,this.removeElementsByClass("jx-slider"),this.leftImage&&this.rightImage&&(this.isVertical?this.juxtaposeOptions["mode"]="vertical":this.juxtaposeOptions["mode"]="horizontal",this.juxtapose=new juxtapose.JXSlider("#juxtapose",[{src:this.leftImage},{src:this.rightImage}],this.juxtaposeOptions))},onExtentClick:function(){var e=this;B["g"].hideComparerModal(),this.isModalHideForExtent=!0;var t={name:"comparermodal"};B["k"].deleteFeatureByName("comparermodal"),B["k"].pickDrawType(Z["a"].BOX,(function(){B["g"].showComparerModal(),e.extent=E["f"].bboxToExtent(e.bbox),e.isModalHideForExtent=!1,e.reload()}),t)},onModalOpen:function(){this.isModalHideForExtent||(this.extent=B["e"].getCurrentExtent(),this.selecteds=B["d"].getSelectedBasemaps().map((function(e){return{code:e.id,label:e.name}})).slice(0,2),this.reload())},reset:function(){this.leftImage="",this.rightImage=""},changeRotation:function(){this.juxtapose=!1,this.isVertical=!this.isVertical,this.reload()},reload:function(){2==this.selecteds.length?(this.leftImage=E["i"].getImageUrl(this.selecteds[0].label,this.extent,null),this.rightImage=E["i"].getImageUrl(this.selecteds[1].label,this.extent,null)):this.reset(),this.renderJuxtapose(),this.$forceUpdate()},onModalClose:function(){},onChange:function(e){this.reload()}}},Jn=Xn,ei=(a("ccd4"),Object(l["a"])(Jn,Yn,Zn,!1,null,"2f8555b5",null)),ti=ei.exports,ai=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("CustomModal",{attrs:{name:"blindSpotModal",title:"Blind Spot Detection",width:"50%",minHeight:500},on:{beforeShow:e.onModalOpen,afterHide:e.onModalClose}},[a("form",[a("div",{staticClass:"form-group"},[a("label",[e._v("Layers")]),a("v-select",{attrs:{clearable:!1,options:e.layerOptions},on:{input:e.onChange},model:{value:e.selectedLayer,callback:function(t){e.selectedLayer=t},expression:"selectedLayer"}})],1),a("div",{staticClass:"form-group"},[a("label",[e._v("Columns")]),a("v-select",{attrs:{clearable:!1,options:e.columnOptions,disabled:e.isColumnDisabled},on:{input:e.onColumnChange},model:{value:e.selectedColumn,callback:function(t){e.selectedColumn=t},expression:"selectedColumn"}}),a("small",{staticClass:"form-text text-muted"},[e._v("Only numeric columns will be shown.")])],1),e.chartVisibility?a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("line-chart",{attrs:{"chart-data":e.chartData,options:e.chartOptions,height:300}})],1)]):e._e()])])},ni=[],ii=(a("28a5"),{name:"BlindSpotModal",components:{LineChart:Un},data:function(){return{tableInfo:null,selectedLayer:null,selectedColumn:null,layerOptions:[],columnOptions:[],chartOptions:{title:{display:!0,text:""}},chartVisibility:!1,chartData:null}},computed:{isColumnDisabled:function(){return!(this.tableInfo&&this.columnOptions.length>0)},lineCoordinates:function(){return B["k"].getBbox()}},created:function(){},methods:{onModalOpen:function(){this.layerOptions=B["d"].getDynamicLayersWithoutCategory().map((function(e){return{code:e.id,label:e.name}}))},onModalClose:function(){},onChange:function(e){var t=this;K.getTableInfo(e.code).then((function(a){200!==a.status?(t.tableInfo=null,t.columnOptions=[],t.chartVisibility=!1):(t.tableInfo=a.data,t.columnOptions=t.tableInfo.columns.filter((function(e){return"int"==e.valueType||"double"==e.valueType})).map((function(e){return{code:e.columnName,label:e.columnName}}))),t.chartOptions.title.text=e.label+" Data",t.selectedColumn=null,t.chartVisibility=!1}))},onColumnChange:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t){var a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getData(this.selectedLayer.code,t.code,this.lineCoordinates);case 2:a=e.sent,n=t.code,a.features.length>0?(n,i=a.features.map((function(e){var t=e.attributes[n.toLowerCase()];return t})),this.renderGraph(n,i,i)):this.renderGraph(n,null,null),this.chartVisibility=!0;case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),renderGraph:function(e,t,a){var n=this;this.chartData={labels:t.map((function(e){return n.stringFixed(e,4)})),datasets:[{label:e,borderColor:"rgba(50, 115, 220, 0.5)",backgroundColor:"rgba(50, 115, 220, 0.1)",data:a}]}},getData:function(e,t,a){var n={layerId:e,geometryType:"linestring",extentCoordinates:JSON.stringify(a),returnGeom:!1,columns:[t],isAll:!0};return new Promise((function(e,t){w["a"].getLocalTableData(n).then((function(t){e(t.data)}))}))},stringFixed:function(e,t){var a=e.toString().split("."),n=a[0]+(void 0!=a[1]?".":"")+(void 0!=a[1]?a[1].length>t?a[1].substr(0,t):a[1]:"");return n}}}),ri=ii,si=Object(l["a"])(ri,ai,ni,!1,null,null,null),oi=si.exports,ci=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("CustomModal",{attrs:{name:"profileModal",title:"Profile",width:"70%",minHeight:600},on:{beforeShow:e.onModalOpen}},[a("div",{attrs:{id:"profileModal"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"nav nav-tabs flex-column nav-pills",attrs:{id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"}},[a("a",{staticClass:"nav-link",class:{active:"profile"===e.activeTab},attrs:{role:"button"},on:{click:function(){return e.activeTab="profile"}}},[e._v("Profile\n          ")]),a("a",{staticClass:"nav-link",class:{active:"notification"===e.activeTab},attrs:{role:"button"},on:{click:function(){return e.activeTab="notification"}}},[e._v("Notifications\n            "),e.notificationCount>0?a("span",{staticClass:"badge badge-danger float-right"},[e._v(e._s(e.notificationCount))]):e._e()]),a("a",{staticClass:"nav-link",class:{active:"favoritequery"===e.activeTab},attrs:{role:"button"},on:{click:function(){return e.activeTab="favoritequery"}}},[e._v("Favorite Queries")]),a("a",{staticClass:"nav-link",class:{active:"favoritelayer"===e.activeTab},attrs:{role:"button"},on:{click:function(){return e.activeTab="favoritelayer"}}},[e._v("Favorite Layers")]),a("a",{staticClass:"nav-link",class:{active:"defaultlayer"===e.activeTab},attrs:{role:"button"},on:{click:function(){return e.activeTab="defaultlayer"}}},[e._v("Default Layers")]),a("a",{staticClass:"nav-link",class:{active:"workspace"===e.activeTab},attrs:{role:"button"},on:{click:function(){return e.activeTab="workspace"}}},[e._v("Workspace")])])]),a("div",{staticClass:"col-md-9"},["profile"===e.activeTab?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane fade show ",class:{active:"profile"===e.activeTab}},[a("Profile")],1)]):e._e(),"notification"===e.activeTab?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane fade show ",class:{active:"notification"===e.activeTab}},[a("Notification")],1)]):e._e(),"favoritequery"===e.activeTab?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane fade show ",class:{active:"favoritequery"===e.activeTab}},[a("FavoriteQuery")],1)]):e._e(),"favoritelayer"===e.activeTab?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane fade show ",class:{active:"favoritelayer"===e.activeTab}},[a("FavoriteLayer")],1)]):e._e(),"defaultlayer"===e.activeTab?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane fade show ",class:{active:"defaultlayer"===e.activeTab}},[a("DefaultLayer")],1)]):e._e(),"workspace"===e.activeTab?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane fade show ",class:{active:"workspace"===e.activeTab}},[a("Workspace")],1)]):e._e()])])])])},li=[],ui=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"notification-content"},[e.notifications.length>0?a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("paginate",{attrs:{"page-count":e.pageCount,"page-range":5,"click-handler":e.onPageChange,"prev-text":"Prev","next-text":"Next","container-class":"pagination","page-class":"page-item"}})],1)]),a("div",{staticClass:"row  notification-content-scroll custom-scrollbar"},e._l(e.notifications,(function(e,t){return a("div",{key:t,staticClass:"col-md-12 mt-1"},[a("NotificationCard",{attrs:{label:e.label,isReaded:e.isReaded,description:e.description,date:e.dateCreated,type:e.type,createdBy:e.createdBy.userName}})],1)})),0)]):a("div",[e._m(0)])])},di=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"alert alert-info",attrs:{role:"alert"}},[e._v("\n          You dont have any notifications.\n        ")])])])}],pi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("div",{staticClass:"float-left"},[e._v("\n      "+e._s(e.label)+"\n      "),e.type?a("span",{staticClass:"badge",class:e.typeToClass()},[e._v(e._s(e.typeToString()))]):e._e()]),a("div",{staticClass:"float-right"},[e.isReaded?e._e():a("span",{staticClass:"badge badge-danger"},[e._v(" New ")])])]),a("div",{staticClass:"card-body"},[a("div",{staticClass:" mb-0"},[a("p",[e._v("\n        "+e._s(e.description)+"\n      ")]),a("footer",{staticClass:"blockquote-footer float-right"},[e._v("\n        "+e._s(e.date)+"\n        "),a("cite",{attrs:{title:"Created By"}},[e._v(e._s(e.createdBy))])])])])])},fi=[],mi={name:"NotificationCard",props:{label:{type:String},description:{type:String},date:{type:String},type:{type:Number},isReaded:{type:Boolean},createdBy:{type:String}},mounted:function(){},methods:{typeToString:function(){return 1==this.type?"info":"warning"},typeToClass:function(){return 1==this.type?"badge-info":"badge-warning"}}},bi=mi,vi=Object(l["a"])(bi,pi,fi,!1,null,null,null),hi=vi.exports,gi=a("277f"),yi={name:"Notification",components:{NotificationCard:hi},data:function(){return{limitQuery:{page:1,limit:3},notifications:[],totalCount:0}},mounted:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getNotifications();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{getNotifications:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:gi["a"].getAll(this.limitQuery).then(function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.totalCount=a.data.totalCount,t.notifications=a.data.items,e.next=4,new Promise(function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(a,n){var i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i<t.notifications.length)){e.next=9;break}if(r=t.notifications[i],r.isReaded){e.next=6;break}return e.next=6,gi["a"].setReaded(r.id);case 6:i++,e.next=1;break;case 9:a();case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());case 4:t.$store.dispatch("setNotificationCounts");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onPageChange:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.limitQuery.page=t,e.next=3,this.getNotifications();case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},computed:{pageCount:function(){return this.totalCount/this.limitQuery.limit}}},Ci=yi,_i=(a("4710"),Object(l["a"])(Ci,ui,di,!1,null,"a7fb0ce8",null)),Oi=_i.exports,Ei=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"favoritequery-content"},[e.favoriteQueries.length>0?a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("paginate",{attrs:{"page-count":e.pageCount,"page-range":5,"click-handler":e.onPageChange,"prev-text":"Prev","next-text":"Next","container-class":"pagination","page-class":"page-item"}})],1)]),a("div",{staticClass:"row  favoritequery-content-scroll custom-scrollbar"},e._l(e.favoriteQueries,(function(t,n){return a("div",{key:n,staticClass:"col-md-12 mt-1"},[a("FavoriteQueryCard",{attrs:{id:t.id,label:t.label,query:t.query,layerLabel:t.layer.label,date:t.dateCreated},on:{onApplyClick:e.onApplyClick,onDeleteClick:e.onDeleteClick}})],1)})),0)]):a("div",[e._m(0)])])},Si=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"alert alert-info",attrs:{role:"alert"}},[e._v("\n          You dont have any Favorite Queries.\n        ")])])])}],Ti=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("div",{staticClass:"float-left"},[e._v(e._s(e.label))]),a("div",{staticClass:"float-right"},[e.layerLabel?a("span",{staticClass:"badge badge-info"},[e._v("\n        "+e._s(e.layerLabel)+"\n      ")]):e._e()])]),a("div",{staticClass:"card-body"},[a("p",[e._v("\n      "+e._s(e.query)+"\n    ")]),a("div",{staticClass:"float-right"},[a("button",{staticClass:"btn btn-success btn-sm m-1",on:{click:e.onApplyClick}},[e._v("\n        Apply Query\n      ")]),a("button",{staticClass:"btn btn-danger btn-sm m-1",on:{click:e.onDeleteClick}},[e._v("\n        Delete\n      ")])])])])},wi=[],Li={name:"FavoriteQueryCard",props:{id:{type:Number,required:!0},label:{type:String},layerLabel:{type:String},query:{type:String},date:{type:String}},mounted:function(){},methods:{onDeleteClick:function(){this.$emit("onDeleteClick",this.id)},onApplyClick:function(){this.$emit("onApplyClick",this.id)}}},ki=Li,Ii=Object(l["a"])(ki,Ti,wi,!1,null,null,null),Ai=Ii.exports,Di=a("03d5"),xi={name:"FavoriteQuery",components:{FavoriteQueryCard:Ai},data:function(){return{limitQuery:{page:1,limit:1},favoriteQueries:[],totalCount:0}},mounted:function(){this.getFavoriteQueries()},methods:{getFavoriteQueries:function(){var e=this;Di["a"].getAll(this.limitQuery).then((function(t){e.totalCount=t.data.totalCount,e.favoriteQueries=t.data.items}))},onApplyClick:function(e){var t=this.favoriteQueries.find((function(t){return t.id==e})),a=B["d"].getDynamicLayer(t.layer.id);a&&(B["i"].setQuery(a,t.query),a.isSelected?B["e"].refreshService(a.id):B["i"].selectService(a,!0),B["g"].hideProfileModalModal(),this.$toasted.show("Query Successfully Applied",{icon:{name:"fas fa-check"}}))},onDeleteClick:function(e){var t=this;Di["a"].delete(e).then((function(e){t.$toasted.show("Successfully Deleted",{icon:{name:"fas fa-check"}}),1===t.favoriteQueries.length&&(t.limitQuery.page-=1),t.getFavoriteQueries()}))},onPageChange:function(e){this.limitQuery.page=e,this.getFavoriteQueries()}},computed:{pageCount:function(){return this.totalCount/this.limitQuery.limit}}},ji=xi,Pi=(a("121f"),Object(l["a"])(ji,Ei,Si,!1,null,"4d024750",null)),Mi=Pi.exports,Ri=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.basemaps.length>0||e.dynamics.length>0?a("div",{staticClass:"row"},[e.dynamics.length>0?a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("h5",[e._v("\n          Dynamic Layers\n          "),a("button",{staticClass:"btn btn-danger mr-5 float-right btn-sm",attrs:{type:"button",title:"Reset Tree"},on:{click:e.resetDynamicTree}},[a("i",{staticClass:"fas fa-sync"})])])]),a("div",{staticClass:"col-md-12"},[a("tree",{ref:"dynamicTree",attrs:{data:e.dynamics,options:e.treeOptions,checkeds:e.checkedDynamics}})],1)])]):e._e(),e.basemaps.length>0?a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("h5",[e._v("\n          Basemap Layers\n          "),a("button",{staticClass:"btn btn-danger mr-5 float-right btn-sm",attrs:{type:"button",title:"Reset Tree"},on:{click:e.resetBasemapTree}},[a("i",{staticClass:"fas fa-sync"})])])]),a("div",{staticClass:"col-md-12"},[a("tree",{ref:"basemapTree",attrs:{data:e.basemaps,options:e.treeOptions,checkeds:e.checkedBasemaps}})],1)])]):e._e(),a("div",{staticClass:"col-md-12 mt-5"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("button",{staticClass:"btn btn-success  float-right btn-sm",attrs:{type:"button"},on:{click:e.submit}},[e._v("\n          Set Favorite Layers\n        ")])])])])]):a("div",[e._m(0)])},Bi=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row "},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"alert alert-info",attrs:{role:"alert"}},[e._v("\n        You dont have any Layers.\n      ")])])])}],Ni=a("09bc"),Fi={name:"FavoriteLayer",components:{Tree:St},data:function(){return{dynamics:[],basemaps:[],favoriteLayers:[],checkedDynamics:[],checkedBasemaps:[],treeOptions:{collapsed:!0,checkbox:!0,labels:{children:"children",items:"layers",name:"name",id:"id"},conditions:{isCategory:function(e){return!(!e||"category"!==e.type)},isCheckboxExist:function(e){return!(!e||"category"===e.type)}}}}},mounted:function(){var e=this;this.getFavoriteLayers().then((function(t){var a=t.filter((function(e){return"dynamic"==e.layer.mapTypeId})).map((function(e){return e.layer.id}));e.checkedDynamics=a;var n=t.filter((function(e){return"basemap"==e.layer.mapTypeId})).map((function(e){return e.layer.id}));e.checkedBasemaps=n;var i=B["d"].getDynamicLayerList();e.dynamics=i;var r=B["d"].getBaseLayerList();e.basemaps=r}))},methods:{resetDynamicTree:function(){this.$refs.dynamicTree.setCheckeds([])},resetBasemapTree:function(){this.$refs.basemapTree.setCheckeds([])},getFavoriteLayers:function(){var e=this;return new Promise((function(t,a){Ni["a"].getAll().then((function(n){200==n.status?(e.favoriteLayers=n.data,t(n.data)):a(new Error("Faild"))}))}))},submit:function(){var e=this,t=[],a=this.$refs.dynamicTree.getCheckeds(),n=this.$refs.basemapTree.getCheckeds();a.forEach((function(e){t.push({layerId:e})})),n.forEach((function(e){t.push({layerId:e})})),Ni["a"].set(t).then((function(t){200==t.status?(B["d"].setFavoriteDynamicLayerIds(a),B["d"].setFavoriteBaseLayerIds(n),e.$toasted.show("Favorite Queries Successfully Setted",{icon:{name:"fas fa-check"}})):e.$toasted.show("Failed!",{theme:"bubble",icon:{name:"fas fa-exclamation"}})}))}}},Vi=Fi,Gi=Object(l["a"])(Vi,Ri,Bi,!1,null,null,null),Hi=Gi.exports,Ui=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.basemaps.length>0||e.dynamics.length>0?a("div",{staticClass:"row"},[e.dynamics.length>0?a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("h5",[e._v("\n          Dynamic Layers\n          "),a("button",{staticClass:"btn btn-danger mr-5 float-right btn-sm",attrs:{type:"button",title:"Reset Tree"},on:{click:e.resetDynamicTree}},[a("i",{staticClass:"fas fa-sync"})])])]),a("div",{staticClass:"col-md-12"},[a("tree",{ref:"dynamicTree",attrs:{data:e.dynamics,options:e.treeOptions,checkeds:e.checkedDynamics}})],1)])]):e._e(),e.basemaps.length>0?a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("h5",[e._v("\n          Basemap Layers\n          "),a("button",{staticClass:"btn btn-danger mr-5 float-right btn-sm",attrs:{type:"button",title:"Reset Tree"},on:{click:e.resetBasemapTree}},[a("i",{staticClass:"fas fa-sync"})])])]),a("div",{staticClass:"col-md-12"},[a("tree",{ref:"basemapTree",attrs:{data:e.basemaps,options:e.treeOptions,checkeds:e.checkedBasemaps}})],1)])]):e._e(),a("div",{staticClass:"col-md-12 mt-5"},[a("div",{staticClass:"row"},[e._m(0),a("div",{staticClass:"col-md-6"},[a("button",{staticClass:"btn btn-success  float-right btn-sm",attrs:{type:"button"},on:{click:e.submit}},[e._v("\n          Set Default Layers\n        ")])])])])]):a("div",[e._m(1)])},zi=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-md-6"},[a("span",[a("strong",{staticClass:"text-muted"},[e._v("Note : ")]),a("small",{staticClass:"text-muted"},[e._v("Changes will be applied after refresh.")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row "},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"alert alert-info",attrs:{role:"alert"}},[e._v("\n        You dont have any Layers.\n      ")])])])}],$i=a("8ae2"),qi={name:"DefaultLayer",components:{Tree:St},data:function(){return{dynamics:[],basemaps:[],defaultLayers:[],checkedDynamics:[],checkedBasemaps:[],treeOptions:{collapsed:!0,checkbox:!0,labels:{children:"children",items:"layers",name:"name",id:"id"},conditions:{isCategory:function(e){return!(!e||"category"!==e.type)},isCheckboxExist:function(e){return!(!e||"category"===e.type)}}}}},mounted:function(){var e=this;this.getDefaultLayers().then((function(t){var a=t.filter((function(e){return"dynamic"==e.layer.mapTypeId})).map((function(e){return e.layer.id}));e.checkedDynamics=a;var n=t.filter((function(e){return"basemap"==e.layer.mapTypeId})).map((function(e){return e.layer.id}));e.checkedBasemaps=n;var i=B["d"].getDynamicLayerList();e.dynamics=i;var r=B["d"].getBaseLayerList();e.basemaps=r}))},methods:{resetDynamicTree:function(){this.$refs.dynamicTree.setCheckeds([])},resetBasemapTree:function(){this.$refs.basemapTree.setCheckeds([])},getDefaultLayers:function(){var e=this;return new Promise((function(t,a){$i["a"].getAll().then((function(n){200==n.status?(e.defaultLayers=n.data,t(n.data)):a(new Error("Faild"))}))}))},submit:function(){var e=this,t=[],a=this.$refs.dynamicTree.getCheckeds(),n=this.$refs.basemapTree.getCheckeds();a.forEach((function(e){t.push({layerId:e})})),n.forEach((function(e){t.push({layerId:e})})),$i["a"].set(t).then((function(t){200==t.status?e.$toasted.show("Default Layers Successfully Setted",{icon:{name:"fas fa-check"}}):e.$toasted.show("Failed!",{theme:"bubble",icon:{name:"fas fa-exclamation"}})}))}}},Qi=qi,Yi=Object(l["a"])(Qi,Ui,zi,!1,null,null,null),Zi=Yi.exports,Ki=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-md-12"},[e._v("\n    Username : "),a("strong",[e._v(e._s(e.username))])]),a("div",{staticClass:"col-md-12"},[e._v("\n    E-mail :"),a("strong",[e._v(e._s(e.email))])])])},Wi=[],Xi={name:"Profile",data:function(){return{username:"",email:""}},mounted:function(){var e=B["l"].getUserInfo();this.username=e.userName,this.email=e.email}},Ji=Xi,er=Object(l["a"])(Ji,Ki,Wi,!1,null,null,null),tr=er.exports,ar=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"row"},[e._m(0),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"m-1"},[a("label",{staticClass:"font-weight-bold"},[e._v("Zoom Level :")]),a("span",[a("span",{staticClass:"badge badge-primary ml-1"},[e._v(e._s(e.zoomLevel))])])]),a("div",{staticClass:"m-1"},[a("label",{staticClass:"font-weight-bold"},[e._v("Map X Coordinate :")]),e.center&&e.center[0]?a("span",[a("span",{staticClass:"badge badge-warning  ml-1"},[e._v(e._s(e.center[0])+"\n            ")])]):e._e()]),a("div",{staticClass:"m-1"},[a("label",{staticClass:"font-weight-bold"},[e._v("Map Y Coordinate :")]),e.center&&e.center[1]?a("span",[a("span",{staticClass:"badge badge-warning  ml-1"},[e._v(" "+e._s(e.center[1])+" ")])]):e._e()]),a("div",{staticClass:"m-1"},[a("label",{staticClass:"font-weight-bold"},[e._v("Selected Layers :")]),e.selectedLayers?a("span",e._l(e.selectedLayers,(function(t,n){return a("span",{key:n},[a("span",{staticClass:"badge badge-info ml-1"},[e._v(e._s(t.name))])])})),0):e._e()])])])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"row"},[e._m(1),e.workspace?a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"m-1"},[a("label",{staticClass:"font-weight-bold"},[e._v("Zoom Level :")]),a("span",[a("span",{staticClass:"badge badge-primary ml-1"},[e._v(e._s(e.workspace.zoomLevel))])])]),a("div",{staticClass:"m-1"},[a("label",{staticClass:"font-weight-bold"},[e._v("Map X Coordinate :")]),a("span",[a("span",{staticClass:"badge badge-warning  ml-1"},[e._v(e._s(e.workspace.coordinateX)+"\n            ")])])]),a("div",{staticClass:"m-1"},[a("label",{staticClass:"font-weight-bold"},[e._v("Map Y Coordinate :")]),a("span",[a("span",{staticClass:"badge badge-warning  ml-1"},[e._v("\n              "+e._s(e.workspace.coordinateY)+"\n            ")])])]),a("div",{staticClass:"m-1"},[a("label",{staticClass:"font-weight-bold"},[e._v("Selected Layers :")]),e._l(e.workspace.activeLayers,(function(t,n){return a("span",{key:n},[a("span",{staticClass:"badge badge-info ml-1"},[e._v(e._s(t.label))])])}))],2)]):a("div",[e._m(2)])])]),a("div",{staticClass:"col-md-12 mt-5"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"float-right"},[a("button",{staticClass:"btn btn-success m-1 btn-sm",on:{click:e.saveWorkspace}},[e._v("\n            Save\n          ")]),e.workspace?a("button",{staticClass:"btn btn-info m-1 btn-sm",on:{click:e.loadWorkspace}},[e._v("\n            Load Workspace\n          ")]):e._e(),e.workspace?a("button",{staticClass:"btn btn-danger m-1 btn-sm",on:{click:e.resetWorkspace}},[e._v("\n            Reset\n          ")]):e._e()])])])])])},nr=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-md-12 text-center"},[a("h5",[e._v("Current Map Configurations")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-md-12 text-center"},[a("h5",[e._v("Saved Map Configurations")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"alert alert-info",attrs:{role:"alert"}},[e._v("\n            You dont have any Configurations Data.\n          ")])])}],ir={get:function(){return N["a"].get(M["o"].GET)},set:function(e){return N["a"].post(M["o"].SET,e)},delete:function(){return N["a"].post(M["o"].DELETE)}},rr={name:"Workspace",data:function(){return{zoomLevel:0,center:[],rotation:0,selectedLayers:[],workspace:null}},mounted:function(){this.getWorkspace(),this.getCurrentConfigurations()},methods:{getCurrentConfigurations:function(){this.zoomLevel=B["e"].getCurrentZoomLevel(),this.center=B["e"].getCurrentCenter(),this.rotation=B["e"].getCurrentRotation(),this.selectedLayers=B["d"].getSelectedLayers()},getLayersName:function(){},getWorkspace:function(){var e=this;ir.get().then((function(t){t.data&&""!=t.data?e.workspace=t.data:e.workspace=null}))},resetWorkspace:function(){var e=this;ir.delete().then((function(t){200==t.status?(e.getWorkspace(),e.$toasted.show("Configurations Successfully Reseted",{icon:{name:"fas fa-check"}})):e.$toasted.show("Failed!",{theme:"bubble",icon:{name:"fas fa-exclamation"}})}))},loadWorkspace:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t,a,n,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.workspace){e.next=13;break}return t=this.workspace.zoomLevel,a=[this.workspace.coordinateX,this.workspace.coordinateY],n=this.workspace.activeLayers,B["e"].setZoomLevel(t),B["e"].setCenter(a),i=B["d"].getSelectedLayers(),e.next=9,new Promise((function(e,t){i&&i.length>0&&i.forEach(function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B["i"].selectService(t,!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e(i)}));case 9:return r=B["d"].getLayersWithoutCategory().filter((function(e){return n.map((function(e){return e.id})).includes(e.id)})),e.next=12,new Promise((function(e,t){r.forEach(function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B["i"].selectService(t,!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e(r)}));case 12:this.getCurrentConfigurations();case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),saveWorkspace:function(){var e=this,t={zoomLevel:this.zoomLevel,coordinateX:this.center[0],coordinateY:this.center[1],activeLayers:this.selectedLayers.map((function(e){return e.id}))};ir.set(t).then((function(t){200==t.status?(e.getWorkspace(),e.$toasted.show("Configurations Successfully Setted",{icon:{name:"fas fa-check"}})):e.$toasted.show("Failed!",{theme:"bubble",icon:{name:"fas fa-exclamation"}})}))}}},sr=rr,or=Object(l["a"])(sr,ar,nr,!1,null,null,null),cr=or.exports,lr={name:"ProfileModal",components:{Notification:Oi,FavoriteQuery:Mi,Profile:tr,FavoriteLayer:Hi,DefaultLayer:Zi,Workspace:cr},data:function(){return{activeTab:"profile"}},computed:{notificationCount:function(){return B["f"].getNotificationCount()}},methods:{onModalOpen:function(){this.activeTab="profile"}}},ur=lr,dr=(a("38b9"),Object(l["a"])(ur,ci,li,!1,null,"5e9c7428",null)),pr=dr.exports;a("4882")},"2c2c":function(e,t,a){},"30e2":function(e,t,a){"use strict";var n=a("8eb3"),i=a.n(n);i.a},3178:function(e,t,a){},3666:function(e,t,a){e.exports=a.p+"img/ndvi.358e75b9.svg"},"36d6":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=["#673ab7","#f44336","#ffeb3b","#4caf50","#9c27b0","#2196F3","#E91E63","#795548","#009688"]},"38b9":function(e,t,a){"use strict";var n=a("688b"),i=a.n(n);i.a},"3b25":function(e){e.exports=JSON.parse('[{"city":"Baku","admin":"Bakı","country":"Azerbaijan","population_proper":"1892000","iso2":"AZ","capital":"primary","lat":"40.395278","lng":"49.882222","population":"2122300"},{"city":"Gəncə","admin":"Gəncə","country":"Azerbaijan","population_proper":"300131","iso2":"AZ","capital":"admin","lat":"40.682778","lng":"46.360556","population":"303268"},{"city":"Sumqayıt","admin":"Sumqayıt","country":"Azerbaijan","population_proper":"265150","iso2":"AZ","capital":"admin","lat":"40.589722","lng":"49.668611","population":"279159"},{"city":"Hacıvar","admin":"Babək","country":"Azerbaijan","population_proper":"64754","iso2":"AZ","capital":"","lat":"39.208067","lng":"45.446038","population":"94788"},{"city":"Şəki","admin":"Şəki","country":"Azerbaijan","population_proper":"62191","iso2":"AZ","capital":"admin","lat":"41.191944","lng":"47.170556","population":"64968"},{"city":"Lənkəran","admin":"Lənkəran","country":"Azerbaijan","population_proper":"60180","iso2":"AZ","capital":"admin","lat":"38.755947","lng":"48.84715","population":"60180"},{"city":"Yevlax","admin":"Yevlax","country":"Azerbaijan","population_proper":"46312","iso2":"AZ","capital":"admin","lat":"40.612732","lng":"47.142329","population":"53716"},{"city":"Göyçay","admin":"Göyçay","country":"Azerbaijan","population_proper":"34715","iso2":"AZ","capital":"admin","lat":"40.650555","lng":"47.74219","population":"35348"},{"city":"Tovuz","admin":"Tovuz","country":"Azerbaijan","population_proper":"12626","iso2":"AZ","capital":"admin","lat":"40.992487","lng":"45.628384","population":"12626"},{"city":"Qəbələ","admin":"Qəbələ","country":"Azerbaijan","population_proper":"11867","iso2":"AZ","capital":"admin","lat":"40.982474","lng":"47.849092","population":"11867"},{"city":"Gədəbəy","admin":"Gədəbəy","country":"Azerbaijan","population_proper":"8657","iso2":"AZ","capital":"admin","lat":"40.570551","lng":"45.812288","population":"8657"},{"city":"Goranboy","admin":"Goranboy","country":"Azerbaijan","population_proper":"7333","iso2":"AZ","capital":"admin","lat":"40.610278","lng":"46.789722","population":"7333"},{"city":"Oğuz","admin":"Oğuz","country":"Azerbaijan","population_proper":"6876","iso2":"AZ","capital":"admin","lat":"41.07128","lng":"47.465284","population":"6876"},{"city":"Zaqatala","admin":"Zaqatala","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"41.631596","lng":"46.644791","population":""},{"city":"Mingəçevir","admin":"Mingəçevir","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.763947","lng":"47.059533","population":""},{"city":"Xızı","admin":"Xızı","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.905761","lng":"49.081268","population":""},{"city":"Xırdalan","admin":"Abşeron","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.448085","lng":"49.755022","population":""},{"city":"Heydərabad","admin":"Sədərək","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.722857","lng":"44.848458","population":""},{"city":"Zəngilan","admin":"Zəngilan","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.088401","lng":"46.6513","population":""},{"city":"Ağstafa","admin":"Ağstafa","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"41.114834","lng":"45.446825","population":""},{"city":"Ucar","admin":"Ucar","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.515671","lng":"47.654648","population":""},{"city":"Göygöl","admin":"Göygöl","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.585838","lng":"46.318897","population":""},{"city":"Xocavənd","admin":"Xocavənd","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.795464","lng":"47.109891","population":""},{"city":"Xaçmaz","admin":"Xaçmaz","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"41.464258","lng":"48.805652","population":""},{"city":"Kəlbəcər","admin":"Kəlbəcər","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.109842","lng":"46.04446","population":""},{"city":"Yardımlı","admin":"Yardımlı","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"38.907711","lng":"48.240521","population":""},{"city":"Daşkəsən","admin":"Daşkəsən","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.523932","lng":"46.081863","population":""},{"city":"Kürdəmir","admin":"Kürdəmir","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.345318","lng":"48.150847","population":""},{"city":"Hacıqabul","admin":"Hacıqabul","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.038743","lng":"48.942865","population":""},{"city":"Qax","admin":"Qax","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"41.418259","lng":"46.92043","population":""},{"city":"Qazax","admin":"Qazax","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"41.09246","lng":"45.365608","population":""},{"city":"Tərtər","admin":"Tərtər","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.341794","lng":"46.932418","population":""},{"city":"Biləsuvar","admin":"Biləsuvar","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.458333","lng":"48.545","population":""},{"city":"Şəmkir","admin":"Şəmkir","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.82975","lng":"46.017804","population":""},{"city":"Qubadlı","admin":"Qubadlı","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.344407","lng":"46.581834","population":""},{"city":"Quba","admin":"Quba","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"41.361077","lng":"48.513411","population":""},{"city":"Qusar","admin":"Qusar","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"41.427496","lng":"48.4302","population":""},{"city":"Babək","admin":"Babək","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"minor","lat":"39.154592","lng":"45.442825","population":""},{"city":"Füzuli","admin":"Füzuli","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.60094","lng":"47.14529","population":""},{"city":"Cəbrayıl","admin":"Cəbrayıl","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.399173","lng":"47.028345","population":""},{"city":"Salyan","admin":"Salyan","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.596214","lng":"48.984786","population":""},{"city":"Xocalı","admin":"Xocalı","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.912973","lng":"46.790284","population":""},{"city":"Astara","admin":"Astara","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"38.455977","lng":"48.87498","population":""},{"city":"Culfa","admin":"Culfa","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"minor","lat":"38.95397","lng":"45.62961","population":""},{"city":"Ağdaş","admin":"Ağdaş","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.646987","lng":"47.473803","population":""},{"city":"Lerik","admin":"Lerik","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"38.773883","lng":"48.414969","population":""},{"city":"Masallı","admin":"Masallı","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.027781","lng":"48.670276","population":""},{"city":"Ağdam","admin":"Tovuz","country":"Azerbaijan","population_proper":"0","iso2":"AZ","capital":"","lat":"40.908483","lng":"45.554269","population":"0"},{"city":"Beyləqan","admin":"Beyləqan","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.775556","lng":"47.618611","population":""},{"city":"Ağsu","admin":"Ağsu","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.569167","lng":"48.396476","population":""},{"city":"Qobustan","admin":"Qobustan","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.533601","lng":"48.928193","population":""},{"city":"Bərdə","admin":"Bərdə","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.375768","lng":"47.126191","population":""},{"city":"Ordubad","admin":"Ordubad","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"38.90961","lng":"46.022737","population":""},{"city":"Balakən","admin":"Balakən","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"41.726258","lng":"46.40478","population":""},{"city":"İsmayıllı","admin":"İsmayıllı","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.784846","lng":"48.151409","population":""},{"city":"Şuşa","admin":"Şuşa","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.760057","lng":"46.749893","population":""},{"city":"Samux","admin":"Samux","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.764854","lng":"46.408678","population":""},{"city":"Ağcabədi","admin":"Ağcabədi","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.050146","lng":"47.459367","population":""},{"city":"Ağdam","admin":"Ağdam","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.99096","lng":"46.927356","population":""},{"city":"Dəvəçi","admin":"Şabran","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"41.201166","lng":"48.987117","population":""},{"city":"İmişli","admin":"İmişli","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.872398","lng":"48.064928","population":""},{"city":"Saatlı","admin":"Saatlı","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.932137","lng":"48.368919","population":""},{"city":"Naxçıvan","admin":"Naxçıvan","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.208846","lng":"45.411887","population":""},{"city":"Siyəzən","admin":"Siyəzən","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"41.077538","lng":"49.112573","population":""},{"city":"Şahbuz","admin":"Şahbuz","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.407222","lng":"45.573889","population":""},{"city":"Cəlilabad","admin":"Cəlilabad","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.209633","lng":"48.491862","population":""},{"city":"Sabirabad","admin":"Sabirabad","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.008688","lng":"48.47701","population":""},{"city":"Neftçala","admin":"Neftçala","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.376798","lng":"49.246998","population":""},{"city":"Laçın","admin":"Laçın","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.643401","lng":"46.546206","population":""},{"city":"Naftalan","admin":"Naftalan","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.508208","lng":"46.820302","population":""},{"city":"Zərdab","admin":"Zərdab","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.219906","lng":"47.709968","population":""},{"city":"Şərur","admin":"Şərur","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.554358","lng":"44.982597","population":""},{"city":"Qıvraq","admin":"Kəngərli","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.399389","lng":"45.11513","population":""}]')},"3dd2":function(e,t,a){e.exports=a.p+"img/fullscreen.c7944bd6.svg"},"3e33":function(e,t,a){"use strict";var n=a("0955"),i=a.n(n);i.a},4045:function(e,t,a){e.exports=a.p+"img/loading.759ce13d.svg"},"41cb":function(e,t,a){"use strict";var n=a("2b0e"),i=a("8c4f"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row container-fluid padding-0"},[a("div",{staticClass:"padding-0 map-layout"},[a("div",{attrs:{id:"map"}},[a("MapControls"),a("Sidebar")],1)]),a("ProfileModal"),a("DataTable",{ref:"dataTable"}),a("CustomModal",{attrs:{name:"sumResultModal",maxWidth:600}},[a("Report",{attrs:{result:e.sumData}})],1),a("FilterModal"),a("CustomModal",{attrs:{name:"colorPickerModal",title:"Color picker",minWidth:300}},[a("ShapeColorPicker",{on:{setShapeColor:e.setShapeColor}})],1),a("detector-modal",e._b({attrs:{visible:e.bbox.length>0&&e.isDrawnShapeForDetection},on:{close:function(t){e.bbox=[],e.isDrawnShapeForDetection=!1}}},"detector-modal",{bbox:e.bbox,token:e.token},!1)),a("NdviAssessment"),a("BlindSpotModal"),a("InfoModal",{attrs:{isOpen:e.isInformationModalVisible},on:{close:function(t){e.isInformationModalVisible=!1}}}),a("ServiceSelectionModal"),a("ComputedLayersModal"),a("ComparerModal"),a("MapTextModal")],1)},s=[],o=a("75fc"),c=(a("6b54"),a("b85b")),l=a("2af9"),u=(a("ce96"),a("7055")),d=a("dde5"),p=(a("7540"),{name:"Home",components:{ShapeColorPicker:l["o"],DataTable:l["e"],DetectorModal:l["b"],InfoModal:l["g"],Sidebar:l["p"],FilterModal:l["f"],Report:l["m"],MapControls:l["h"],MapTextModal:l["i"],ComputedLayersModal:l["d"],NdviAssessment:l["k"],ProfileModal:l["l"],ServiceSelectionModal:l["n"],BlindSpotModal:l["a"],ComparerModal:l["c"]},data:function(){return{latChange:null,longChange:null,layers:[],token:null,kmlInfo:null,vector:null,vectorSource:null,vectorLayer:null,hashResolveResult:{},scaleLineOptions:new c["x"]({units:"metric"}),isMetricCoordinateSystem:!1}},created:function(){},mounted:function(){var e=new c["D"]({source:u["e"].getBaseMaps()["gray"]});new c["D"]({source:new c["C"]({projection:"EPSG:3857",tileGrid:(new c["t"]).getTileGrid()})});this.moodal=this.$moodal,this.hashResolveResult=d["b"].resolveHash(),this.drawSource=new c["H"]({wrapX:!1}),this.vector=new c["G"]({source:this.drawSource,features:[]}),this.vector.setZIndex(9999),this.$nextTick((function(){var t=this,a=new c["c"]({formatConstructors:[c["h"],c["i"],c["k"],c["o"],c["F"]]});this.layers=[e,this.vector];var n=null!==this.hashResolveResult?this.hashResolveResult.zoom:8,i=null!==this.hashResolveResult?this.hashResolveResult.center:Object(c["R"])([47.82858,40.3598414]),r=0;this.mapLayer=new c["r"]({interactions:Object(c["Q"])().extend([new c["d"],a]),controls:Object(c["P"])().extend([this.scaleLineOptions]),target:"map",layers:this.layers,view:new c["K"]({center:i,zoom:n,rotation:r})});var s=new c["s"]({source:this.drawSource});this.mapLayer.addInteraction(s);var l=this;a.on("addfeatures",(function(e){this.drawSource.addFeatures(e.features),l.mapLayer.getView().fit(this.drawSource.getExtent())})),this.mapLayer.on("pointermove",(function(e){if(!e.dragging){l.mapLayer.getEventPixel(e.originalEvent);var t=Object(c["T"])(e.coordinate,"EPSG:3857","EPSG:4326");l.isMetricCoordinateSystem?(t=Object(c["R"])([t[0],t[1]]),t=[t[1].toString().substring(0,10),t[0].toString().substring(0,10)]):t=[t[1].toString().substring(0,7),t[0].toString().substring(0,7)]}})),this.mapLayer.on("click",u["e"].onMapClick),this.$store.dispatch("init").then((function(){null!==t.hashResolveResult&&u["i"].setServicesStatusByIds(t.hashResolveResult.selectedLayers,!0);var e=[].concat(Object(o["a"])(t.$store.getters.defaultDynamicLayerIds),Object(o["a"])(t.$store.getters.defaultBaseLayerIds));u["i"].setServicesStatusByIds(e,!0),l.mapLayer.on("moveend",u["c"].updateHistoryMap)})),window.addEventListener("popstate",(function(e){null!==e.state&&(t.mapLayer.getView().setCenter(e.state.center),t.mapLayer.getView().setZoom(e.state.zoom),t.mapLayer.getView().setRotation(e.state.rotation))}))}))},methods:{setShapeColor:function(){document.body.style.cursor="crosshair",this.$moodal.colorPickerModal.hide()},dragAndDropToast:function(){this.$toasted.show("Drag & drop GPX, GeoJSON, IGC, KML, TopoJSON files over map",{theme:"outline",position:"bottom-center",duration:3500})}},computed:{moodal:{get:function(){return this.$store.getters.moodal},set:function(e){this.$store.dispatch("saveMoodal",e)}},isInformationModalVisible:{get:function(){return this.$store.getters.isInformationModalVisible},set:function(e){this.$store.dispatch("saveInformationModalVisibility",e)}},tableActiveService:function(){return this.$store.getters.tableActiveService},isDrawnShapeForDetection:{get:function(){return u["k"].getDrawForChangeDetectionStatus()},set:function(e){u["k"].setDrawForChangeDetectionStatus(e)}},drawSource:{get:function(){return this.$store.getters.drawSource},set:function(e){this.$store.dispatch("saveDrawSource",e)}},mapLayer:{get:function(){return this.$store.getters.mapLayer},set:function(e){this.$store.dispatch("saveMap",e)}},sumData:function(){return this.$store.getters.sumData},shapeBorderColor:function(){return this.$store.state.shapeBorderColor},shapeFillColor:function(){return this.$store.state.shapeFillColor},bbox:{get:function(){return u["k"].getBbox()},set:function(e){u["k"].setBbox(e)}}}}),f=p,m=a("2877"),b=Object(m["a"])(f,r,s,!1,null,null,null),v=b.exports,h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main"},[n("div",{staticClass:"form-block"},[n("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[n("img",{staticClass:"logo",attrs:{src:a("c8ca")}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",placeholder:"username"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e.error?n("p",{staticClass:"error-message"},[e._v(e._s(e.error))]):e._e(),e._m(0)])]),e._m(1)])},g=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",[a("i",{staticClass:"fas fa-arrow-right"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sign-block"},[a("span",{staticClass:"sign"},[e._v("© 2020 Research and Development Center, Azercosmos OJSCo")])])}],y=(a("96cf"),a("3b8d")),C=a("b775"),_=a("78a3"),O={login:function(e){var t=C["a"].post(_["a"].LOGIN_URL,e);return t}},E={mounted:function(){this.error=this.$store.getters.authError},data:function(){return{username:"",password:"",error:""}},methods:{login:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(){var t,a,n,i,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.username,a=this.password,e.next=3,O.login({emailOrUsername:t,password:a});case 3:n=e.sent,400===n.status?this.error=n.data:(i=n.data,r=i.token,s=i.user.userName,d["c"].setToken(r),this.$store.dispatch("SAVE_AUTH_TOKEN",r),localStorage.setItem("username",s),this.$router.push("/"));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},S=E,T=(a("30e2"),Object(m["a"])(S,h,g,!1,null,"43661768",null)),w=T.exports;n["default"].use(i["a"]);t["a"]=new i["a"]({mode:"history",routes:[{path:"/",name:"home",component:v},{path:"/login",name:"Login",component:w}]})},4386:function(e,t,a){e.exports=a.p+"img/information.03558777.svg"},4397:function(e,t,a){"use strict";var n=a("44be"),i=a.n(n);i.a},"44be":function(e,t,a){},4678:function(e,t,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d833","./ar-tn.js":"6d833","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b2","./mi.js":"688b2","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a391","./ne.js":"3a391","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=r,e.exports=i,i.id="4678"},"470d":function(e,t,a){},4710:function(e,t,a){"use strict";var n=a("ed7b"),i=a.n(n);i.a},"473a":function(e,t,a){e.exports=a.p+"img/reset.6c5cc106.svg"},4882:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("CustomModal",{attrs:{name:"favoriteQueryModal",title:"Profile",width:"30%",minHeight:300},on:{beforeShow:e.onModalOpen}},[a("form",[a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"label"}},[e._v("Label")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.label,expression:"data.label"}],staticClass:"form-control ",class:{"is-invalid":e.submitted&&!e.$v.data.label.required},attrs:{type:"text",id:"label",required:""},domProps:{value:e.data.label},on:{input:function(t){t.target.composing||e.$set(e.data,"label",t.target.value)}}}),e.submitted&&!e.$v.data.label.required?a("div",{staticClass:"invalid-feedback"},[e._v("\n            Label is required\n          ")]):e._e()])]),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"query"}},[e._v("Query")]),a("textarea",{staticClass:"form-control",attrs:{rows:"4",cols:"69",disabled:""},domProps:{value:e.data.query}})])]),a("div",{staticClass:"col-md-12"},[a("button",{staticClass:"btn btn-primary float-right",attrs:{type:"button"},on:{click:e.addFavoriteQuery}},[e._v("\n          Add\n        ")])])])])])},i=[],r=(a("c5f6"),a("b5ae")),s=a("03d5"),o=a("7055"),c={name:"FavoriteQueryModal",props:{layerId:{type:Number,required:!0},query:{type:String,required:!0}},watch:{query:{immediate:!0,handler:function(e,t){this.data.query=e}},layerId:{immediate:!0,handler:function(e,t){this.data.layerId=e}}},data:function(){return{submitted:!1,data:{layerId:void 0,label:"",query:""}}},validations:{data:{label:{required:r["required"]}}},mounted:function(){this.data.query=this.query,this.data.layerId=this.layerId},methods:{onModalOpen:function(){this.submitted=!1,this.data.label=""},addFavoriteQuery:function(){var e=this;this.submitted=!0,this.$v.$touch(),this.$v.$invalid||s["a"].add(this.data).then((function(t){e.$toasted.show("Successfully Added",{icon:{name:"fas fa-check"}}),o["g"].hideFavoriteQueryModal()}))}}},l=c,u=a("2877"),d=Object(u["a"])(l,n,i,!1,null,null,null);t["default"]=d.exports},"4c8e":function(e,t,a){},"4ec0":function(e,t,a){e.exports=a.p+"img/point.52b8e62a.svg"},5113:function(e,t,a){e.exports=a.p+"img/grid.283f34a6.svg"},5477:function(e,t,a){"use strict";var n=a("72e4"),i=a.n(n);i.a},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),i=a("00e7"),r=a.n(i),s=a("1bdd"),o=a("1881"),c=a.n(o),l=a("953d"),u=a.n(l),d=a("9d79"),p=a("f2ef"),f=(a("e7b5"),a("41cb")),m=a("2af9"),b=a("07a4"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},h=[],g=(a("5c0b"),a("2877")),y={},C=Object(g["a"])(y,v,h,!1,null,null,null),_=C.exports,O=(a("f9e3"),a("91a5"),a("8b4c"),a("ff9f"),a("062f"),a("fe1b"),a("fefb"),a("9560"),a("b007"),a("f855"),a("5bc0"),a("a753"),a("8096"),a("14e1"),a("4413"),a("9062")),E=a.n(O),S=(a("e40d"),a("a65d")),T=a.n(S),w=a("5886"),L=a("f213"),k=a("8e5f"),I=a.n(k),A=(a("e607"),a("4a7a")),D=a.n(A),x=(a("6dfc"),a("92c3")),j=a.n(x),P=(a("1e3f"),a("0808"),a("6944")),M=a.n(P),R=a("8832"),B=a.n(R),N=a("1dce"),F=a.n(N),V=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),G=(a("96cf"),a("3b8d")),H=a("dde5");function U(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?U(Object(a),!0).forEach((function(t){Object(V["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var $=["/login"];f["a"].beforeEach(function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t,a,n){var i,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=H["c"].getToken(),!i){e.next=24;break}if("/login"!==t.path){e.next=6;break}n({path:"/"}),e.next=22;break;case 6:if(r=b["a"].getters.roles&&b["a"].getters.roles.length>0,!r){e.next=11;break}n(),e.next=22;break;case 11:return e.prev=11,e.next=14,H["d"].getInfo();case 14:s=e.sent,200!==s.status&&(H["a"].logout(),n("/login")),n(z({},t,{replace:!0})),e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](11),n("/login");case 22:e.next=25;break;case 24:-1!==$.indexOf(t.path)?n():n("/login");case 25:case"end":return e.stop()}}),e,null,[[11,19]])})));return function(t,a,n){return e.apply(this,arguments)}}()),n["default"].use(L["b"],{toast:{position:L["a"].leftBottom,timeout:3e3}}),n["default"].component("CustomModal",m["j"]),n["default"].component("paginate",B.a),n["default"].component("v-select",D.a),n["default"].use(F.a),n["default"].use(E.a),n["default"].use(I.a),n["default"].use(T.a,{position:"bottom-left",duration:3e3,iconPack:"custom-class"}),n["default"].use(c.a),n["default"].component("downloadExcel",s["a"]),n["default"].use(r.a),n["default"].use(p["b"]),n["default"].use(j.a),n["default"].use(M.a),n["default"].config.productionTip=!1,n["default"].use(d),n["default"].use(w["a"]),n["default"].use(u.a),new n["default"]({router:f["a"],store:b["a"],render:function(e){return e(_)}}).$mount("#app")},5981:function(e,t,a){var n={"./arrow_down.svg":"ccd8","./arrow_left.svg":"cee4","./arrow_right.svg":"adc4","./arrow_up.svg":"eeec","./circle.svg":"fcd6","./color_fill.svg":"9f3c","./color_picker.svg":"1616","./delete.svg":"a91f","./file_download.svg":"9565","./fullscreen.svg":"3dd2","./grid.svg":"5113","./hamburger.svg":"a373","./home.svg":"7936","./information.svg":"4386","./layer.svg":"fb04","./line.svg":"ed85","./list.svg":"a93e","./map.svg":"df19","./minus.svg":"f11b","./mouse.svg":"1959","./ndvi.svg":"3666","./pencil.svg":"7576","./picture.svg":"7b30","./place.svg":"10e6","./plus.svg":"6cf9","./point.svg":"4ec0","./polygon.svg":"5d2b","./rectangle.svg":"16ab","./reset.svg":"473a","./search.svg":"f919","./square.svg":"fd79","./swap.svg":"979e","./user.svg":"afa4","./world.svg":"c5b8"};function i(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=r,e.exports=i,i.id="5981"},"5c0b":function(e,t,a){"use strict";var n=a("e332"),i=a.n(n);i.a},"5d2b":function(e,t,a){e.exports=a.p+"img/polygon.28d1159d.svg"},6092:function(e,t,a){"use strict";var n=a("fafe"),i=a.n(n);i.a},6511:function(e,t,a){"use strict";var n=a("4c8e"),i=a.n(n);i.a},6606:function(e,t,a){"use strict";var n=a("96ca"),i=a.n(n);i.a},"688b":function(e,t,a){},6994:function(e,t,a){"use strict";var n=a("2303"),i=a.n(n);i.a},"6b86":function(e,t,a){"use strict";var n=a("dddc"),i=a.n(n);i.a},"6cf9":function(e,t,a){e.exports=a.p+"img/plus.714a622b.svg"},"6e73":function(e,t,a){},7055:function(e,t,a){"use strict";a.d(t,"e",(function(){return V})),a.d(t,"d",(function(){return m})),a.d(t,"a",(function(){return Q})),a.d(t,"j",(function(){return ee})),a.d(t,"i",(function(){return be})),a.d(t,"k",(function(){return ce})),a.d(t,"f",(function(){return _e})),a.d(t,"g",(function(){return x})),a.d(t,"b",(function(){return Le})),a.d(t,"c",(function(){return je})),a.d(t,"h",(function(){return Fe})),a.d(t,"l",(function(){return $e}));a("8e6e"),a("ac6a"),a("456d");var n=a("bd86"),i=(a("96cf"),a("3b8d")),r=a("75fc"),s=(a("7514"),a("07a4")),o=a("ce96"),c=a("ed08");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={getBaseLayerList:function(){var e=s["a"].getters.baseLayerList;return Object(c["b"])(e)},getDynamicLayerList:function(){var e=s["a"].getters.dynamicLayerList;return Object(c["b"])(e)},getDynamicLayerAsTreeSelect:function(){var e=d.getDynamicLayerList(),t=o["e"].recursiveTreeMapping(e,(function(e){return o["h"].isCategory(e)?e.layers=e.layers.filter((function(e){return o["h"].isLocalService(e)})):o["h"].isLocalService(e)||(e=null),e}));return t},getBasemapLayerAsTreeSelect:function(){var e=d.getBaseLayerList(),t=o["e"].recursiveTreeMapping(e);return t},getLayer:function(e){var t=d.getDynamicLayer(e);return t||(t=d.getBaseLayer(e)),t},getDynamicLayer:function(e){var t=d.getDynamicLayersWithoutCategory(),a=t.find((function(t){return t.id===e}));return a},getBaseLayer:function(e){var t=d.getBaseLayersWithoutCategory(),a=t.find((function(t){return t.id===e}));return a},getLayersWithoutCategory:function(){return[].concat(Object(r["a"])(this.getDynamicLayersWithoutCategory()),Object(r["a"])(this.getBaseLayersWithoutCategory()))},getBaseLayersWithoutCategory:function(){var e=[];return o["e"].recursiveLayerMapping(d.getBaseLayerList(),(function(t){e.push(t)})),e},getDynamicLayersWithoutCategory:function(e){var t=[];return o["e"].recursiveLayerMapping(d.getDynamicLayerList(),(function(a){var n=!e||o["h"].isDynamicFromLocal(a);n&&t.push(a)})),t},getSelectedBasemaps:function(){var e=d.getBaseLayersWithoutCategory().filter((function(e){return e.isSelected}));return e},getSelectedDyanmics:function(){var e=d.getDynamicLayersWithoutCategory().filter((function(e){return e.isSelected}));return e},getSelectedLayers:function(){var e=[].concat(Object(r["a"])(d.getSelectedDyanmics()),Object(r["a"])(d.getSelectedBasemaps()));return e},getExtentCoordinates:function(e){var t=d.getDynamicLayer(e);return t.query.extentCoordinates},getLayerColorOrderList:function(){return s["a"].getters.layerColorOrderList},getFavoriteBaseLayerIds:function(){return s["a"].getters.favoriteBaseLayerIds},getFavoriteDynamicLayerIds:function(){return s["a"].getters.favoriteDynamicLayerIds},getDefaultDynamicLayerIds:function(){return s["a"].getters.defaultDynamicLayerIds},getDefaultBaseLayerIds:function(){return s["a"].getters.defaultBaseLayerIds}},p={setSelected:function(e,t){var a=[];o["h"].isDynamic(e)?(a=d.getDynamicLayerList(),a=o["e"].recursiveLayerMapping(a,function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(n){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:null!=n&&n.id==e.id&&(n.isSelected=t,t&&o["h"].isDynamicFromArcgis(n)&&(n.layers=e.layers.map((function(e){return o["e"].subLayerMapping(e,e)}))));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()),p.setDynamicLayerList(a)):o["h"].isBasemap(e)&&(a=o["e"].recursiveLayerMapping(d.getBaseLayerList(),function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(n){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:null!=n&&n.id==e.id&&(n.isSelected=t);case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()),p.setBaseLayerList(a))},setColor:function(e,t,a){var n=o["e"].recursiveLayerMapping(d.getDynamicLayerList(),function(){var n=Object(i["a"])(regeneratorRuntime.mark((function n(i){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:null!=i&&i.id==e.id&&(a&&"default"!==a.code?(r=i.layerColor.conditions.find((function(e){return e.id==parseInt(a.code)})),r&&(r.fillColor=t.fillColor,r.borderColor=t.borderColor)):i.color=t);case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());p.setDynamicLayerList(n)},setQuery:function(e,t){var a=o["e"].recursiveLayerMapping(d.getDynamicLayerList(),function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(n){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:null!=n&&n.id==e.id&&(n.query.where=t);case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());p.setDynamicLayerList(a)},setExtentCoordinates:function(e,t){var a=o["e"].recursiveLayerMapping(d.getDynamicLayerList(),function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(n){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:null!=n&&n.id==e.id&&(n.query.extentCoordinates=t);case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());p.setDynamicLayerList(a)},setBaseLayerList:function(e){s["a"].dispatch("saveBaseLayerList",e)},setDynamicLayerList:function(e){s["a"].dispatch("saveDynamicLayerList",e)},setLayerColorOrderList:function(e){s["a"].dispatch("SAVE_LAYER_COLOR_ORDER_LIST",e)},setFavoriteDynamicLayerIds:function(e){s["a"].dispatch("saveFavoriteDyanmicLayerIds",e)},setFavoriteBaseLayerIds:function(e){s["a"].dispatch("saveFavoriteBaseLayerIds",e)},setDefaultDynamicLayerIds:function(e){s["a"].dispatch("saveDefaultDynamicLayerIds",e)},setDefaultBaseLayerIds:function(e){s["a"].dispatch("saveDefaultBaseLayerIds",e)}},f={},m=u({},d,{},p,{},f),b=(a("7f7f"),a("0962")),v=a("778c"),h=a("36d6"),g=a("b85b"),y=new g["z"]({stroke:new g["y"]({color:"rgba(200,20,20,1)",width:1}),fill:new g["g"]({color:"rgba(200,20,20,0.4)"})}),C=new g["z"]({fill:new g["g"]({color:"#00000000"}),stroke:new g["y"]({color:"#C672F5",width:2}),image:new g["b"]({radius:7,fill:new g["g"]({color:"#00000000"})})}),_=new g["z"]({image:new g["l"]({anchor:[.5,46],size:[48,48],anchorXUnits:"fraction",anchorYUnits:"pixels",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAD2ElEQVRogdWaQYgcRRSGv2724HER8eBBFhHJWSWB6ClEood+5pyzJ3P1Ih5EwjKERUQPopJDlICYg4R6IQQMXkxEPETwoBAWWYLIIrIsYQ9xWaY8TPdsbU3XdFV1z5j8UPSb1139/lf16vWr7imstTzOKIDy/ybRB4W1lqIoSmvteKr0fqdARI4BrwMngDVgFRgDO8AfwB3ghqr+1dhw7SXLZMyAtXZcFMWRflVVnQXeA16MvM0t4IKq3k6176LouwZE5BngS+B05i2+As4bY/ZyOh8JIfcIk5GG9ukriqKsquo4oMBTmeQb3APOqOp9107DwZfda7IXcVVVJ4HvgCd6km+wDbyiqlspnbJCSETWgF+YLNAhcQ94KSWcSjicLvfoLlJXFpEV4BuGJw/wAvC5z2GePBM+PvGWjm8BxzuI/A38BGwCe8ABsAtsAQ87+p4TkVdDfPyLV+BwsXblfhEpgXcjyD9dNxerHM7amPlr731r7WsddrDWjo+ETgROA8/OOX/ALPE2dNk7JSJrUSHUFjKhBrzZYXglgnwMSiZP82AINXJprR27ITSvAS8PRDAGJ7r4zISQf/S9BZ5bogPPJ4VQKJV6+ieX6MCqyyckl7HhU1+XVaFmopPPNIR8r0JTBjxYogO7XaMPEAyhgLy5YNIuthq78wa2jJkmJ4R61e6J+CE7C/k6R//1ksjvA9eSQsg9GXJIVe+ynFm4oqo7bXyCIQTRmejCgsmPgVFsWCeFUD0Lt4C7C3TgW2PMZoiPL7dmoa6MBIwWRh9GsXuBoijK7E29iPwOHBuKdY2bxpg3UjoEy2l/V+bqa3Eji+J8jGJHvpFnp8Qj3qavj1eAPwck/2Pzjigm9rNqIbcZY/YZdhbWUzkEa6GQruX8F8A/A5D/1RhzI6djMAt1rv5JSt0HPh7AgZFvN7Yl1UKBB9sn9KtSN4GrufajdmQu/JkwxjxgEkq52FDV6b2Ts1AbsTaiIcdq3YdMCrBUbAOX/XunyNO3CE028uHqQzKwLSKXgLcTHdios1k2knZkbc8IlwyT90Kx2AE+yx35Rk7dkU1l3ylVvQ9cTXDgU1V9GLpfrNw7C3kZaZ24jf8e8NEQNrNrobYRMcb8BlyPcOCSqu72Hf2+tRABeb2D/AGTrJWdeVx5xdqjn20GwM8i8j1wKnD+sjFmsCKwby0UwgcB/T5wMZpdBBb2obuqqovAO45qDJxX1T5P7Rn0/sw6DyJyEjgD/Atcqxf5sKgdKNuObc295lGQp9+JA87NfKP15TkD03nNEGj9r8TjhMFqoa5sNUTOb5P/A8dYOKnlHRBqAAAAAElFTkSuQmCC"})}),O=new g["z"]({fill:new g["g"]({color:"#00000000"}),stroke:new g["y"]({color:"#00000000",width:2})}),E=a("dde5"),S=a("ee13"),T={defaultUnit:"km",conversions:[{from:"km",to:"m",value:1e3},{from:"m",to:"km",value:.001},{from:"cm",to:"km",value:1e-5}]};function w(e,t,a){if(e===T.defaultUnit&&t===T.defaultUnit)return a;var n=T.conversions.find((function(a){return a.from==e&&a.to==t}));return n?a*n.value:0}function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var I={showSumResultModal:function(){var e=A.getMoodal();e.sumResultModal.show()},showFilterModal:function(){var e=A.getMoodal();e.filterModal.show()},hideFilterModal:function(){var e=A.getMoodal();e.filterModal.hide()},showNdviAssessmentModal:function(){var e=A.getMoodal();e.ndviAssessmentModal.show()},hideNdviAssessmentModal:function(){var e=A.getMoodal();e.ndviAssessmentModal.hide()},showDataAddEditModal:function(){var e=A.getMoodal();e.dataAddEditModal.show()},hideDataAddEditModal:function(){var e=A.getMoodal();e.dataAddEditModal.hide()},showGeometryModal:function(){var e=A.getMoodal();e.geometryModal.show()},hideGeometryModal:function(){var e=A.getMoodal();e.geometryModal.hide()},showColorPickerModal:function(){var e=A.getMoodal();e.colorPickerModal.show()},hideImageUploadModal:function(){var e=A.getMoodal();e.imageUploadModal.hide()},showImageUploadModal:function(){var e=A.getMoodal();e.imageUploadModal.show()},hideProfileModalModal:function(){var e=A.getMoodal();e.profileModal.hide()},showProfileModalModal:function(){var e=A.getMoodal();e.profileModal.show()},hideFavoriteQueryModal:function(){var e=A.getMoodal();e.favoriteQueryModal.hide()},showFavoriteQueryModal:function(){var e=A.getMoodal();e.favoriteQueryModal.show()},hideServiceSelectionModal:function(){var e=A.getMoodal();e.serviceSelectionModal.hide()},showServiceSelectionModal:function(){var e=A.getMoodal();e.serviceSelectionModal.show()},hideDataModal:function(){var e=A.getMoodal();e.dataModal.hide()},showDataModal:function(){var e=A.getMoodal();e.dataModal.show()},hideBlindSpotModal:function(){var e=A.getMoodal();e.blindSpotModal.hide()},showBlindSpotModal:function(){var e=A.getMoodal();e.blindSpotModal.show()},hideMapTextModal:function(){var e=A.getMoodal();e.mapTextModal.hide()},showMapTextModal:function(){var e=A.getMoodal();e.mapTextModal.show()},hideComparerModal:function(){var e=A.getMoodal();e.comparerModal.hide()},showComparerModal:function(){var e=A.getMoodal();e.comparerModal.show()}},A={getMoodal:function(){return s["a"].getters.moodal}},D={setSumResultVisibility:function(e){s["a"].dispatch("saveSumResultModalVisibility",e)}},x=k({},I,{},A,{},D);function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var M={none:new g["L"]({crossOrigin:"Anonymous",url:""}),satellite:new g["L"]({name:"sat",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"}),street:new g["L"]({url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}"}),gray:new g["L"]({crossOrigin:"Anonymous",url:"https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}"})},R={addService:function(e){var t=m.getLayer(e),a=R.buildLayer(t.id),n=be.getZIndex(t);a.setZIndex(n);var i=F.getMap();i.addLayer(a),N.setMap(i)},focusToServicePolygon:function(e,t){var a=F.getLayer(e);a.getFeatures(t).then((function(e){document.querySelectorAll('canvas[width="256"][height="256"]').forEach((function(e){return e.remove()}));var t=F.getSelectionLayer();if(!e.length)return N.setSelectedFeatureId(0),void t.changed();var a=e[0];if(a){var n=a.getId();N.setSelectedFeatureId(n),t.changed()}}))},buildSelectionLayer:function(e){var t=F.getLayer(e),a=t.getSource(),n=new g["I"]({map:F.getMap(),renderMode:"vector",source:a,style:function(e){if(null!=e&&e.getId()==F.getSelectedFeatureId())return y}});N.setSelectionLayer(n)},resetSelectionLayer:function(){N.setSelectionLayer(null),N.setSelectedFeatureId(0)},deleteService:function(e){var t=F.getLayer(e);R.removeLayer(t)},refreshService:function(e){R.deleteService(e),R.addService(e)},removeLayer:function(e){var t=F.getMap();t.removeLayer(e),N.setMap(t)},removeDrawPolygons:function(){var e=F.getMap();e.getLayers().forEach((function(e){"draw"===e.get("type")&&R.removeLayer(e)})),N.setMap(e)},focusToGeometry:function(e){var t=[];if(void 0!==e.x?t=[e.x,e.y]:void 0!==e.rings&&(t=e.rings[0]),t.length>0){t=t.map((function(e,t){return Object(g["T"])(e,"EPSG:4326","EPSG:3857")}));var a=new g["w"]([t]),n=F.getMap();n.getView().fit(a,{padding:[-50,50,30,150],size:[50,100],maxZoom:16}),N.setMap(n)}},fitView:function(e){var t=F.getMap();t.getView().fit(e),N.setMap(t)},buildLayer:function(e){var t,a=m.getLayer(e),n=E["c"].getToken(),i=P({id:a.id,name:a.name},F.getResolutionOptions(a),{type:a.type}),r=o["h"].isLayer(a);if(r){var s=o["h"].isDynamic(a);t=s?o["h"].isLocalService(a)?new g["I"](P({},i,{declutter:!0,source:new g["J"]({format:new g["q"]({idProperty:"gid",geometryName:"geom"}),url:o["i"].buildTileUrl(a,b["e"].LOCAL_MVT)}),style:function(e){var t=a.layerColor,n=null,i=null,r=!1;if(t)for(var s=t.column,c=e.get(s),l=t.conditions,u=0;u<l.length;u++){var d=l[u],p=Object(S["b"])(d.operator),f=o["c"].parseByTypeString(t.columnDataType,d.value),m=o["c"].checkStringArithmeticOperation(c,f,p);if(m){r=!0,n=d.borderColor,i=d.fillColor;break}}return t&&r||(n=a.color.borderColor,i=a.color.fillColor),o["b"].buildVectorStyle(n,i)}})):new g["n"](P({},i,{source:new g["m"]({url:o["i"].buildTileUrl(a,b["e"].IMAGE_ARCGIS_REST),crossOrigin:"Anonymous",params:{token:n,layers:o["e"].renderArcgisSublayerConfig(a),dynamicLayers:o["e"].renderSubLayersColorString(a)}})})):"geowebcache"==a.resourceType?new g["D"](P({},i,{source:new g["E"]({url:a.sourceUrl,params:{LAYERS:a.name,TILED:!0,transparent:!0,format:"image/png",srs:"EPSG:3857",WIDTH:256,HEIGHT:256}})})):"geoserver"==a.resourceType?new g["D"](P({},i,{source:new g["E"]({url:a.sourceUrl,params:{LAYERS:a.name,TILED:!0,format:"image/png"},serverType:"geoserver"})})):"geoserverGws"==a.resourceType?new g["D"](P({},i,{source:new g["E"]({url:a.sourceUrl,params:{LAYERS:a.name,TILED:!0,format:"image/png"}})})):3857===a.spatial?new g["D"](P({},i,{source:new g["L"]({url:o["i"].buildTileUrl(a,b["e"].XYZ),projection:"EPSG:3857",crossOrigin:"Anonymous"})})):new g["D"](P({},i,{source:new g["B"]({url:o["i"].buildTileUrl(a,b["e"].TILE_ARCGIS_REST),crossOrigin:"Anonymous",params:{token:n,FORMAT:"png8"}})}))}else t=new g["I"](P({},i,{source:new g["J"]({format:new g["q"]({geometryName:"geom"}),url:o["i"].buildTileUrl(a,b["e"].LOCAL_MVT)}),style:function(e){var t=e.get("layerId"),n=a.layers.map((function(e){return e.id})),i=n.indexOf(t),r=h["a"][i],s={border:{hex8:r},fill:{hex8:"#FFFFFF00"}};return o["b"].buildVectorStyle(s)}}));return t}},B={onMapClick:function(e){var t=Object(g["T"])(e.coordinate,"EPSG:3857","EPSG:4326");if(N.setClickedCoordinate(t),N.setClickedPixel(e.pixel),ce.getRemoveStatus()){var a=F.getMap();a.forEachFeatureAtPixel(e.pixel,(function(e,t){try{var a=F.getDrawSource();a.removeFeature(e);var n=document.getElementsByClassName("feature-".concat(e.get("id")));n[0].remove(),N.setDrawSource(a)}catch(i){}}))}else if(ce.getColorPickStatus()){a=F.getMap();a.forEachFeatureAtPixel(e.pixel,(function(e,t){try{var a=new g["z"]({fill:new g["g"]({color:self.shapeFillColor.hex8}),stroke:new g["y"]({color:self.shapeBorderColor.hex8,width:2}),image:new g["b"]({radius:7,fill:new g["g"]({color:self.shapeFillColor.hex8})})});e.setStyle(a)}catch(n){}})),N.setMap(a)}else ce.getInteractionStatus()||x.showServiceSelectionModal()}},N={setMap:function(e){s["a"].dispatch("saveMap",e)},setSelectionLayer:function(e){s["a"].dispatch("saveSelectionLayer",e)},setSelectedFeatureId:function(e){s["a"].dispatch("saveSelectedFeatureId",e)},setDrawSource:function(e){s["a"].dispatch("saveDrawSource",e)},setSketch:function(e){s["a"].dispatch("saveSketch",e)},setZIndex:function(e){var t=F.getMap();t.getLayers().forEach((function(t){void 0!=t.get("id")&&t.get("id")===e.id&&t.setZIndex(be.getZIndex(e))}))},setBaseLayout:function(e){var t=F.getMap(),a=t.getLayers().getArray();a[0].setSource(M[e]),N.setMap(t)},setZoomLevel:function(e){var t=F.getMap();t.getView().setZoom(e),N.setMap(t)},setCenter:function(e){var t=F.getMap();e=Object(g["T"])(e,"EPSG:4326","EPSG:3857"),t.getView().setCenter(e),N.setMap(t)},setColorsArray:function(e){s["a"].dispatch("SAVE_COLOR_PICKER_DYNAMIC_COLORS",e)},setClickedCoordinate:function(e){s["a"].dispatch("saveClickedCoordinate",e)},setClickedPixel:function(e){s["a"].dispatch("saveClickedPixel",e)}},F={getMap:function(){return s["a"].getters.mapLayer},getCurrentZoomLevel:function(){var e=F.getMap(),t=e.getView(),a=t.getZoom();return a},getCurrentExtent:function(){var e=F.getMap(),t=e.getView().calculateExtent(e.getSize());return Object(g["U"])(t,"EPSG:3857","EPSG:4326")},getCurrentCenter:function(){var e=F.getMap(),t=e.getView(),a=t.getCenter();return Object(g["T"])(a,"EPSG:3857","EPSG:4326")},getCurrentRotation:function(){var e=F.getMap(),t=e.getView(),a=t.getRotation();return a},getSelectionLayer:function(){return s["a"].getters.selectionLayer},getSelectedFeatureId:function(){return s["a"].getters.selectedFeatureId},getDrawSource:function(){return s["a"].getters.drawSource},getSketch:function(){return s["a"].getters.sketch},getClickedCoordinate:function(){return s["a"].getters.clickedCoordinate},getClickedPixel:function(){return s["a"].getters.clickedPixel},getLayer:function(e){var t=F.getMap(),a=null;return t.getLayers().forEach((function(t){var n=t.get("id");void 0!==n&&n===e&&(a=t)})),a},getBaseMaps:function(){return M},getActiveDynamicLayersColorsGetter:function(){return s["a"].getters.activeDynamicLayersColors},getResolutionOptions:function(e){var t=e.resolutionOption;if(t&&o["h"].isLayer(e)){var a=t.maxResolution,n=t.minResolution;if(t.type==b["c"].ZOOM)return{maxResolution:1.01*Object(g["O"])().getResolution(n),minResolution:Object(g["O"])().getResolution(a)};var i=t.scaleUnit,r=Object(S["a"])(i);a=w(r,"km",a),n=w(r,"km",n);var s=10;return{maxResolution:a*s,minResolution:n*s}}return{maxResolution:1.01*Object(g["O"])().getResolution(v["b"].minZoomLevel),minResolution:Object(g["O"])().getResolution(v["b"].maxZoomLevel)}}},V=P({},R,{},F,{},N,{},B);function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function H(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var U={get:function(){return s["a"].getters.bunchLayerList},set:function(e){s["a"].dispatch("saveBunchLayerList",e)}},z={add:function(e){var t=U.get();e=o["a"].bunchMapper(e),t.push(e),U.set(t)},remove:function(e){for(var t=U.get(),a=0;a<t.length;a++){var n=t[a];if(n.id===e){var i=t.indexOf(n);t.splice(i,1)}}U.set(t)}},$={getBunchLayerList:function(){var e=U.get();return Object(c["b"])(e)},getBunch:function(e){var t=U.get().find((function(t){return t.id==e}));return t},getBunchLayer:function(e,t){var a=$.getBunch(e),n=a.layers.find((function(e){return e.id===t}));return n},getExtentCoordinates:function(e){var t=[],a=$.getBunch(e);return a.layers.forEach((function(e){t.push(e.query.extentCoordinates)})),t}},q={setBunchLayerList:function(e){s["a"].dispatch("saveBunchLayerList",e)},setSelected:function(e,t){var a=U.get();a=a.map((function(a,n){return a.id===e.id&&(a.isSelected=t),a})),U.set(a)},setColor:function(e,t){var a=U.get();a=a.map((function(a,n){return a.id===e&&(a.color=t),a})),U.set(a)},setQuery:function(e,t,a){var n=U.get();n=n.map((function(n,i){if(n.id===e.id){var r=e.layers;r.map((function(e){return e.id===t&&(e.query.where=a),e}))}return n})),U.set(n)},setExtentCoordinates:function(e,t){var a=U.get();a=a.map((function(a,n){if(a.id===e.id){var i=e.layers;i.forEach((function(e){e.query.extentCoordinates=t}))}return a})),U.set(a)}},Q=H({},q,{},z,{},$),Y=a("7540");function Z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function K(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var W={buildTableData:function(e,t){var a=e,n=a.fieldAliases,i=a.fieldAliases,r=a.fieldAliases,s=[],o=r.map((function(e,t){return t}));r=r.map((function(e,t){var a=e;for(var i in n)"function"!==typeof n[i]&&e===i&&(a=n[i]);return a}));var c={totalCount:a.totalCount,tableName:t.name,tableHeaders:r,tableStackedHeaders:Object.keys(i),tableHeadersWithAlias:i,features:a.features,filterValues:[],target:n,checkedColumnsData:s,checkedColumns:o},l=X.getDefaultPagingOptions();J.setTableData(c),J.setTablePaging(l)},getTable:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a,n,i,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=m.getDynamicLayer(t.id),J.setTableVisible(),J.setTableLoading(!0),e.next=5,W.getTableResponse(t);case 5:if(a=e.sent,n=X.getIsSumFilter(),i=o["h"].isLayer(t),r=o["h"].isLocalService(t),s=o["h"].isBunch(t),(r||s)&&(n&&i&&!s&&(J.setSumData(a.data.result),x.showSumResultModal()),Le.getIsRequiredServiceRefresh()&&V.refreshService(t.id)),void 0===a.data.error){e.next=13;break}return e.abrupt("return");case 13:n||(J.setTableUnvisible(),W.buildTableData(a.data,t),J.setTableVisible()),J.setTableActiveService(t),J.setIsSumFilter(!1),J.setTableLoading(!1);case 17:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),getTableResponse:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a,n,i,r,s,c,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n={},i=E["c"].getToken(),r=X.getDefaultPagingOptions(),X.getTableActiveService(),s=o["h"].isArcgisService(t),!s){e.next=12;break}return n=K({token:i,name:t.name,layer:t.id},t.query),e.next=9,Y["a"].getTableData(n);case 9:a=e.sent,e.next=33;break;case 12:if(c=o["h"].isBunch(t),!c){e.next=20;break}return n=t.layers.map((function(e,t){return{layerId:e.id,query:K({},e.query)}})),e.next=17,Y["a"].getIntersectLocalTableData(t.id,{layerQueries:n,paging:r});case 17:a=e.sent,e.next=33;break;case 20:if(n=K({layerId:t.id},t.query,{paging:r,returnGeom:!0}),l=X.getIsSumFilter(),!l){e.next=30;break}return n.isSum=l,n.ArithmeticColumnName=X.getSumFilterColumn(),e.next=27,Y["a"].getLocalArithmeticData(n);case 27:a=e.sent,e.next=33;break;case 30:return e.next=32,Y["a"].getLocalTableData(n);case 32:a=e.sent;case 33:return e.abrupt("return",a);case 34:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),getGeometryData:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a){var n,i,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=null,i=null,r=m.getDynamicLayer(t),!o["h"].isLayer(r)){e.next=17;break}if(!o["h"].isDynamicFromArcgis(r)){e.next=12;break}return i=a[0]+","+a[1],s={token:E["c"].getToken(),name:r.name,layer:r.name,where:r.query.where,geometry:i},e.next=9,Y["a"].getGeometryData(s);case 9:n=e.sent,e.next=16;break;case 12:return s={layerId:r.id,where:r.query.where,geometry:a[0]+","+a[1]},e.next=15,Y["a"].getLocalTableData(s);case 15:n=e.sent;case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}()},X={getTableData:function(){return s["a"].getters.tableData},getTablePaging:function(){return s["a"].getters.tablePaging},getServiceData:function(e){var t=X.getTableData(),a=t.find((function(t){return t.service.id===e}));return a},getTableActiveService:function(){return s["a"].getters.tableActiveService},getDefaultPagingOptions:function(){return{page:1,limit:25,isBusy:!1}},getIsSumFilter:function(){return s["a"].getters.isSumFilter},getSumFilterColumn:function(){return s["a"].getters.sumFilterColumn},getTableVisibility:function(){return s["a"].getters.dataTableVisibleStatus},getTableLoadingStatus:function(){return s["a"].getters.dataTableLoading},getIsEditData:function(){return s["a"].getters.isEditData},getEditDataGid:function(){return s["a"].getters.editDataGid},getInfoData:function(){return s["a"].getters.infoData}},J={setTableData:function(e){s["a"].dispatch("SAVE_DATATABLE",e)},setIsEditData:function(e){s["a"].dispatch("saveIsEditData",e)},setEditDataGid:function(e){s["a"].dispatch("saveEditDataGid",e)},setTableActiveService:function(e){s["a"].dispatch("saveTableActiveService",e)},setTableTabs:function(e){s["a"].dispatch("SAVE_DATATABLE_TABS",e)},setTableVisible:function(){s["a"].dispatch("SAVE_DATATABLE_VISIBLE",!0)},setTableUnvisible:function(){s["a"].dispatch("SAVE_DATATABLE_VISIBLE",!1)},setTableLoading:function(e){s["a"].dispatch("SAVE_DATATABLE_LOADING",e)},setIsSumFilter:function(e){s["a"].dispatch("saveIsSumFilter",e)},setSumFilterColumn:function(e){s["a"].dispatch("saveSumFilterColumn",e)},setSumData:function(e){s["a"].dispatch("saveSumData",e)},setTablePaging:function(e){s["a"].dispatch("saveDataTablePaging",e)},setInfoData:function(e){s["a"].dispatch("saveInfoData",e)}},ee=K({},W,{},X,{},J),te=(a("20d6"),a("f2ef"));a("256f");function ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ne(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ae(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ie=null,re={pickDrawType:function(e,t,a){var n=V.getMap();oe.setDrawType(e),n.removeInteraction(se.getDraw()),oe.setColorPickStatus(!1),oe.setMarkerStatus(!1),oe.setRemoveStatus(!1),e!==b["a"].NONE?(oe.setInteractionStatus(!0),re.addInteraction(e,t,a)):oe.setInteractionStatus(!1),oe.addFeatureIdCounter(10),document.body.style.cursor="default"},buildGeometryFunction:function(e){var t=null;if(e!==b["a"].NONE)switch(e){case b["a"].SQUARE:t=Object(g["N"])(4);break;case b["a"].BOX:t=Object(g["M"])();break;case b["a"].CIRCLE:t=Object(g["N"])(120);break}return t},deleteFeature:function(){re.pickDrawType(b["a"].NONE),oe.setRemoveStatus(!0)},eyeDropper:function(){re.pickDrawType(b["a"].NONE),x.showColorPickerModal(),oe.setColorPickStatus(!0)},resetFeatures:function(){re.pickDrawType(b["a"].NONE),document.querySelectorAll(".maptooltip").forEach((function(e){return e.remove()}));var e=V.getDrawSource();e.clear(),V.setDrawSource(e)},exportData:function(){var e=V.getDrawSource();V.setDrawSource(e.clear());var t=e.getFeatures(),a=new g["o"]({maxDepth:10,extractStyles:!0,featureProjection:"EPSG:3857"}).writeFeatures(t,{featureProjection:"EPSG:3857"}),n=new Blob([a],{type:"text/plain"}),i=document.createEvent("MouseEvents"),r=document.createElement("a");r.download="shapes.kml",r.href=window.URL.createObjectURL(n),r.dataset.downloadurl=["text/json",r.download,r.href].join(":"),i.initEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(i)},deleteFeatureTooltip:function(e){var t=document.getElementsByClassName("feature-".concat(e));t[0].remove()},deleteServiceFeatures:function(e){var t=m.getLayer(e);if(t){var a={id:t.id,type:t.type};re.deleteFeatureByCallback((function(e){var t=e.get("forService"),n=te["a"].isMatch(t,a);return n&&re.deleteFeatureTooltip(e.get("id")),n}))}},deleteFeatureByName:function(e){re.deleteFeatureByCallback((function(t){var a=t.get("name"),n=a==e;return n}))},deleteFeatureByCallback:function(e){var t=V.getDrawSource(),a=t.getFeatures();if(!te["a"].isUndefined(e)&&te["a"].isFunction(e)){for(var n=te["a"].filter(a,(function(t){return e(t)})),i=0;i<n.length;i++){var r=n[i];t.removeFeature(r)}V.setDrawSource(t)}},addText:function(e,t){var a="normal",n="14px",i=1,r="Arial",s=a+" "+n+"/"+i+" "+r,o=new g["f"]({geometry:new g["v"](Object(g["R"])([t[0],t[1]]))});o.setStyle(new g["z"]({image:new g["b"]({radius:10,fill:new g["g"]({color:"#00000000"}),stroke:new g["y"]({color:"#00000000",width:1})}),text:new g["A"]({textAlign:"center",textBaseline:"middle",font:s,text:Object(c["d"])(e,16,"\n"),fill:new g["g"]({color:"#aa3300"}),stroke:new g["y"]({color:"#ffffff",width:3}),offsetX:0,offsetY:0,placement:"point"})}));var l=V.getDrawSource();l.addFeature(o),V.setDrawSource(l)},addInteraction:function(e,t,a){oe.setColorPickStatus(!1),oe.setMarkerStatus(!1),oe.setRemoveStatus(!1);var n=re.buildGeometryFunction(e),i=e;switch(e){case b["a"].SQUARE:i=b["a"].CIRCLE;break;case b["a"].BOX:i=b["a"].CIRCLE;break;case b["a"].TEXT:i=b["a"].POINT;break}var r={source:V.getDrawSource(),type:i,freehandCondition:g["S"],condition:function(e){return 1===e.pointerEvent.buttons}};n&&(r.geometryFunction=n);var s=new g["e"](r);oe.setDraw(s);var c,l=V.getMap();l.addInteraction(s),V.setMap(l),re.createMeasuremaptooltip(),re.createHelpmaptooltip(),V.setSketch(null),s.on("drawstart",(function(e){V.setSketch(e.feature);var t=e.coordinate,a=V.getSketch();c=a.getGeometry().on("change",(function(e){var a,n=e.target;n instanceof g["w"]?(a=o["f"].formatArea(n),t=n.getInteriorPoint().getCoordinates()):n instanceof g["p"]?(a=o["f"].formatLength(n),t=n.getLastCoordinate()):n instanceof g["a"]&&(a=o["f"].formatCircleRadius(n),t=n.getLastCoordinate());var i=se.getMeasureMapTooltipElement(),r=se.getMeasureMapTooltip();try{i.innerHTML=a,r.setPosition(t)}catch(s){re.createMeasuremaptooltip(),i.innerHTML=a,r.setPosition(t)}}))}),this),document.removeEventListener("mousedown",ie),ie=function(e){3==e.which&&s.removeLastPoint()},document.addEventListener("mousedown",ie),s.on("drawend",(function(n){var r=se.getMeasureMapTooltipElement(),s=se.getMeasureMapTooltip();try{r.className="maptooltip maptooltip-static feature-".concat(se.getFeatureIdCounter()),s.setOffset([0,-7]);var o=[];n.feature.getGeometry().getType();if(i==b["a"].POINT)o=n.feature.getGeometry().getCoordinates(),o=Object(g["T"])(o,"EPSG:3857","EPSG:4326");else if(i==b["a"].LINESTRING){o=n.feature.getGeometry().getCoordinates();for(var l=0;l<o.length;l++)o[l]=Object(g["T"])(o[l],"EPSG:3857","EPSG:4326")}else{o=n.feature.getGeometry().getCoordinates()[0];for(l=0;l<o.length;l++)o[l]=Object(g["T"])(o[l],"EPSG:3857","EPSG:4326")}oe.setBbox(o)}catch(n){re.createMeasuremaptooltip(),r.className="maptooltip maptooltip-static feature-".concat(se.getFeatureIdCounter()),s.setOffset([0,-7])}V.setSketch(null),r=null,Object(g["V"])(c);var u={id:se.getFeatureIdCounter(),name:""};!te["a"].isUndefined(a)&&te["a"].isObject(a)&&(u=Object.assign(u,a)),n.feature.setProperties(u),e!==b["a"].TEXT?e!==b["a"].POINT?n.feature.setStyle(C):e===b["a"].POINT&&n.feature.setStyle(_):n.feature.setStyle(O),oe.addFeatureIdCounter(10),!te["a"].isUndefined(t)&&te["a"].isFunction(t)&&t()}),this)},createHelpmaptooltip:function(){var e=se.getHelpMapTooltipElement();e&&e.parentNode&&(e.parentNode.removeChild(e),oe.setHelpMapTooltipElement(e));var t=document.createElement("div");t.className="maptooltip hidden";var a=new g["u"]({element:t,offset:[15,0],positioning:"center-left"});oe.setHelpMapTooltipElement(t),oe.setHelpMapTooltip(a);var n=V.getMap();n.addOverlay(a),V.setMap(n)},createMeasuremaptooltip:function(){var e=se.getMeasureMapTooltipElement();e&&e.parentNode&&(e.parentNode.removeChild(e),oe.setMeasureMapTooltipElement(e));var t=document.createElement("div");t.className="maptooltip maptooltip-measure";var a=new g["u"]({element:t,offset:[0,-15],positioning:"bottom-center"});oe.setMeasureMapTooltipElement(t),oe.setMeasureMapTooltip(a);var n=V.getMap();n.addOverlay(a),V.setMap(n)},pngExport:function(){var e=V.getMap();e.once("rendercomplete",(function(e){var t=e.context.canvas;navigator.msSaveBlob?navigator.msSaveBlob(t.msToBlob(),"map.png"):t.toBlob((function(e){saveAs(e,"map.png")}))})),e.renderSync()},addGraticule:function(){if(se.getGraticuleVisibility()){var e=se.getGraticuleLayer();e.setMap(null),oe.setGraticuleLayer(e),oe.setGraticuleVisibility(!1)}else{var t=V.getMap(),a=new g["j"]({strokeStyle:new g["y"]({color:"rgba(255,120,0,0.9)",width:2,lineDash:[.5,4]}),showLabels:!0,map:t});oe.setGraticuleLayer(a),oe.setGraticuleVisibility(!0)}},addPlace:function(){re.pickDrawType(b["a"].NONE),oe.setMarkerStatus(!0)},fullScreen:function(){window.innerWidth==screen.width&&window.innerHeight==screen.height?document.exitFullscreen():document.querySelector("body").requestFullscreen()},changeDetector:function(){oe.setBbox([]),re.pickDrawType(b["a"].BOX),oe.setDrawForChangeDetectionStatus(!0)},ndviAssessment:function(e){oe.setBbox([]),re.pickDrawType(b["a"].BOX,e)}},se={getGraticuleVisibility:function(){return s["a"].getters.graticuleVisibility},getGraticuleLayer:function(){return s["a"].getters.graticuleLayer},getDraw:function(){return s["a"].getters.draw},getBbox:function(){return s["a"].getters.bbox},getDrawType:function(){return s["a"].getters.drawType},getColorPickStatus:function(){return s["a"].getters.isColorPick},getMarkerStatus:function(){return s["a"].getters.isMarker},getInteractionStatus:function(){return s["a"].getters.isInteraction},getRemoveStatus:function(){return s["a"].getters.isRemove},getFeatureIdCounter:function(){return s["a"].getters.featureIdCounter},getDrawForChangeDetectionStatus:function(){return s["a"].getters.isDrawForChangeDetection},getMeasureMapTooltipElement:function(){return s["a"].getters.measuremaptooltipElement},getMeasureMapTooltip:function(){return s["a"].getters.measuremaptooltip},getHelpMapTooltipElement:function(){return s["a"].getters.helpmaptooltipElement},getHelpMapTooltip:function(){return s["a"].getters.helpmaptooltip}},oe={setGraticuleVisibility:function(e){s["a"].dispatch("saveGraticuleVisibility",e)},setGraticuleLayer:function(e){s["a"].dispatch("saveGraticule",e)},setDrawForChangeDetectionStatus:function(e){s["a"].dispatch("saveDrawForChangeDetectionStatus",e)},setDraw:function(e){s["a"].dispatch("saveDraw",e)},setBbox:function(e){s["a"].dispatch("saveBbox",e)},setColorPickStatus:function(e){s["a"].dispatch("saveColorPickStatus",e)},setMarkerStatus:function(e){s["a"].dispatch("saveMarkerStatus",e)},setInteractionStatus:function(e){s["a"].dispatch("saveInteractionStatus",e)},setRemoveStatus:function(e){s["a"].dispatch("saveRemoveStatus",e)},setDrawType:function(e){s["a"].dispatch("saveDrawType",e)},setFeatureIdCounter:function(e){s["a"].dispatch("saveFeatureIdCounter",e)},addFeatureIdCounter:function(e){e+=se.getFeatureIdCounter(),oe.setFeatureIdCounter(e)},setMeasureMapTooltipElement:function(e){s["a"].dispatch("saveMeasuremapTooltipElement",e)},setMeasureMapTooltip:function(e){s["a"].dispatch("saveMeasuremapTooltip",e)},setHelpMapTooltipElement:function(e){s["a"].dispatch("saveHelpmapTooltipElement",e)},setHelpMapTooltip:function(e){s["a"].dispatch("saveHelpmapTooltip",e)}},ce=ne({},re,{},se,{},oe);function le(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ue(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?le(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):le(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var de={addLayerColorIndex:function(e){var t=m.getLayerColorOrderList(),a=t.findIndex((function(e){return 0===e}));t[a]=e},getLayerColorIndex:function(e){var t=m.getLayerColorOrderList(),a=t.findIndex((function(t){return t===e}));return a},removeLayerColorIndex:function(e){var t=m.getLayerColorOrderList(),a=t.findIndex((function(t){return t===e}));t[a]=0},selectService:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a){var n,i,r,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t||t.isSelected==a){e.next=31;break}if(a||V.removeDrawPolygons(),n=ee.getTableActiveService(),!a&&n&&o["h"].isEqual(t,n)&&ee.setTableUnvisible(),!o["h"].isLayer(t)){e.next=13;break}if(!a||!o["h"].isDynamicFromArcgis(t)){e.next=10;break}return e.next=8,de.getResponseDynamic(t);case 8:i=e.sent,t.layers=i.data.layers;case 10:m.setSelected(t,a),e.next=14;break;case 13:Q.setSelected(t,a);case 14:if(V.resetSelectionLayer(),!a){e.next=26;break}return de.addLayerColorIndex(t.id),r=de.getLayerColorIndex(t.id),s=o["b"].getColorByIndex(r),c=o["b"].buildColorObject(s),e.next=22,de.saveColor(t,c);case 22:V.addService(t.id),o["h"].isDynamicFromLocal(t)&&V.buildSelectionLayer(t.id),e.next=30;break;case 26:de.removeLayerColorIndex(t.id),V.deleteService(t.id),de.resetQuery(t.id),ce.deleteServiceFeatures(t.id);case 30:E["b"].updateHash();case 31:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),setServicesStatusByIds:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){t&&t.length>0&&t.forEach(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=m.getLayer(t),e.next=3,de.selectService(n,a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e()}));case 2:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),getResponseDynamic:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=null,!o["h"].isDynamicFromArcgis(t)){e.next=5;break}return e.next=4,Y["a"].getDynamicLayers({token:E["c"].getToken(),name:t.name});case 4:a=e.sent;case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),dynamicLayersReset:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!o["h"].isDynamicFromArcgis(t)){e.next=6;break}return e.next=3,o["h"].isLayerColorEnabled(t);case 3:n=e.sent,r=o["e"].recursiveLayerMapping(m.getDynamicLayerList(),function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:null!=a&&a.id==t.id&&void 0!==a.layers&&null!==a.layers&&(a.layers=a.layers.map((function(e,t){return ue({},e,{isColorEnabled:n})})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),m.setDynamicLayerList(r);case 6:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),selectSubService:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a,n,r){var s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=r.target.checked,c=o["e"].recursiveLayerMapping(m.getDynamicLayerList(),function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(a){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:null!=a&&a.id==t.id&&(i=a.layers.find((function(e){return e.id==n})),i.isSelected=s);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),m.setDynamicLayerList(c),de.dynamicLayersReset(t,s),V.refreshService(t.id);case 5:case"end":return e.stop()}}),e)})));function t(t,a,n,i){return e.apply(this,arguments)}return t}(),saveColor:function(e,t,a){var n=o["h"].isLayer(e),i=o["h"].isBunch(e);return new Promise((function(r){n?m.setColor(e,t,a):i&&Q.setColor(e.id,t),r()}))},resetQuery:function(e){var t=m.getLayer(e),a=o["h"].isBunch(t),n=o["h"].isDynamic(t)&&o["h"].isLayer(t);if(a){var i=t.layers;i.forEach((function(e){var a=!te["a"].isUndefined(e.id);a&&(fe.setQuery(t,"",e.id),fe.setExtentCoordinates(t,""))}))}else n&&(fe.setQuery(t,""),fe.setExtentCoordinates(t,""))}},pe={onDraggableMoveCallback:function(e){switch(e){case b["d"].DYNAMIC_LAYER:var t=m.getDynamicLayerList();t.map((function(e,t){V.setZIndex(e)})),m.setDynamicLayerList(t);break;case b["d"].BASE_LAYER:t=m.getBaseLayerList();t.map((function(e,t){V.setZIndex(e)})),m.setBaseLayerList(t);break;case b["d"].BUNCH:t=Q.getBunchLayerList();t.map((function(e,t){V.setZIndex(e)})),Q.setBunchLayerList(t);break}}},fe={setQuery:function(e,t,a){var n=o["h"].isBunch(e),i=o["h"].isDynamic(e)&&o["h"].isLayer(e),r=!te["a"].isUndefined(a);n&&r?Q.setQuery(e,a,t):i&&m.setQuery(e,t)},setExtentCoordinates:function(e,t){var a=o["h"].isBunch(e),n=o["h"].isDynamic(e)&&o["h"].isLayer(e);a?Q.setExtentCoordinates(e,t):n&&m.setExtentCoordinates(e,t)}},me={getDynamicService:function(e,t){var a=o["h"].isBunch(e),n=o["h"].isDynamic(e)&&o["h"].isLayer(e),i=!te["a"].isUndefined(t),r=null;return a&&i?r=Q.getBunchLayer(e.id,t):n&&(r=m.getDynamicLayer(e.id)),r},getZIndex:function(e){var t=0,a=0;return o["h"].isLayer(e)?o["h"].isDynamic(e)?(t=v["c"].dynamicZIndex,a=me.getOrderNumber(m.getDynamicLayerList(),e)):(t=v["c"].basemapZIndex,a=me.getOrderNumber(m.getBaseLayerList(),e)):(t=v["c"].bunchZIndex,a=me.getOrderNumber(Q.getBunchLayerList(),e)),t-a},getOrderNumber:function(e,t){var a=0,n=0;return o["e"].recursiveLayerMapping(e,(function(e){a++,e.name==t.name&&(n=a)})),n}},be=ue({},de,{},me,{},fe,{},pe),ve=a("aa3f");function he(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ge(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?he(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):he(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ye={getToolList:function(){return[{key:"mouse",label:"Mouse",image:ve["a"].mouse,click:function(){return ce.pickDrawType(b["a"].NONE)}},{key:"attText",label:"Add Text",image:ve["a"].point,click:function(){var e=function(){x.showMapTextModal()};ce.pickDrawType(b["a"].TEXT,e)}},{key:"addPoint",label:"Add point",image:ve["a"].point,click:function(){return ce.pickDrawType(b["a"].POINT)}},{key:"rectangle",label:"Rectangle",image:ve["a"].rectangle,click:function(){return ce.pickDrawType(b["a"].BOX)}},{key:"square",label:"Square",image:ve["a"].square,click:function(){return ce.pickDrawType(b["a"].SQUARE)}},{key:"circle",label:"Circle",image:ve["a"].circle,click:function(){return ce.pickDrawType(b["a"].CIRCLE)}},{key:"polygon",label:"Polygon",image:ve["a"].polygon,click:function(){return ce.pickDrawType(b["a"].POLYGON)}},{key:"line",label:"Line",image:ve["a"].line,click:function(){return ce.pickDrawType(b["a"].LINESTRING)}},{key:"addPlace",label:"Add place",image:ve["a"].place,click:function(){}},{key:"reset",label:"Reset",image:ve["a"].reset,click:ce.resetFeatures},{key:"delete",label:"Delete",image:ve["a"].delete,click:ce.deleteFeature},{key:"pickColor",label:"Pick color",image:ve["a"].color_picker,click:ce.eyeDropper},{key:"changeDetection",label:"Change detection",image:ve["a"].world,click:ce.changeDetector},{key:"graticule",label:"Graticule",image:ve["a"].grid,click:ce.addGraticule},{key:"ndviAssessment",label:"NDVI Assessment",image:ve["a"].ndvi,click:function(){var e=function(){x.showNdviAssessmentModal()};ce.ndviAssessment(e)}},{key:"blindSpot",label:"Blind Spot Detection",image:ve["a"].ndvi,click:function(){var e=function(){x.showBlindSpotModal()};ce.pickDrawType(b["a"].LINESTRING,e)}},{key:"swap",label:"Swap Image",image:ve["a"].ndvi,click:function(){x.showComparerModal()}}]},getBottomMenu:function(){return[{key:"information",label:"Information",image:ve["a"].information,click:Ce.setInformationModalVisible},{key:b["b"].BASE_MAP_TYPE,label:"Layer Types",image:ve["a"].hamburger,click:function(){Ce.setActiveMenuTab(b["b"].BASE_MAP_TYPE)}},{key:"exportPNG",label:"Export PNG",image:ve["a"].picture,click:ce.pngExport},{key:"exportGeojson",label:"Export GeoJSON",image:ve["a"].file_download,click:ce.exportData},{key:"fullscreen",label:"Full screen",image:ve["a"].fullscreen,click:ce.fullScreen}]},getTopMenu:function(){return[{key:b["b"].PROFILE,label:"Profile",image:ve["a"].user,click:function(){Ce.setActiveMenuTab(b["b"].PROFILE)}},{key:b["b"].TOOL,label:"Tools",image:ve["a"].pencil,click:function(){Ce.setActiveMenuTab(b["b"].TOOL)}},{key:b["b"].DYNAMIC_LAYER,label:"Dynamic Layers",image:ve["a"].layer,click:function(){Ce.setActiveMenuTab(b["b"].DYNAMIC_LAYER)}},{key:b["b"].BASE_LAYER,label:"Basemaps",image:ve["a"].map,click:function(){Ce.setActiveMenuTab(b["b"].BASE_LAYER)}}]},getActiveMenuTab:function(){return s["a"].getters.activeMenuTab},getNotificationCount:function(){return s["a"].getters.notificationCount}},Ce={setActiveMenuTab:function(e){e===ye.getActiveMenuTab()&&(e=""),s["a"].dispatch("saveActiveMenuTab",e)},setInformationModalVisible:function(){s["a"].dispatch("saveInformationModalVisibility",!0)},setInformationModalUnvisible:function(){s["a"].dispatch("saveInformationModalVisibility",!1)},setNotificationCount:function(){s["a"].dispatch("saveNotificationCount",!1)}},_e=ge({},ye,{},Ce);a("6762"),a("2fdb");function Oe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ee(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Oe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Se={},Te={getFilterColumnValues:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a){var n,i,r,s,c,l,u,d,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=m.getDynamicLayer(t),i=[],r={id:t},!o["h"].isLocalService(n)){e.next=11;break}return e.next=6,Y["a"].getLayerColumnsDistinctData(r);case 6:s=e.sent,c=s.data.result,i=c[Object.keys(c).find((function(e){return e.toLowerCase()===a.toLowerCase()}))],e.next=22;break;case 11:l=ee.getTableData(),u=Object.keys(l.tableHeadersWithAlias),d=0;case 14:if(!(d<u.length)){e.next=21;break}if(l.tableHeadersWithAlias[u[d]]!==a){e.next=18;break}return a=u[d],e.abrupt("break",21);case 18:d++,e.next=14;break;case 21:for(p=0;p<l.features.length;p++)i.includes(l.features[p].attributes[a])||i.push(l.features[p].attributes[a]);case 22:return e.abrupt("return",i);case 23:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),getIsRequiredServiceRefresh:function(){return s["a"].getters.isRequiredServiceRefresh}},we={setIsRequiredServiceRefresh:function(e){s["a"].dispatch("saveIsRequiredServiceRefreshStatus",e)}},Le=Ee({},Se,{},Te,{},we);function ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ie(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ke(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ae={historyBack:function(){xe.setHistoryIsNeedUpdate(!1);var e=De.getHistoryIndex();e-=1,xe.setHistoryIndex(e);var t=De.getHistory(),a=t[e-1],n=V.getMap();n.getView().setCenter(a.center),n.getView().setZoom(a.zoom),n.getView().setRotation(a.rotation),V.setMap(n),xe.setHistoryIsNextExist(!0),1===e&&xe.setHistoryIsPreviousExist(!1)},historyNext:function(){var e=De.getHistory(),t=De.getHistoryIndex();t+1===e.length&&xe.setHistoryIsNextExist(!1),xe.setHistoryIsPreviousExist(!0),xe.setHistoryIsNeedUpdate(!1),t+=1,xe.setHistoryIndex(t);var a=e[t-1],n=V.getMap();n.getView().setCenter(a.center),n.getView().setZoom(a.zoom),n.getView().setRotation(a.rotation),V.setMap(n)},updateHistoryMap:function(){var e=De.getHistoryIsNeedUpdate();if(e){var t=V.getMap(),a=t.getView(),n={zoom:a.getZoom(),center:a.getCenter(),rotation:a.getRotation()};E["b"].updateHash(),Ae.addHistory(n);var i=De.getHistory();xe.setHistoryIndex(i.length),xe.setHistoryIsNextExist(!1),1!==De.getHistoryIndex()&&xe.setHistoryIsPreviousExist(!0)}else xe.setHistoryIsNeedUpdate(!0)},addHistory:function(e){var t=De.getHistory();t.push(e),xe.setHistory(t)}},De={getHistory:function(){return s["a"].getters.history},getHistoryIndex:function(){return s["a"].getters.historyIndex},getHistoryIsNeedUpdate:function(){return s["a"].getters.historyIsNeedUpdate},getHistoryIsNextExist:function(){return s["a"].getters.historyIsNextExist},getHistoryIsPreviousExist:function(){return s["a"].getters.historyIsPreviousExist}},xe={setHistory:function(e){s["a"].dispatch("saveHistory",e)},setHistoryIsNeedUpdate:function(e){s["a"].dispatch("saveHistoryIsNeedUpdate",e)},setHistoryIndex:function(e){s["a"].dispatch("saveHistoryIndex",e)},setHistoryIsNextExist:function(e){s["a"].dispatch("saveHistoryIsNextExist",e)},setHistoryIsPreviousExist:function(e){s["a"].dispatch("saveHistoryIsPreviousExist",e)}},je=Ie({},De,{},xe,{},Ae);function Pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Me(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Re={},Be={getNdviExtent:function(){return s["a"].getters.ndviExtent}},Ne={setNdviExtent:function(e){s["a"].dispatch("saveNdviExtent",e)}},Fe=Me({},Re,{},Be,{},Ne);function Ve(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ge(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ve(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var He={},Ue={getRoles:function(){return s["a"].getters.roles},getDirectivePermissions:function(){return s["a"].getters.directivePermissions},getUserInfo:function(){return s["a"].getters.userInfo}},ze={setRoles:function(e){s["a"].dispatch("saveRoles",e)},setDirectivePermissions:function(e){s["a"].dispatch("saveDirectivePermissions",e)},setUserInfo:function(e){s["a"].dispatch("saveUserInfo",e)}},$e=Ge({},He,{},Ue,{},ze)},"72e4":function(e,t,a){},7540:function(e,t,a){"use strict";a("8e6e"),a("ac6a"),a("456d");var n=a("bd86"),i=(a("7f7f"),a("b775")),r=(a("ce96"),a("78a3"));function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t["a"]={getUserRelatedLayers:function(){return i["a"].get(r["m"]+"/api/userlayer/getuserlayers")},getLayers:function(){return i["a"].get(r["i"].GET_ALL)},getData:function(e,t){return i["a"].get(e,{params:t})},postData:function(e,t){return i["a"].post(e,t)},getLayerColumnsDistinctData:function(e){return i["a"].get(r["m"]+"/api/DataTable/GetDistinctValues/"+e.id,{params:{f:"json"}})},getLayersWithFullData:function(e){return i["a"].get("/",{params:{token:e.token,f:"json",option:"footprints"}})},getLayersWithFullDataFromServer:function(e){return i["a"].get(r["m"]+"/api/Map/GetLayers")},getLayerDynamic:function(e){return i["a"].get(r["m"]+"/api/map/service/"+e.name+"/MapServer/layers",{params:{f:"json",token:e.token}})},getDynamicLayers:function(e){return i["a"].get(r["m"]+"/api/map/service/"+e.name+"/MapServer/",{params:{token:e.token,f:"json"}})},getLocalTableData:function(e){return i["a"].get(r["m"]+"/api/datatable/GetDatas/"+e.layerId+"/",{params:e})},getIntersectLocalTableData:function(e,t){return i["a"].get(r["m"]+"/api/datatable/Intersect/GetDatas/"+e+"/",{params:t})},getLocalArithmeticData:function(e){return i["a"].get(r["m"]+"/api/datatable/GetArithmeticData/"+e.layerId+"/",{params:e})},getTableData:function(e){return i["a"].get(r["m"]+"/api/data/get/"+e.name+"/MapServer/"+e.layer+"/query/",{params:o({f:"json"},e,{returnGeometry:!0,outFields:"*"})})},getTableHeaders:function(e){return i["a"].get(r["d"].GET_TABLE_INFO+"/".concat(e))},getGeometryData:function(e){return i["a"].get(r["m"]+"/api/data/get/"+e.name+"/MapServer/"+e.layer+"/query/",{params:{token:e.token,f:"json",where:e.where,returnGeometry:!0,geometryType:"esriGeometryPoint",geometry:e.geometry,outFields:"*"}})},getLocalGeometryData:function(e){return i["a"].get(r["m"]+"/api/geo/vectordata/"+e.layerId+"/",{params:e})}}},7576:function(e,t,a){e.exports=a.p+"img/pencil.4d095ce0.svg"},"778c":function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return r}));var n={dynamicZIndex:2e3,basemapZIndex:1e3,bunchZIndex:3e3},i={minZoomLevel:0,maxZoomLevel:20},r={f:"image",format:"png",transparent:"true",size:"1024,1024",bbox:null,bboxsr:"4326",imagesr:"4326",dpi:"90"}},"78a3":function(e,t,a){"use strict";a.d(t,"p",(function(){return s})),a.d(t,"m",(function(){return o})),a.d(t,"h",(function(){return y})),a.d(t,"n",(function(){return c})),a.d(t,"g",(function(){return d})),a.d(t,"e",(function(){return m})),a.d(t,"f",(function(){return p})),a.d(t,"l",(function(){return b})),a.d(t,"o",(function(){return f})),a.d(t,"c",(function(){return u})),a.d(t,"a",(function(){return l})),a.d(t,"i",(function(){return h})),a.d(t,"d",(function(){return g})),a.d(t,"j",(function(){return C})),a.d(t,"k",(function(){return v})),a.d(t,"b",(function(){return _}));var n=a("ce96"),i=window.location,r=i.protocol+"//webgis.azercosmos.az",s=r,o=i.protocol+"//webgis.azercosmos.az",c={GET_INFO_URL:o+"/api/user/GetInfo"},l={LOGIN_URL:o+"/api/account/login"},u={ADD:o+"/api/bunch/add",EDIT:o+"/api/bunch/edit",DELETE:o+"/api/bunch/delete",GET:o+"/api/bunch/get",GET_ALL:o+"/api/bunch/getall"},d={ADD:o+"/api/favoritequery/add",EDIT:o+"/api/favoritequery/edit",DELETE:o+"/api/favoritequery/delete",GET:o+"/api/favoritequery/get",GET_ALL:o+"/api/favoritequery/getall"},p={SET:o+"/api/favoritelayer/set",GET_ALL:o+"/api/favoritelayer/getall"},f={SET:o+"/api/workspace/set",GET:o+"/api/workspace/get",DELETE:o+"/api/workspace/delete"},m={SET:o+"/api/defaultlayer/set",GET_ALL:o+"/api/defaultlayer/getall"},b={GET_ALL:o+"/api/notification/getall",SET_READED:o+"/api/notification/setreaded",GET_UNREAD_NOTIFICATION_COUNT:o+"/api/notification/GetUnreadNotificationCount"},v={GET_ALL:o+"/api/ndviassessment/getall"},h={GET_ALL:o+"/api/Map/GetLayers"},g={GET_TABLE_INFO:o+"/api/datatable/GetTableInfo",ADD_OR_EDIT:o+"/api/datatable/AddOrEdit",GET_ITEM:o+"/api/datatable/GetItem"},y={GET:o+"/api/layerdataimage/Get",GET_ALL:o+"/api/layerdataimage/GetAll",ADD:o+"/api/layerdataimage/Add",GET_BASE64_FILE:o+"/api/layerdataimage/GetBase64File",DELETE:o+"/api/layerdataimage/Delete"},C={MVT:"api/Tile/VectorAsMvt",GEOJSON:"api/Tile/VectorAsGeoJson"},_={EXPORT_IMAGE_URL:function(e,t){var a=o+"/api/map/service/"+e+"/MapServer/export?"+n["j"].formatQueryString(t);return a},SERVICE_URl:o+"/api/map/service"}},7936:function(e,t,a){e.exports=a.p+"img/home.75d8bae7.svg"},"7b30":function(e,t,a){e.exports=a.p+"img/picture.60b5cd0c.svg"},"7ca1":function(e,t,a){"use strict";var n=a("16f7"),i=a.n(n);i.a},"89e4":function(e,t,a){},"8ae2":function(e,t,a){"use strict";var n=a("b775"),i=a("78a3");t["a"]={getAll:function(){return n["a"].get(i["e"].GET_ALL)},set:function(e){return n["a"].post(i["e"].SET,e)}}},"8bb0":function(e,t,a){"use strict";var n=a("b775"),i=a("78a3");t["a"]={get:function(e){return n["a"].post(i["c"].ADD,e)},getAll:function(){return n["a"].get(i["c"].GET_ALL)},add:function(e){return n["a"].post(i["c"].ADD,e)},edit:function(e){return n["a"].post(i["c"].ADD,e)},remove:function(e){return n["a"].delete(i["c"].DELETE+"/"+e)}}},"8dc4":function(e,t,a){"use strict";var n=a("9251"),i=a.n(n);i.a},"8eb3":function(e,t,a){},"91a5":function(e,t,a){},9251:function(e,t,a){},"93e8":function(e,t,a){},9560:function(e,t,a){},9565:function(e,t,a){e.exports=a.p+"img/file_download.1e64a110.svg"},"96ca":function(e,t,a){},"979e":function(e,t,a){e.exports=a.p+"img/swap.a401f5ac.svg"},"99ac":function(e,t,a){"use strict";var n=a("9ae1"),i=a.n(n);i.a},"9ae1":function(e,t,a){},"9b72":function(e,t,a){"use strict";var n=a("93e8"),i=a.n(n);i.a},"9f3c":function(e,t,a){e.exports=a.p+"img/color_fill.2ff7c080.svg"},a373:function(e,t,a){e.exports=a.p+"img/hamburger.84eb1648.svg"},a91f:function(e,t,a){e.exports=a.p+"img/delete.65895fc9.svg"},a93e:function(e,t,a){e.exports=a.p+"img/list.d1087ea1.svg"},aa3f:function(e,t,a){"use strict";function n(e){return a("5981")("./".concat(e,".svg"))}a.d(t,"a",(function(){return i}));var i={arrow_down:n("arrow_down"),arrow_left:n("arrow_left"),arrow_right:n("arrow_right"),arrow_up:n("arrow_up"),circle:n("circle"),color_fill:n("color_fill"),color_picker:n("color_picker"),delete:n("delete"),file_download:n("file_download"),fullscreen:n("fullscreen"),grid:n("grid"),hamburger:n("hamburger"),home:n("home"),information:n("information"),layer:n("layer"),line:n("line"),list:n("list"),map:n("map"),minus:n("minus"),mouse:n("mouse"),pencil:n("pencil"),picture:n("picture"),place:n("place"),plus:n("plus"),point:n("point"),polygon:n("polygon"),rectangle:n("rectangle"),reset:n("reset"),search:n("search"),square:n("square"),user:n("user"),world:n("world"),ndvi:n("ndvi"),swap:n("swap")}},adc4:function(e,t,a){e.exports=a.p+"img/arrow_right.75ea6b99.svg"},afa4:function(e,t,a){e.exports=a.p+"img/user.1b45938d.svg"},b007:function(e,t,a){},b06d:function(e,t,a){"use strict";var n=a("d77f"),i=a.n(n);i.a},b775:function(e,t,a){"use strict";a("ac6a"),a("456d");var n=a("bc3a"),i=a.n(n),r=a("78a3"),s=a("dde5"),o=a("ce96"),c=i.a.create({baseURL:"".concat(r["p"],"/arcgis/rest/services"),withCredentials:!1,returnFullResponse:!1,popupErrorMessage:!0,paramsSerializer:function(e){return o["j"].formatQueryString(e)}});c.interceptors.request.use((function(e){return e.headers["Authorization"]="Bearer "+s["c"].getToken(),e}),(function(e){return Promise.reject(e)})),c.interceptors.response.use((function(e){return e}),(function(e){return Promise.resolve(e.response)})),t["a"]=c},b85b:function(e,t,a){"use strict";var n=a("5eee");a.d(t,"r",(function(){return n["a"]}));var i=a("a2c7");a.d(t,"K",(function(){return i["a"]}));var r=a("0710");a.d(t,"u",(function(){return r["a"]}));var s=a("4cdf");a.d(t,"f",(function(){return s["default"]}));var o=a("7a09");a.d(t,"p",(function(){return o["a"]}));var c=a("5bc3");a.d(t,"w",(function(){return c["b"]}));var l=a("f822");a.d(t,"a",(function(){return l["a"]}));var u=a("f403");a.d(t,"v",(function(){return u["default"]}));var d=a("c807");a.d(t,"s",(function(){return d["a"]}));var p=a("3a39");a.d(t,"Q",(function(){return p["a"]}));var f=a("d946");a.d(t,"d",(function(){return f["a"]}));var m=a("88df");a.d(t,"c",(function(){return m["a"]}));var b=a("793c");a.d(t,"C",(function(){return b["a"]}));var v=a("ce2c");a.d(t,"b",(function(){return v["a"]}));var h=a("8295");a.d(t,"A",(function(){return h["a"]}));var g=a("83a6");a.d(t,"g",(function(){return g["a"]}));var y=a("8682");a.d(t,"y",(function(){return y["a"]}));var C=a("6c77");a.d(t,"z",(function(){return C["default"]}));var _=a("6cbf");a.d(t,"l",(function(){return _["default"]}));var O=a("480c");a.d(t,"D",(function(){return O["a"]}));var E=a("3e6b");a.d(t,"G",(function(){return E["default"]}));var S=a("c810");a.d(t,"n",(function(){return S["a"]}));var T=a("97e6");a.d(t,"I",(function(){return T["a"]}));var w=a("78db");a.d(t,"J",(function(){return w["a"]}));var L=a("fdb7");a.d(t,"q",(function(){return L["a"]}));var k=a("089b");a.d(t,"O",(function(){return k["b"]}));var I=a("d0e9");a.d(t,"t",(function(){return I["a"]}));var A=a("5043");a.d(t,"B",(function(){return A["a"]}));var D=a("5831");a.d(t,"H",(function(){return D["default"]}));var x=a("b090");a.d(t,"m",(function(){return x["a"]}));var j=a("256f");a.d(t,"R",(function(){return j["fromLonLat"]})),a.d(t,"T",(function(){return j["transform"]})),a.d(t,"U",(function(){return j["transformExtent"]}));var P=a("2ef1");a.d(t,"L",(function(){return P["a"]}));var M=a("9d47");a.d(t,"x",(function(){return M["a"]}));var R=a("21bc");a.d(t,"P",(function(){return R["a"]}));var B=a("cbcb");a.d(t,"h",(function(){return B["a"]}));var N=a("a2e1");a.d(t,"i",(function(){return N["a"]}));var F=a("8083");a.d(t,"k",(function(){return F["a"]}));var V=a("1ab5");a.d(t,"o",(function(){return V["a"]}));var G=a("b168");a.d(t,"F",(function(){return G["a"]}));var H=a("962d");a.d(t,"j",(function(){return H["a"]}));var U=a("06f8");a.d(t,"S",(function(){return U["i"]}));var z=a("ac29");a.d(t,"e",(function(){return z["c"]})),a.d(t,"N",(function(){return z["b"]})),a.d(t,"M",(function(){return z["a"]}));var $=a("35a7");a.d(t,"V",(function(){return $["b"]}));var q=a("f2f0");a.d(t,"E",(function(){return q["a"]}))},bf17:function(e,t,a){"use strict";var n=a("16d2"),i=a.n(n);i.a},c5b8:function(e,t,a){e.exports=a.p+"img/world.19e26a6b.svg"},c8ca:function(e,t,a){e.exports=a.p+"img/logo-en.584423f0.png"},ccd4:function(e,t,a){"use strict";var n=a("2c2c"),i=a.n(n);i.a},ccd8:function(e,t,a){e.exports=a.p+"img/arrow_down.525f9aba.svg"},ce96:function(e,t,a){"use strict";a.d(t,"f",(function(){return l})),a.d(t,"b",(function(){return h})),a.d(t,"e",(function(){return S})),a.d(t,"d",(function(){return L})),a.d(t,"a",(function(){return D})),a.d(t,"h",(function(){return N})),a.d(t,"i",(function(){return z})),a.d(t,"j",(function(){return K})),a.d(t,"c",(function(){return ee})),a.d(t,"k",(function(){return ie})),a.d(t,"g",(function(){return ce}));a("d225"),a("b0b4"),a("8e6e"),a("ac6a"),a("456d");var n=a("bd86"),i=a("790a"),r=a("b85b");function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c={bboxToExtent:function(e){var t=new r["w"]([e]).getExtent();return t},formatArea:function(e){var t,a=Object(i["a"])(e);return t=a>1e4?Math.round(a/1e6*100)/100+" km<sup>2</sup>":Math.round(100*a)/100+" m<sup>2</sup>",t},formatLength:function(e){var t,a=Object(i["c"])(e);return t=a>100?Math.round(a/1e3*100)/100+" km":Math.round(100*a)/100+" m",t},formatCircleRadius:function(e){var t,a=e.getRadius()*METERS_PER_UNIT["m"];return t=a>100?Math.round(a/1e3*100)/100+" km":Math.round(100*a)/100+" m",t}},l=o({},c),u=a("07a4"),d=a("36d6"),p=a("f2ef");function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b={renderColor:function(e,t,a){var n=[],i=[];n[0]=t.rgba.r,n[1]=t.rgba.g,n[2]=t.rgba.b,n[3]=255*t.rgba.a,i[0]=a.rgba.r,i[1]=a.rgba.g,i[2]=a.rgba.b,i[3]=255*a.rgba.a;var r="["+n[0]+","+n[1]+","+n[2]+","+n[3]+"]",s="["+i[0]+","+i[1]+","+i[2]+","+i[3]+"]",o='{"id":'+e+',"name":"","source":{"type":"mapLayer","mapLayerId": '+e+'},"drawingInfo":{"renderer":{"type":"simple","label":"","description":"","symbol":{"color":'+r+',"outline":{"color":'+s+',"width":1.0,"type":"esriSLS","style":"esriSLSSolid"},"type":"esriSFS","style":"esriSFSSolid"}}},"minScale":0,"maxScale":0}';return o},buildVectorStyle:function(e,t){(p["a"].isNull(e)||p["a"].isUndefined(e))&&(e=v.getDefaultColorObject().borderColor),(p["a"].isNull(t)||p["a"].isUndefined(t))&&(t=v.getDefaultColorObject().fillColor);var a=new r["z"]({fill:new r["g"]({color:t}),stroke:new r["y"]({color:e,width:.5}),image:new r["b"]({radius:7,fill:new r["g"]({color:t}),stroke:new r["y"]({color:e,width:.5})})});return a},buildColorObject:function(e,t){var a=v.getDefaultColorObject();return(p["a"].isUndefined(e)||p["a"].isNull(e))&&(e=a.borderColor),(p["a"].isUndefined(t)||p["a"].isNull(t))&&(t=a.fillColor),{borderColor:e,fillColor:t}}},v={getDefaultColorObject:function(){var e=u["a"].state.colorPicker.defaultFillColor,t=u["a"].state.colorPicker.defaultBorderColor;return{fillColor:e,borderColor:t}},getColorByIndex:function(e){var t=d["a"].length;return t-1<e?d["a"][0]:d["a"][e]}},h=m({},b,{},v),g=(a("6762"),a("2fdb"),a("6c7b"),a("75fc")),y=(a("7f7f"),a("6b54"),a("0962"));function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var O={basemapMapping:function(e){return{id:e.id,name:e.label,showingLabel:e.showingLabel,spatial:e.spatial,minZoomLevel:e.minZoomLevel,maxZoomLevel:e.maxZoomLevel,extent:e.extent,resolutionOption:e.resolutionOption,resourceType:e.resourceTypeId,mapType:e.mapTypeId,type:y["d"].LAYER,isDisabled:e.isDisabled,isSelected:!1,layers:null,sourceUrl:e.sourceUrl}},dynamicMapping:function(e){return _({id:e.id,name:e.label,showingLabel:e.showingLabel,minZoomLevel:e.minZoomLevel,maxZoomLevel:e.maxZoomLevel,extent:e.extent,resolutionOption:e.resolutionOption,resourceType:e.resourceTypeId,mapType:e.mapTypeId,type:y["d"].LAYER,isDisabled:e.isDisabled,isSelected:!1,isColorEnabled:!0,sourceUrl:e.sourceUrl},"local"===e.resourceTypeId&&{color:null,layerColor:e.layerColor},{query:{where:"",extentCoordinates:""},layers:null})},recursiveMap:function(e){if(void 0!==e.layers){var t={id:e.id,name:e.label,mapTypeId:e.mapTypeId,children:e.children.map((function(e,t){return O.recursiveMap(e)})),type:y["d"].CATEGORY,layers:e.layers.map((function(t,a){return N.isBasemap(e.mapTypeId)?O.basemapMapping(t):O.dynamicMapping(t)}))};return t}return N.isBasemap(e.mapTypeId)?O.basemapMapping(e):O.dynamicMapping(e)},subLayerMapping:function(e,t){return e.color=null,e.type=y["d"].SUBLAYER,e.isSelected=!0,e.uid=parseInt(t.id.toString()+e.id.toString()),e.parent=t,e},mapLayers:function(e){var t=e.filter((function(e){return"basemap"===e.mapTypeId})).map((function(e){return O.recursiveMap(e)})),a=e.filter((function(e){return"dynamic"===e.mapTypeId})).map((function(e){return O.recursiveMap(e)})),n={baseLayers:t,dynamicLayers:a};return n},recursiveLayerMapping:function(e,t){for(var a=0;a<e.length;a++){var n=e[a];O.recursiveMapping(n,t)}return e},recursiveMapping:function(e,t){var a=N.isCategory(e);if(a){if(e.children&&e.children.length>0)for(var n=0;n<e.children.length;n++){var i=e.children[n];O.recursiveMapping(i,t)}if(e.layers&&e.layers.length>0)for(n=0;n<e.layers.length;n++){var r=e.layers[n];O.recursiveMapping(r,t)}}else t&&"function"===typeof t&&t(e)},recursiveTreeMapping:function(e,t){for(var a=[],n=0;n<e.length;n++){var i=e[n];i=O.recursiveTreeSelectMapping(i,t);i&&a.push(i)}return a},recursiveTreeSelectMapping:function(e,t){if(t&&"function"===typeof t&&(e=t(e)),!e)return e;var a=N.isCategory(e);if(a){for(var n={id:e.id,label:e.name,children:[].concat(Object(g["a"])(e.children),Object(g["a"])(e.layers))},i=0;i<n.children.length;i++)n.children[i]=O.recursiveTreeSelectMapping(n.children[i],t);return n}return{id:e.id,label:e.name}}},E={renderArcgisSublayerConfig:function(e){var t=e.layers,a=t.filter((function(e){return e.isSelected})).map((function(e,t){return e.id})),n=t.filter((function(e){return!e.isSelected})).map((function(e,t){return e.id})),i="";return i=a.length>0?"show:"+a.join(" , "):"hide:"+n.join(" , "),i},renderSubLayersColorString:function(e){for(var t=[],a=0;a<e.layers.length;a++){var n=e.layers[a];if(void 0!==n.color&&null!==n.color){var i=h.renderColor(n.id,n.color.fill,n.color.border);t.push(i)}}var r="";return t.length>0&&(r="["+t.join(" , ")+"]"),r},treeFilter:function(e,t){var a=e.filter((function(e){if(N.isCategory(e)){e.children=E.treeFilter(e.children,t);var a=e.layers.some((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));return e.layers&&(e.layers=e.layers.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))),a||e.children.length>0}return e.name.toLowerCase().includes(t.toLowerCase())}));return a}},S=_({},E,{},O),T=a("5a0c"),w=a.n(T),L={formatDate:function(e){return w()(e).format("D MMMM YYYY")},formatDateTime:function(e){return w()(e).format("HH:mm D MMMM YYYY")}};a("0d96");function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var A={bunchMapper:function(e){var t={id:e.id,name:e.label,layers:e.layers.map((function(e){return S.dynamicMapping(e)})),type:"bunch",isActive:e.isActive,color:null,isSelected:!1,isColorEnabled:!0};return t},mapBunchs:function(e){var t=e.map((function(e){return A.bunchMapper(e)}));return t}},D=I({},A),x=(a("96cf"),a("3b8d")),j=a("dde5"),P=a("7540");function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var B={isLocalService:function(e){return e&&"local"===e.resourceType},isArcgisService:function(e){return e&&"azcArcgis"===e.resourceType},isDynamic:function(e){return e&&"dynamic"==e.mapType},isBasemap:function(e){return e&&"basemap"==e.mapType},isDynamicFromArcgis:function(e){return e&&B.isArcgisService(e)&&B.isDynamic(e)},isDynamicFromLocal:function(e){return e&&B.isLocalService(e)&&B.isDynamic(e)},isCategory:function(e){return e&&e.type===y["d"].CATEGORY},isLayer:function(e){return e&&e.type===y["d"].LAYER},isSublayer:function(e){return e&&e.type===y["d"].SUBLAYER},isBunch:function(e){return e&&e.type===y["d"].BUNCH},isEqual:function(e,t){return e&&t&&e.id==t.id&&e.type==t.type},isQueryExist:function(e){return B.isLayer(e)?e.query&&(e.query.where&&""!==e.query.where&&"1=1"!==e.query.where.trim()||e.query.extentCoordinates&&""!==e.query.extentCoordinates&&"1=1"!==e.query.extentCoordinates.trim()):!!B.isBunch(e)&&e.layers.some((function(e){return B.isQueryExist(e)}))},isLayerColorEnabled:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=!1,!B.isDynamicFromArcgis()){e.next=8;break}return e.next=4,P["a"].getLayerDynamic({token:j["c"].getToken(),name:t.name});case 4:n=e.sent,void 0!==n.data.layers[0].drawingInfo&&void 0!==n.data.layers[0].drawingInfo.renderer.symbol&&void 0!==n.data.layers[0].drawingInfo.renderer.symbol.color&&(a=!0),e.next=9;break;case 8:B.isDynamicFromLocal()&&(a=!0);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},N=R({},B),F=a("78a3"),V=a("778c");function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function H(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var U={buildTileUrl:function(e,t){var a="",n=j["c"].getToken(),i=y["e"].LOCAL_MVT,r=y["e"].XYZ,s=y["e"].TILE_ARCGIS_REST,o=y["e"].IMAGE_ARCGIS_REST;switch(t){case i:if(N.isLayer(e)){var c=e.query,l=K.formatQueryString(c);a="".concat(F["m"],"/").concat(F["j"].MVT,"/").concat(e.id,"/{z}/{x}/{y}/?").concat(l)}else{var u=e.layers.map((function(e,t){var a={layerId:e.id};return N.isQueryExist(e)&&(a.query=e.query),a})),d=K.formatQueryString({queries:u});a="".concat(F["m"],"/api/Tile/Intersect/VectorAsMvt/").concat(e.id,"/{z}/{x}/{y}/?").concat(d)}break;case r:a="".concat(F["m"],"/api/map/service/").concat(e.name,"/MapServer/tile/{z}/{y}/{x}?token=").concat(n);break;case s:a="".concat(F["m"],"/api/map/service/").concat(e.name,"/MapServer/");break;case o:a="".concat(F["m"],"/api/map/service/").concat(e.name,"/MapServer/");break}return a},getImageUrl:function(e,t,a){var n=V["a"];n["token"]=j["c"].getToken(),n["bbox"]=t.toString();var i=F["b"].EXPORT_IMAGE_URL(e,n);return i}},z=H({},U),$=a("4328"),q=a.n($);function Q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Z={formatQueryString:function(e){return q.a.stringify(e,{arrayFormat:"indices",allowDots:!0})},checkImageExists:function(e){var t=new XMLHttpRequest;return t.open("HEAD",e,!1),t.send(),404!=t.status}},K=Y({},Z);function W(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?W(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):W(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var J={checkStringArithmeticOperation:function(e,t,a){switch(a){case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t;default:return e===t}},parseByTypeString:function(e,t){switch(e){case"int":return parseInt(t);case"double":return parseFloat(t);case"string":return t.toString();default:return parseInt(t)}}},ee=X({},J);function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ne={mapRoleObj:function(e){var t=e.map((function(e){var t=e.name.toLowerCase(),a=[];return e.permissions&&e.permissions.length>0&&(a=e.permissions.map((function(e){return"".concat(e.category.label,"_").concat(e.permission.label).toLowerCase()}))),{name:t,permissions:a}}));return t},mapPermissionObj:function(e){return e&&e.length>0?e.map((function(e){return e.label.toLowerCase()})):[]},mapUserInfo:function(e){var t=e.userName,a=e.email,n=e.id;return{userName:t,email:a,id:n}}},ie=ae({},ne);function re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function se(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?re(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var oe={getRolePermissions:function(e){var t=[];return e.forEach((function(e){t=t.concat(e.permissions)})),t},getRoleNames:function(e){return e.map((function(e){return e.name}))}},ce=se({},oe),le=a("2b0e");function ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function de(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ue(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var pe=new le["default"],fe={showSuccess:function(e){p["a"].isUndefined(e)&&(e="Success"),pe.$toasted.show(e,{icon:{name:"fas fa-check"}})},showError:function(e){p["a"].isUndefined(e)&&(e="Failed!"),pe.$toasted.show(e,{theme:"bubble",icon:{name:"fas fa-check"}})}};de({},fe)},cee4:function(e,t,a){e.exports=a.p+"img/arrow_left.bd19434f.svg"},d77f:function(e,t,a){},d83d:function(e,t,a){"use strict";var n=a("3178"),i=a.n(n);i.a},dcbe:function(e,t,a){"use strict";var n=a("6e73"),i=a.n(n);i.a},dddc:function(e,t,a){},dde5:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return p})),a.d(t,"b",(function(){return f}));var n="token",i={getToken:function(){return localStorage.getItem(n)},setToken:function(e){localStorage.setItem(n,e)},removeToken:function(){localStorage.removeItem(n)}},r=a("7055"),s=a("07a4"),o={logout:function(){r["l"].setRoles([]),r["l"].setDirectivePermissions([]),r["l"].setUserInfo({}),s["a"].dispatch("SAVE_AUTH_TOKEN",""),i.removeToken()}},c=a("b775"),l=a("78a3"),u={getInfo:function(){return Object(c["a"])({url:l["n"].GET_INFO_URL,method:"get"})}},d=a("ce96"),p=(a("41cb"),{getInfo:function(){return new Promise((function(e,t){u.getInfo().then((function(a){a||t("Verification failed, please Login again.");var n=a.data,i=n.roles,s=n.directivePermissions;(!i||i.length<=0)&&(i=[{name:"none",permissions:[]}]),(!i||i.length<=0)&&t("getInfo: roles must be a non-null array!");var o=d["k"].mapRoleObj(i),c=d["k"].mapPermissionObj(s);r["l"].setRoles(o),r["l"].setDirectivePermissions(c),r["l"].setUserInfo(d["k"].mapUserInfo(a.data)),e(a)})).catch((function(e){t(e)}))}))}}),f=(a("c5f6"),a("28a5"),a("a481"),{resolveHash:function(){var e=window.location.hash;if(""!==e){var t=e.replace("#shareMap=",""),a=t.split("&");if(4===a.length){var n=parseInt(a[0],10),i=[parseFloat(a[1]),parseFloat(a[2])],r=[],s=a[3].split(",");return s&&""!=s&&(r=s.map(Number)),{zoom:n,center:i,selectedLayers:r}}}return null},setHashSelectedServices:function(){if(null!==this.hashResolveResult){var e=this.hashResolveResult.selectedLayers;if(e)for(var t=0;t<e.length;t++){var a=e[t],n=r["d"].getLayer(a);n&&serviceController.selectService(n,!0)}}},updateHash:function(){var e=r["e"].getMap(),t=e.getView(),a={zoom:t.getZoom(),center:t.getCenter(),rotation:t.getRotation()},n=r["d"].getSelectedLayers(),i=n.map((function(e){return e.id})),s="#shareMap="+t.getZoom()+"&"+Math.round(100*t.getCenter()[0])/100+"&"+Math.round(100*t.getCenter()[1])/100+"&"+i;window.history.pushState(a,"map",s)}})},df19:function(e,t,a){e.exports=a.p+"img/map.1a740cbd.svg"},e309:function(e,t,a){},e332:function(e,t,a){},ebd0:function(e,t,a){"use strict";var n=a("03fd"),i=a.n(n);i.a},ed08:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return o}));a("456d"),a("ac6a");var n=a("7618");a("34ef"),a("6b54"),a("a481");function i(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}function r(e,t,a){if(e.length>t){var n=t;while(n>0&&" "!=e[n]&&"-"!=e[n])n--;if(n>0){var i;i="-"==e.substring(n,n+1)?e.substring(0,n+1):e.substring(0,n);var s=e.substring(n+1);return i+a+r(s,t,a)}}return e}function s(e){if(!e&&"object"!==Object(n["a"])(e))throw new Error("error arguments","deepClone");var t=e.constructor===Array?[]:{};return Object.keys(e).forEach((function(a){e[a]&&"object"===Object(n["a"])(e[a])?t[a]=s(e[a]):t[a]=e[a]})),t}function o(e){return e.charAt(0).toUpperCase()+e.slice(1)}},ed0e:function(e,t,a){},ed7b:function(e,t,a){},ed85:function(e,t,a){e.exports=a.p+"img/line.96dbd02a.svg"},ee13:function(e,t,a){"use strict";function n(e){switch(e){case 1:return"=";case 2:return">";case 3:return"<";case 4:return">=";case 5:return"<="}}function i(e){switch(e){case 1:return"km";case 2:return"m";case 3:return"cm";default:return"km"}}a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return i}))},eeec:function(e,t,a){e.exports=a.p+"img/arrow_up.b54cfac9.svg"},f035:function(e,t,a){"use strict";var n=a("89e4"),i=a.n(n);i.a},f11b:function(e,t,a){e.exports=a.p+"img/minus.7dc2f5e2.svg"},f919:function(e,t,a){e.exports=a.p+"img/search.e990092e.svg"},fafe:function(e,t,a){},fb04:function(e,t,a){e.exports=a.p+"img/layer.a6f973ff.svg"},fcd6:function(e,t,a){e.exports=a.p+"img/circle.ca606f64.svg"},fd79:function(e,t,a){e.exports=a.p+"img/square.0fe06184.svg"},fe1b:function(e,t,a){},fefb:function(e,t,a){},ff9f:function(e,t,a){}});
//# sourceMappingURL=app.059a8dc8.js.map