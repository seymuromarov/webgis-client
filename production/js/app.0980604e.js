(function(t){function e(e){for(var n,o,s=e[0],c=e[1],l=e[2],u=0,p=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(p.length)p.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},i={app:0},r=[];function o(t){return s.p+"js/"+({}[t]||t)+"."+{"chunk-2d216214":"3f508486","chunk-2d216257":"3f6f7528","chunk-3a0aa9bd":"4fb9f751"}[t]+".js"}function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.e=function(t){var e=[],a=i[t];if(0!==a)if(a)e.push(a[2]);else{var n=new Promise((function(e,n){a=i[t]=[e,n]}));e.push(a[2]=n);var r,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=o(t);var l=new Error;r=function(e){c.onerror=c.onload=null,clearTimeout(u);var a=i[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+n+": "+r+")",l.name="ChunkLoadError",l.type=n,l.request=r,a[1](l)}i[t]=void 0}};var u=setTimeout((function(){r({type:"timeout",target:c})}),12e4);c.onerror=c.onload=r,document.head.appendChild(c)}return Promise.all(e)},s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0076":function(t,e,a){},"03d5":function(t,e,a){"use strict";var n=a("b775"),i=a("78a3");e["a"]={get:function(t){return n["a"].get(i["g"].GET_TABLE_INFO+"/"+t)},getAll:function(t){return n["a"].get(i["g"].GET_ALL,{params:t})},add:function(t){return n["a"].post(i["g"].ADD,t)},edit:function(t){return n["a"].post(i["g"].EDIT,t)},delete:function(t){return n["a"].post(i["g"].DELETE+"/"+t)}}},"03fd":function(t,e,a){},"062f":function(t,e,a){},"07a4":function(t,e,a){"use strict";a("96cf");var n=a("3b8d"),i=a("2b0e"),r=a("2f62"),o={token:null,username:null},s={SET_AUTH_TOKEN:function(t,e){t.token=e}},c={SAVE_AUTH_TOKEN:function(t,e){t.commit("SET_AUTH_TOKEN",e)}},l={token:function(t){return t.token},username:function(t){return t.username}},u={state:o,mutations:s,actions:c,getters:l},d=a("ce96"),p={sumData:{},infoData:null,data:{},paging:{},activeTabId:null,activeService:null,isVisible:!1,loading:!1,isEditData:!1,editDataGid:0},f={SET_DATATABLE:function(t,e){t.data=e},SET_DATATABLE_TABS:function(t,e){t.tabs=e},SET_DATATABLE_ACTIVE_TAB_ID:function(t,e){t.activeTabId=e},SET_DATATABLE_ACTIVE_SERVICE:function(t,e){t.activeService=e},SET_IS_EDIT_DATA:function(t,e){t.isEditData=e},SET_EDIT_DATA_GID:function(t,e){t.editDataGid=e},SET_DATATABLE_CHECKED_COLUMNS:function(t,e){e.id;var a=e.value;t.data.checkedColumnsData=a},SET_DATATABLE_CHECKED_COLUMNS_DATA:function(t,e){e.id;var a=e.value;t.data.checkedColumns=a},SET_DATATABLE_FILTER_VALUES:function(t,e){e.id;var a=e.value;t.data.filterValues=a},SET_DATATABLE_VISIBLE:function(t,e){t.isVisible=e},SET_DATATABLE_LOADING:function(t,e){t.loading=e},SET_DATATABLE_PAGING:function(t,e){t.paging=e},SET_SUM_DATA:function(t,e){t.sumData=e},SET_INFO_DATA:function(t,e){t.infoData=e}},m={SAVE_DATATABLE:function(t,e){t.commit("SET_DATATABLE",e)},saveIsEditData:function(t,e){t.commit("SET_IS_EDIT_DATA",e)},saveEditDataGid:function(t,e){t.commit("SET_EDIT_DATA_GID",e)},SAVE_DATATABLE_ACTIVE_TAB_ID:function(t,e){t.commit("SET_DATATABLE_ACTIVE_TAB_ID",e)},saveTableActiveService:function(t,e){var a=null,n=d["h"].isBunch(e);a=n?e.layers[0].id:e.id,t.commit("SET_DATATABLE_ACTIVE_SERVICE",e),t.commit("SET_DATATABLE_ACTIVE_TAB_ID",a)},SAVE_DATATABLE_CHECKED_COLUMNS:function(t,e){var a=e.id,n=e.value;t.commit("SET_DATATABLE_CHECKED_COLUMNS",{id:a,value:n})},SAVE_DATATABLE_CHECKED_COLUMNS_DATA:function(t,e){var a=e.id,n=e.value;t.commit("SET_DATATABLE_CHECKED_COLUMNS_DATA",{id:a,value:n})},SAVE_DATATABLE_FILTER_VALUES:function(t,e){var a=e.id,n=e.value;t.commit("SET_DATATABLE_FILTER_VALUES",{id:a,value:n})},SAVE_DATATABLE_VISIBLE:function(t,e){t.commit("SET_DATATABLE_VISIBLE",e)},SAVE_DATATABLE_LOADING:function(t,e){t.commit("SET_DATATABLE_LOADING",e)},saveDataTablePaging:function(t,e){t.commit("SET_DATATABLE_PAGING",e)},RESET_DATATABLE:function(t){t.dispatch("SAVE_DATATABLE",[]),t.dispatch("SAVE_DATATABLE_TABS",[])},saveSumData:function(t,e){t.commit("SET_SUM_DATA",e)},saveInfoData:function(t,e){t.commit("SET_INFO_DATA",e)}},h={dataTableLoading:function(t){return t.loading},isEditData:function(t){return t.isEditData},dataTableVisibleStatus:function(t){return t.isVisible},tableData:function(t){return t.data},tablePaging:function(t){return t.paging},sumData:function(t){return t.sumData},infoData:function(t){return t.infoData},editDataGid:function(t){return t.editDataGid},tableActiveService:function(t){return t.activeService}},g={state:p,mutations:f,actions:m,getters:h},b={defaultFillColor:"#FFFFFF00",defaultBorderColor:"#F44336FF",shapeFillColor:{hex8:"var(--transparent)",rgba:{r:255,g:255,b:255,a:1}},shapeBorderColor:{hex8:"#000000",rgba:{r:255,g:255,b:255,a:1}},colorPicker:{visibility:!1,layer:null,borderTab:!0},activeColorPickerId:null,layerColorOrderList:[]},v={colorPicker:function(t){return t.colorPicker},defaultFillColor:function(t){return t.defaultFillColor},defaultBorderColor:function(t){return t.defaultBorderColor},activeColorPickerId:function(t){return t.activeColorPickerId},layerColorOrderList:function(t){return t.layerColorOrderList}},y={SET_COLORPICKER:function(t,e){t.colorPicker=e},SET_COLORPICKER_BORDER_TAB:function(t,e){t.colorPicker.borderTab=e},SET_COLORPICKER_LAYER:function(t,e){t.colorPicker.layer=e},SET_COLORPICKER_VISIBILITY:function(t,e){t.colorPicker.visibility=e},SET_COLORPICKER_FILLCOLOR:function(t,e){t.fillColor=e},SET_COLORPICKER_BORDERCOLOR:function(t,e){t.borderColor=e},SET_COLORPICKER_SHAPEBORDERCOLOR:function(t,e){t.shapeBorderColor=e},SET_COLORPICKER_SHAPEFILLCOLOR:function(t,e){t.shapeFillColor=e},SET_COLORPICKER_DYNAMICCOLORS:function(t,e){t.activeDynamicLayersColorsGetter=e},SET_ACTIVE_COLOR_PICKER_ID:function(t,e){t.activeColorPickerId=e},SET_LAYER_COLOR_ORDER_LIST:function(t,e){t.layerColorOrderList=e}},C={SAVE_COLORPICKER:function(t,e){t.commit("SET_COLORPICKER",e)},SAVE_COLORPICKER_BORDER_TAB:function(t,e){t.commit("SET_COLORPICKER_BORDER_TAB",e)},SAVE_COLORPICKER_VISIBILITY:function(t,e){t.commit("SET_COLORPICKER_VISIBILITY",e)},SAVE_COLORPICKER_LAYER:function(t,e){t.commit("SET_COLORPICKER_LAYER",e)},SAVE_COLORPICKER_FILLCOLOR:function(t,e){t.commit("SET_COLORPICKER_FILLCOLOR",e)},SAVE_COLORPICKER_BORDERCOLOR:function(t,e){t.commit("SET_COLORPICKER_BORDERCOLOR",e)},SAVE_COLORPICKER_SHAPEFILLCOLOR:function(t,e){t.commit("SET_COLORPICKER_SHAPEFILLCOLOR",e)},SAVE_COLORPICKER_SHAPEBORDERCOLOR:function(t,e){t.commit("SET_COLORPICKER_SHAPEBORDERCOLOR",e)},SAVE_ACTIVE_COLOR_PICKER_ID:function(t,e){t.commit("SET_ACTIVE_COLOR_PICKER_ID",e)},SAVE_LAYER_COLOR_ORDER_LIST:function(t,e){t.commit("SET_LAYER_COLOR_ORDER_LIST",e)}},_={state:b,mutations:y,actions:C,getters:v},O={faq:{data:[]},releaseNotes:{data:[]}},E={SET_FAQ_DATA:function(t,e){t.faq.data=e},SET_RELEASE_NOTES_DATA:function(t,e){t.releaseNotes.data=e}},S={state:O,mutations:E},w=(a("8e6e"),a("ac6a"),a("456d"),a("bd86"));function T(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function L(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?T(Object(a),!0).forEach((function(e){Object(w["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var k={issueList:{open:[],closed:[]},issueCount:{open:null,closed:null},activeTab:1,activeCategoryId:0,openIssue:null,categories:[]},I={SET_OPEN_ISSUES:function(t,e){t.issueList=L({},t.issueList,{open:e})},SET_CLOSED_ISSUES:function(t,e){t.issueList=L({},t.issueList,{closed:e})},SET_ISSUE_COUNT:function(t,e){t.issueCount=e},SET_OPEN_ISSUE:function(t,e){t.openIssue=e},SET_CATEGORIES:function(t,e){t.categories=e},SET_ACTIVE_TAB:function(t,e){t.activeTab=e},SET_ACTIVE_CATEGORY_ID:function(t,e){t.activeCategoryId=e}},A={state:k,mutations:I},x={dynamicLayerList:[],baseLayerList:[],bunchLayerList:[],favoriteBaseLayerIds:[],favoriteDynamicLayerIds:[],defaultBaseLayerIds:[],defaultDynamicLayerIds:[],focusedPolygonVector:null},D={SET_FOCUSED_POLYGON_VECTOR:function(t,e){t.focusedPolygonVector=e},SET_DYNAMIC_LAYER_LIST:function(t,e){t.dynamicLayerList=e},SET_BASE_LAYER_LIST:function(t,e){t.baseLayerList=e},SET_BUNCH_LAYER_LIST:function(t,e){t.bunchLayerList=e},SET_FAVORITE_BASE_LAYER_IDS:function(t,e){t.favoriteBaseLayerIds=e},SET_FAVORITE_DYNAMIC_LAYER_IDS:function(t,e){t.favoriteDynamicLayerIds=e},SET_DEFAULT_DYNAMIC_LAYER_IDS:function(t,e){t.defaultDynamicLayerIds=e},SET_DEFAULT_BASE_LAYER_IDS:function(t,e){t.defaultBaseLayerIds=e}},j={saveFocusePolygonVector:function(t,e){t.commit("SET_FOCUSED_POLYGON_VECTOR",e)},saveDynamicLayerList:function(t,e){t.commit("SET_DYNAMIC_LAYER_LIST",e)},saveBaseLayerList:function(t,e){t.commit("SET_BASE_LAYER_LIST",e)},saveBunchLayerList:function(t,e){t.commit("SET_BUNCH_LAYER_LIST",e)},saveFavoriteDyanmicLayerIds:function(t,e){t.commit("SET_FAVORITE_DYNAMIC_LAYER_IDS",e)},saveFavoriteBaseLayerIds:function(t,e){t.commit("SET_FAVORITE_BASE_LAYER_IDS",e)},saveDefaultDynamicLayerIds:function(t,e){t.commit("SET_DEFAULT_DYNAMIC_LAYER_IDS",e)},saveDefaultBaseLayerIds:function(t,e){t.commit("SET_DEFAULT_BASE_LAYER_IDS",e)}},P={dynamicLayerList:function(t){return t.dynamicLayerList},baseLayerList:function(t){return t.baseLayerList},bunchLayerList:function(t){return t.bunchLayerList},favoriteBaseLayerIds:function(t){return t.favoriteBaseLayerIds},favoriteDynamicLayerIds:function(t){return t.favoriteDynamicLayerIds},defaultDynamicLayerIds:function(t){return t.defaultDynamicLayerIds},defaultBaseLayerIds:function(t){return t.defaultBaseLayerIds}},M={state:x,mutations:D,actions:j,getters:P},R={isSumFilter:!1,sumFilterColumn:"",isRequiredServiceRefresh:!1},B={SET_IS_SUM_FILTER:function(t,e){t.isSumFilter=e},SET_SUM_FILTER_COLUMN:function(t,e){t.sumFilterColumn=e},SET_IS_REQUIRED_SERVICE_REFRESH:function(t,e){t.isRequiredServiceRefresh=e}},F={saveIsSumFilter:function(t,e){t.commit("SET_IS_SUM_FILTER",e)},saveSumFilterColumn:function(t,e){t.commit("SET_SUM_FILTER_COLUMN",e)},saveIsRequiredServiceRefreshStatus:function(t,e){t.commit("SET_IS_REQUIRED_SERVICE_REFRESH",e)}},N={isSumFilter:function(t){return t.isSumFilter},sumFilterColumn:function(t){return t.sumFilterColumn},isRequiredServiceRefresh:function(t){return t.isRequiredServiceRefresh}},$={state:R,mutations:B,actions:F,getters:N},G={mapLayer:null,graticuleLayer:null,selectionLayer:null,selectedFeatureId:0,scaleOptions:null,draw:null,drawSource:null,sketch:null,clickedCoordinate:[],clickedPixel:[]},V={SET_MAP:function(t,e){t.mapLayer=e},SET_GRATICULE:function(t,e){t.graticuleLayer=e},SET_DRAW:function(t,e){t.draw=e},SET_DRAW_SOURCE:function(t,e){t.drawSource=e},SET_SELECTION_LAYER:function(t,e){t.selectionLayer=e},SET_SELECTED_FEATURE_ID:function(t,e){t.selectedFeatureId=e},SET_SKETCH:function(t,e){t.sketch=e},SET_CLICKED_COORDINATE:function(t,e){t.clickedCoordinate=e},SET_CLICKED_PIXEL:function(t,e){t.clickedPixel=e},SET_SCALE_OPTIONS:function(t,e){t.scaleOptions=e}},U={saveMap:function(t,e){t.commit("SET_MAP",e)},saveGraticule:function(t,e){t.commit("SET_GRATICULE",e)},saveDraw:function(t,e){t.commit("SET_DRAW",e)},saveDrawSource:function(t,e){t.commit("SET_DRAW_SOURCE",e)},saveSelectionLayer:function(t,e){t.commit("SET_SELECTION_LAYER",e)},saveSelectedFeatureId:function(t,e){t.commit("SET_SELECTED_FEATURE_ID",e)},saveSketch:function(t,e){t.commit("SET_SKETCH",e)},saveClickedCoordinate:function(t,e){t.commit("SET_CLICKED_COORDINATE",e)},saveClickedPixel:function(t,e){t.commit("SET_CLICKED_PIXEL",e)},saveScaleOptions:function(t,e){t.commit("SET_SCALE_OPTIONS",e)}},H={mapLayer:function(t){return t.mapLayer},graticuleLayer:function(t){return t.graticuleLayer},draw:function(t){return t.draw},drawSource:function(t){return t.drawSource},selectionLayer:function(t){return t.selectionLayer},selectedFeatureId:function(t){return t.selectedFeatureId},sketch:function(t){return t.sketch},clickedCoordinate:function(t){return t.clickedCoordinate},clickedPixel:function(t){return t.clickedPixel},scaleOptions:function(t){return t.scaleOptions}},z={state:G,mutations:V,actions:U,getters:H},q=a("0962"),Q={graticuleVisibility:!1,isColorPick:!1,isMarker:!1,isInteraction:!1,isRemove:!1,isDrawForChangeDetection:!1,isDrawForFilter:!1,isDrawForTable:!1,drawType:q["b"].NONE,featureIdCounter:0,bbox:[],measuremaptooltipElement:null,measuremaptooltip:null,helpmaptooltipElement:null,helpmaptooltip:null},Y={SET_GRATICULE_VISIBILITY:function(t,e){t.graticuleVisibility=e},SET_COLOR_PICK_STATUS:function(t,e){t.isColorPick=e},SET_MARKER_STATUS:function(t,e){t.isMarker=e},SET_INTERACTION_STATUS:function(t,e){t.isInteraction=e},SET_DRAW_FOR_CHANGE_DETECTION_STATUS:function(t,e){t.isDrawForChangeDetection=e},SET_DRAW_FOR_FILTER_STATUS:function(t,e){t.isDrawForFilter=e},SET_REMOVE_STATUS:function(t,e){t.isRemove=e},SET_DRAW_TYPE:function(t,e){t.drawType=e},SET_FEATURE_ID_COUNTER:function(t,e){t.featureIdCounter=e},SET_BBOX:function(t,e){t.bbox=e},SET_MEASUREMAP_TOOLTIP_ELEMENT:function(t,e){t.measuremaptooltipElement=e},SET_MEASUREMAP_TOOLTIP:function(t,e){t.measuremaptooltip=e},SET_HELPMAP_TOOLTIP_ELEMENT:function(t,e){t.helpmaptooltipElement=e},SET_HELPMAP_TOOLTIP:function(t,e){t.helpmaptooltip=e}},Z={saveGraticuleVisibility:function(t,e){t.commit("SET_GRATICULE_VISIBILITY",e)},saveColorPickStatus:function(t,e){t.commit("SET_COLOR_PICK_STATUS",e)},saveMarkerStatus:function(t,e){t.commit("SET_MARKER_STATUS",e)},saveInteractionStatus:function(t,e){t.commit("SET_INTERACTION_STATUS",e)},saveDrawForChangeDetectionStatus:function(t,e){t.commit("SET_DRAW_FOR_CHANGE_DETECTION_STATUS",e)},saveDrawForFilterStatus:function(t,e){t.commit("SET_DRAW_FOR_FILTER_STATUS",e)},saveRemoveStatus:function(t,e){t.commit("SET_REMOVE_STATUS",e)},saveDrawType:function(t,e){t.commit("SET_DRAW_TYPE",e)},saveFeatureIdCounter:function(t,e){t.commit("SET_FEATURE_ID_COUNTER",e)},saveBbox:function(t,e){t.commit("SET_BBOX",e)},saveMeasuremapTooltipElement:function(t,e){t.commit("SET_MEASUREMAP_TOOLTIP_ELEMENT",e)},saveMeasuremapTooltip:function(t,e){t.commit("SET_MEASUREMAP_TOOLTIP",e)},saveHelpmapTooltipElement:function(t,e){t.commit("SET_HELPMAP_TOOLTIP_ELEMENT",e)},saveHelpmapTooltip:function(t,e){t.commit("SET_HELPMAP_TOOLTIP",e)}},W={graticuleVisibility:function(t){return t.graticuleVisibility},isColorPick:function(t){return t.isColorPick},isMarker:function(t){return t.isMarker},isInteraction:function(t){return t.isInteraction},isRemove:function(t){return t.isRemove},isDrawForChangeDetection:function(t){return t.isDrawForChangeDetection},isDrawForFilter:function(t){return t.isDrawForFilter},drawType:function(t){return t.drawType},featureIdCounter:function(t){return t.featureIdCounter},bbox:function(t){return t.bbox},measuremaptooltipElement:function(t){return t.measuremaptooltipElement},measuremaptooltip:function(t){return t.measuremaptooltip},helpmaptooltipElement:function(t){return t.helpmaptooltipElement},helpmaptooltip:function(t){return t.helpmaptooltip}},K={state:Q,mutations:Y,actions:Z,getters:W},X={activeMenuTab:"",isInformationModalVisible:!1,notificationCount:0},J={SET_ACTIVE_MENU_TAB:function(t,e){t.activeMenuTab=e},SET_INFORMATION_MODAL_VISIBILITY:function(t,e){t.isInformationModalVisible=e},SET_NOTIFICATION_COUNT:function(t,e){t.notificationCount=e}},tt={saveInformationModalVisibility:function(t,e){t.commit("SET_INFORMATION_MODAL_VISIBILITY",e)},saveActiveMenuTab:function(t,e){t.commit("SET_ACTIVE_MENU_TAB",e)},saveNotificationCount:function(t,e){t.commit("SET_NOTIFICATION_COUNT",e)}},et={activeMenuTab:function(t){return t.activeMenuTab},isInformationModalVisible:function(t){return t.isInformationModalVisible},notificationCount:function(t){return t.notificationCount}},at={state:X,mutations:J,actions:tt,getters:et},nt={historyIndex:0,isNeedUpdate:!1,isNextExist:!1,isPreviousExist:!1,history:[]},it={SET_HISTORY_INDEX:function(t,e){t.historyIndex=e},SET_HISTORY_IS_NEED_UPDATE:function(t,e){t.isNeedUpdate=e},SET_HISTORY_IS_NEXT_EXIST:function(t,e){t.isNextExist=e},SET_HISTORY_IS_PREVIOUS_EXIST:function(t,e){t.isPreviousExist=e},SET_HISTORY:function(t,e){t.history=e}},rt={saveHistoryIndex:function(t,e){t.commit("SET_HISTORY_INDEX",e)},saveHistoryIsNeedUpdate:function(t,e){t.commit("SET_HISTORY_IS_NEED_UPDATE",e)},saveHistoryIsNextExist:function(t,e){t.commit("SET_HISTORY_IS_NEXT_EXIST",e)},saveHistoryIsPreviousExist:function(t,e){t.commit("SET_HISTORY_IS_PREVIOUS_EXIST",e)},saveHistory:function(t,e){t.commit("SET_HISTORY",e)}},ot={historyIndex:function(t){return t.historyIndex},historyIsNeedUpdate:function(t){return t.isNeedUpdate},historyIsNextExist:function(t){return t.isNextExist},historyIsPreviousExist:function(t){return t.isPreviousExist},history:function(t){return t.history}},st={state:nt,mutations:it,actions:rt,getters:ot},ct={ndviExtent:null},lt={SET_NDVI_EXTENT:function(t,e){t.ndviExtent=e}},ut={saveNdviExtent:function(t,e){t.commit("SET_NDVI_EXTENT",e)}},dt={ndviExtent:function(t){return t.ndviExtent}},pt={state:ct,mutations:lt,actions:ut,getters:dt},ft={roles:[],directivePermissions:[],userInfo:{id:"",email:"",userName:""}},mt={SET_ROLES:function(t,e){t.roles=e},SET_USER_INFO:function(t,e){t.userInfo=e},SET_DIRECTIVE_PERMISSIONS:function(t,e){t.directivePermissions=e}},ht={saveRoles:function(t,e){t.commit("SET_ROLES",e)},saveUserInfo:function(t,e){t.commit("SET_USER_INFO",e)},saveDirectivePermissions:function(t,e){t.commit("SET_DIRECTIVE_PERMISSIONS",e)}},gt={roles:function(t){return t.roles},directivePermissions:function(t){return t.directivePermissions},userInfo:function(t){return t.userInfo}},bt={state:ft,mutations:mt,actions:ht,getters:gt},vt=a("9923"),yt=a("b775"),Ct=a("78a3"),_t={getLanguages:function(){return yt["a"].get(Ct["h"].GET_LANGUAGE,{params:{format:"i18n"}})}},Ot={language:Object(vt["b"])(),locales:[],messages:[]},Et={SET_LANGUAGE:function(t,e){t.language=e},SET_LOCALES:function(t,e){t.locales=e},SET_MESSAGES:function(t,e){t.messages=e}},St={saveLanguage:function(t,e){t.commit("SET_LANGUAGE",e),localStorage.setItem("language",e)},fetchRemoteMessages:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,n,i,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_t.getLanguages();case 2:for(a=t.sent,n=a.data,e.commit("SET_MESSAGES",n),i=Object.keys(n),e.commit("SET_LOCALES",i),r=0;r<i.length;r++)o=i[r],vt["a"].mergeLocaleMessage(o,n[o]);case 8:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},wt={language:function(t){return t.language},locales:function(t){return t.locales},messages:function(t){return t.messages}},Tt={state:Ot,mutations:Et,actions:St,getters:wt},Lt={auth:u,dataTable:g,colorPicker:_,information:S,forum:A,layers:M,filter:$,map:z,tool:K,menu:at,history:st,ndvi:pt,user:bt,language:Tt},kt=a("7540"),It=a("277f"),At=a("09bc"),xt=a("8ae2"),Dt=a("8bb0");i["default"].use(r["a"]);var jt=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,n,i,r,o,s,c,l,u,p,f,m,h,g;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.dispatch,t.next=3,kt["a"].getLayers();case 3:return n=t.sent,t.next=6,At["a"].getAll();case 6:return i=t.sent,t.next=9,xt["a"].getAll();case 9:return r=t.sent,o=[],s=[],c=[],l=[],i.data&&""!=i.data&&(o=i.data.filter((function(t){return"dynamic"==t.layer.mapTypeId})).map((function(t){return t.layer.id})),s=i.data.filter((function(t){return"basemap"==t.layer.mapTypeId})).map((function(t){return t.layer.id}))),r.data&&""!=r.data&&(c=r.data.filter((function(t){return"dynamic"==t.layer.mapTypeId})).map((function(t){return t.layer.id})),l=r.data.filter((function(t){return"basemap"==t.layer.mapTypeId})).map((function(t){return t.layer.id}))),u=d["e"].mapLayers(n.data),p=u.baseLayers,f=u.dynamicLayers,a("saveDynamicLayerList",f),a("saveBaseLayerList",p),a("saveFavoriteDyanmicLayerIds",o),a("saveFavoriteBaseLayerIds",s),a("saveDefaultDynamicLayerIds",c),a("saveDefaultBaseLayerIds",l),m=f.map((function(t){return 0})),a("SAVE_LAYER_COLOR_ORDER_LIST",m),t.next=29,Dt["a"].getAll();case 29:h=t.sent,g=d["a"].mapBunchs(h.data),a("saveBunchLayerList",g);case 32:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Pt=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.dispatch,t.next=3,It["a"].getUnradNotificationCount();case 3:n=t.sent,a("saveNotificationCount",n.data);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e["a"]=new r["a"].Store({state:{},getters:{},mutations:{deleteToken:function(t){t.token=null}},actions:{init:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.dispatch,t.next=3,jt({dispatch:a});case 3:return t.next=5,Pt({dispatch:a});case 5:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),setNotificationCounts:Pt,getLayers:jt},modules:Lt})},"0955":function(t,e,a){},"0962":function(t,e,a){"use strict";a.d(e,"g",(function(){return i})),a.d(e,"f",(function(){return o})),a.d(e,"b",(function(){return c})),a.d(e,"c",(function(){return u})),a.d(e,"d",(function(){return p})),a.d(e,"a",(function(){return m})),a.d(e,"e",(function(){return g}));var n={LOCAL_MVT:1,XYZ:2,TILE_ARCGIS_REST:3,IMAGE_ARCGIS_REST:4,WMS:5},i=n,r={CATEGORY:"category",LAYER:"layer",SUBLAYER:"subLayer",BUNCH:"bunch",DYNAMIC_LAYER:"dynamic",BASE_LAYER:"base"},o=r,s={NONE:"None",SQUARE:"Square",BOX:"Box",CIRCLE:"Circle",LINESTRING:"LineString",POLYGON:"Polygon",POINT:"Point",TEXT:"Text"},c=s,l={PROFILE:"profile",TOOL:"tool",DYNAMIC_LAYER:"dynamicLayer",BUNC_LAYER:"bunchLayer",BASE_LAYER:"baseLayer",BASE_MAP_TYPE:"baseMapType"},u=l,d={ZOOM:1,SCALE:2},p=d,f={METRIC:"Metric",GEOGRAPHIC:"Geographic"},m=f,h={LOCAL:"Local",GEOWEBCACHE:"Geowebcache",GEOSERVER:"Geoserver",GEOSERVER_GWC:"GeoserverGwc",ARCGIS:"ARCGIS"},g=h},"09bc":function(t,e,a){"use strict";var n=a("b775"),i=a("78a3");e["a"]={getAll:function(){return n["a"].get(i["f"].GET_ALL)},set:function(t){return n["a"].post(i["f"].SET,t)}}},"0d96":function(t,e){},"10e6":function(t,e,a){t.exports=a.p+"img/place.17b1465c.svg"},1460:function(t,e,a){t.exports=a.p+"img/send.b163c8ae.svg"},"146a":function(t,e,a){"use strict";var n=a("6cd7"),i=a.n(n);i.a},1616:function(t,e,a){t.exports=a.p+"img/color_picker.f11e40bf.svg"},"16ab":function(t,e,a){t.exports=a.p+"img/rectangle.dfb475bd.svg"},"16d2":function(t,e,a){},"16d6":function(t,e,a){},"16f4":function(t,e,a){"use strict";var n=a("470d"),i=a.n(n);i.a},1959:function(t,e,a){t.exports=a.p+"img/mouse.0a006fb9.svg"},2303:function(t,e,a){},"25d2":function(t,e,a){"use strict";var n=a("2ef2"),i=a.n(n);i.a},"277f":function(t,e,a){"use strict";var n=a("b775"),i=a("78a3");e["a"]={getAll:function(t){return n["a"].get(i["l"].GET_ALL,{params:t})},setReaded:function(t){return n["a"].post(i["l"].SET_READED+"/"+t)},getUnradNotificationCount:function(){return n["a"].get(i["l"].GET_UNREAD_NOTIFICATION_COUNT)}}},"293c4":function(t,e,a){t.exports=a.p+"img/ac_logo.d0e36a51.svg"},"2af9":function(t,e,a){"use strict";a.d(e,"r",(function(){return b})),a.d(e,"e",(function(){return bt})),a.d(e,"s",(function(){return Kt})),a.d(e,"p",(function(){return ne})),a.d(e,"j",(function(){return de})),a.d(e,"k",(function(){return be})),a.d(e,"h",(function(){return Ee})),a.d(e,"l",(function(){return Ae})),a.d(e,"i",(function(){return Re})),a.d(e,"t",(function(){return Ye})),a.d(e,"g",(function(){return mn})),a.d(e,"q",(function(){return Tn})),a.d(e,"f",(function(){return Dn})),a.d(e,"n",(function(){return Nn})),a.d(e,"b",(function(){return Qn})),a.d(e,"c",(function(){return Jn})),a.d(e,"m",(function(){return ui})),a.d(e,"d",(function(){return vi})),a.d(e,"a",(function(){return Si})),a.d(e,"o",(function(){return Ir}));var n,i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"colorPickers  colorPickers--dark"},[a("ul",{staticClass:"nav"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:t.isBorder},attrs:{href:"#"},on:{click:function(e){return t.borderClick(!0)}}},[t._v(t._s(t.$t("colorPicker.borderColor")))])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:!t.isBorder},attrs:{href:"#"},on:{click:function(e){return t.borderClick(!1)}}},[t._v(t._s(t.$t("colorPicker.fillColor")))])])]),t.isBorder?a("ColorScheme",{staticStyle:{display:"inline-block"},attrs:{value:{hex:t.borderColor}},on:{input:function(e){t.border=e}}}):a("ColorScheme",{staticStyle:{display:"inline-block"},attrs:{value:{hex:t.fillColor}},model:{value:t.fill,callback:function(e){t.fill=e},expression:"fill"}}),a("div",{staticClass:"colorPickerButton"},[a("button",{staticClass:"btn btn-sm btn--cancel",attrs:{type:"button"},on:{click:t.onClose}},[t._v("\n      "+t._s(t.$t("button.close"))+"\n    ")]),a("button",{staticClass:"btn btn-sm btn--save",attrs:{type:"button"},on:{click:t.onSave}},[t._v("\n      "+t._s(t.$t("button.save"))+"\n    ")])])],1)},r=[],o=(a("6c7b"),a("c345")),s={name:"color",props:{borderColor:{type:String,default:"#2196F3FF"},fillColor:{type:String,default:"#000000FF"}},components:{ColorScheme:o["Chrome"]},data:function(){return{isBorder:!0,fill:{},border:{}}},methods:{borderClick:function(t){this.isBorder=t},onSave:function(){var t="";t=this.border.hex8;var e=t;e||(e=this.borderColor),t=this.fill.hex8;var a=t;a||(a=this.fillColor);var n={borderColor:e,fillColor:a};this.$emit("onSave",n)},onClose:function(){this.$emit("onClose")}}},c=s,l=a("2877"),u=Object(l["a"])(c,i,r,!1,null,null,null),d=u.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"colorPickers colorPickers--light"},[a("ul",{staticClass:"nav"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:!t.isBorder},attrs:{href:"#"},on:{click:function(e){return t.borderClick(!1)}}},[t._v("Fill Color")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:t.isBorder},attrs:{href:"#"},on:{click:function(e){return t.borderClick(!0)}}},[t._v("Border Color")])])]),a("div",{staticClass:"colorPicker"},[t.isBorder?a("ColorScheme",{model:{value:t.borderColor,callback:function(e){t.borderColor=e},expression:"borderColor"}}):a("ColorScheme",{model:{value:t.fillColor,callback:function(e){t.fillColor=e},expression:"fillColor"}})],1),a("div",{staticClass:"colorPickerButton"},[a("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:t.save}},[t._v("\n            Save\n        ")])])])},f=[],m={name:"color",props:{},components:{ColorScheme:o["Chrome"]},mounted:function(){},data:function(){return{isBorder:!1,borderColor:{hex8:"#000000",rgba:{r:255,g:255,b:255,a:1}},fillColor:{hex8:"#00000000",rgba:{r:255,g:255,b:255,a:1}}}},methods:{borderClick:function(t){this.isBorder=t},save:function(){this.$store.dispatch("SAVE_COLORPICKER_SHAPEFILLCOLOR",this.fillColor),this.$store.dispatch("SAVE_COLORPICKER_SHAPEBORDERCOLOR",this.borderColor),this.$emit("setShapeColor")}},computed:{}},h=m,g=Object(l["a"])(h,p,f,!1,null,null,null),b=g.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.isVisible,expression:"isVisible"}],staticClass:"table-wrapper"},[a("Resizable",{ref:"resizable",staticClass:"resizable",attrs:{active:t.resize.handlers,"fit-parent":t.resize.fit,"max-width":t._f("checkEmpty")(t.resize.maxW),"max-height":t._f("checkEmpty")(t.resize.maxH),"min-width":t._f("checkEmpty")(t.resize.minW),"min-height":t._f("checkEmpty")(t.resize.minH),width:t.resize.width,height:t.resize.height,left:t.resize.left,top:t.resize.top},on:{mount:t.resizeHandler,"resize:move":t.resizeHandler,"resize:start":t.resizeHandler,"resize:end":t.resizeHandler,"drag:move":t.resizeHandler,"drag:start":t.resizeHandler,"drag:end":t.resizeHandler}},[a("div",{staticClass:"tableDiv howMuchWidthHaveMap"},[a("div",{staticClass:"tableHeader"},[a("div",{staticClass:"table__tabs"},[a("div",{staticClass:"table__tab table__tab--active"},[t._v(t._s(t.tableName))])]),a("div",{staticClass:"table__operations"},[t.isActiveServiceLocal&&t.checkPermission(["data_add"])?a("i",{staticClass:"fas fa-plus tableFilter makeMePoint icon",attrs:{title:t.$t("datatable.addData")},on:{click:t.addData}}):t._e(),t.tableHeaders?a("download-excel",{attrs:{fetch:t.fetchFullData,type:"xls",name:"test_report.xls"}},[a("i",{staticClass:"fas fa-file-excel icon excelDataIcon excelIcon makeMePoint",attrs:{title:t.$t("datatable.exportExcel")}})]):t._e(),a("i",{staticClass:"fas fa-filter tableFilter makeMePoint icon",attrs:{title:t.$t("datatable.filter")},on:{click:t.showFilterModal}}),a("i",{staticClass:"fas fa-columns tableColumns makeMePoint icon",attrs:{title:t.$t("datatable.showHideTableColumns")},on:{click:t.togglePopup}}),a("i",{staticClass:"fas fa-times tableClose makeMePoint icon",attrs:{title:t.$t("button.close")},on:{click:t.toggleIsVisible}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isColumnPopupShowing,expression:"isColumnPopupShowing"}],staticClass:"tableShowColumns custom-scrollbar",attrs:{id:"table-columns"}},[a("div",{staticClass:"columnsDiv"},t._l(t.tableHeaders,(function(e,n){return a("div",{key:n,staticClass:"table__column"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedColumns,expression:"checkedColumns"}],staticClass:"column__checkbox",attrs:{type:"checkbox",id:e,checked:"checked"},domProps:{value:n,checked:Array.isArray(t.checkedColumns)?t._i(t.checkedColumns,n)>-1:t.checkedColumns},on:{click:function(a){return t.selectColumns(e,n,a)},change:function(e){var a=t.checkedColumns,i=e.target,r=!!i.checked;if(Array.isArray(a)){var o=n,s=t._i(a,o);i.checked?s<0&&(t.checkedColumns=a.concat([o])):s>-1&&(t.checkedColumns=a.slice(0,s).concat(a.slice(s+1)))}else t.checkedColumns=r}}}),a("label",{staticClass:"column__name"},[t._v(t._s(e))])])})),0)])],1)]),a("div",{ref:"dataTableContent",staticClass:"tableContent custom-scrollbar",attrs:{id:"dataTable"}},[t.loading?a("Loader"):a("table",{staticClass:"selfTable table"},[a("thead",[a("tr",[t._l(t.tableHeaders,(function(e,n){return a("th",{directives:[{name:"show",rawName:"v-show",value:t.checkedColumns.includes(n),expression:"checkedColumns.includes(index)"}],key:n},[t._v("\n                "+t._s(e)+"\n              ")])})),t.isActiveServiceLocal?a("th",{staticClass:"table__column--sticky",style:{width:t.checkPermission(["data_edit"])?"80px":"40px"}},[t._v("\n                #\n              ")]):t._e()],2)]),a("tbody",{staticClass:"tableBody custom-scrollbar"},t._l(t.tableData.features,(function(e,n){return a("tr",{key:n},[t._l(e.attributes,(function(n,i){return a("td",{directives:[{name:"show",rawName:"v-show",value:t.checkedColumns.includes(Object.keys(e.attributes).indexOf(i)),expression:"\n                  checkedColumns.includes(\n                    Object.keys(data.attributes).indexOf(key)\n                  )\n                "}],key:i,staticClass:"makeMePoint",on:{click:function(a){return t.focusToGeometry(e)}}},[t._v("\n                "+t._s(n)+"\n              ")])})),t.isActiveServiceLocal?a("td",{staticClass:"table__column--sticky",style:{width:t.checkPermission(["data_edit"])?"80px":"40px"}},[t.checkPermission(["data_edit"])?a("i",{staticClass:"far fa-edit \n                makeMePoint mr-2",attrs:{title:t.$t("datatable.editData")},on:{click:function(a){return t.editData(e.attributes["gid"])}}}):t._e(),a("i",{staticClass:"fas fa-file-upload \n                makeMePoint ",attrs:{title:t.$t("datatable.fileUpload")},on:{click:function(a){return t.uploadImage(e.attributes["gid"])}}})]):t._e()],2)})),0)])],1)])]),t.activeService&&t.selectedGid&&t.isActiveServiceLocal?a("ImageUploadModal",{attrs:{gid:t.selectedGid,layerId:t.activeService.id}}):t._e(),t.activeService&&t.isActiveServiceLocal?a("DataAddEditModal",{attrs:{gid:t.selectedGid,layerId:t.activeService.id}}):t._e()],1)},y=[],C=(a("8e6e"),a("ac6a"),a("456d"),a("20d6"),a("75fc")),_=(a("96cf"),a("3b8d")),O=a("bd86"),E=a("8e5f"),S=a.n(E),w=a("7540"),T=a("4b7c"),L=a.n(T),k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CustomModal",{attrs:{name:"imageUploadModal",title:t.$t("form.fileForm.modalTitle"),width:"50%",minHeight:400},on:{beforeShow:t.onModalOpen,afterHide:t.onModalClose}},[a("div",{staticClass:"row "},[a("div",{staticClass:"table-wrapper-scroll-y upload-content-scroll"},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("form.fileForm.image")))]),a("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("form.fileForm.filename")))]),a("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("form.fileForm.extension")))]),a("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("form.fileForm.size")))]),a("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("form.fileForm.dateCreated")))]),t.checkPermission(["data_add"])?a("th",{attrs:{scope:"col"}}):t._e()])]),a("tbody",t._l(t.files,(function(e,n){return a("tr",{key:n},[t.isImage(e.extension)?a("td",{staticClass:"text-center"},[a("img",{directives:[{name:"viewer",rawName:"v-viewer",value:t.vieverOptions,expression:"vieverOptions"}],attrs:{src:e.base64,alt:"",border:"3",height:"50",width:"50"}})]):a("td",{staticClass:"text-center"},[a("i",{staticClass:"far fa-file-alt h1"})]),a("td",[a("button",{staticClass:"btn btn-primary btn-xs",on:{click:function(a){return t.download(e)}}},[a("i",{staticClass:"fas fa-download"})]),t._v("\n              "+t._s(e.filename)+"\n              "),a("span")]),a("td",[t._v(t._s(e.extension))]),a("td",[t._v(t._s(t.readableFileSizeConverter(e.size,!0)))]),a("td",[t._v(t._s(e.dateCreated))]),a("td",[t.checkPermission(["data_edit"])?a("button",{staticClass:"btn btn-danger btn-sm",attrs:{title:t.$t("button.delete")},on:{click:function(a){return t.deleteImage(e.id)}}},[a("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}})]):t._e()])])})),0)])])]),t.checkPermission(["data_add"])?a("div",[a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-md-12"},[a("vue-dropzone",{ref:"dropzone",attrs:{id:"dropzone",options:t.dropzoneOptions},on:{"vdropzone-sending":t.sendingEvent,"vdropzone-success":t.onSuccess}})],1)]),a("div",{staticClass:"col-md-12"},[a("button",{staticClass:"btn btn-danger btn-sm float-right mt-3",attrs:{title:t.$t("button.clear")},on:{click:t.clearDropzone}},[t._v("\n        "+t._s(t.$t("button.clear"))+"\n      ")])])]):t._e()])},I=[],A=(a("6762"),a("2fdb"),a("5df3"),a("c5f6"),a("92c3")),x=a.n(A),D=a("aeb1"),j=a.n(D),P=(a("6944"),a("78a3")),M=a("dde5"),R=a("7055"),B=a("b775"),F=(n={get:function(t){var e={id:t};return B["a"].get(P["i"].GET_TABLE_INFO,{params:e})},getAll:function(){return B["a"].get(P["i"].GET_ALL)}},Object(O["a"])(n,"getAll",(function(t){var e={layerId:t};return B["a"].get(P["i"].GET_ALL,{params:e})})),Object(O["a"])(n,"getFile",(function(t){return B["a"].get(P["i"].GET_BASE64_FILE+"/"+t)})),Object(O["a"])(n,"getAll",(function(t,e){var a={layerId:t,gid:e};return B["a"].get(P["i"].GET_ALL,{params:a})})),Object(O["a"])(n,"add",(function(t){return B["a"].post(P["i"].ADD,{params:t})})),Object(O["a"])(n,"delete",(function(t){return B["a"].post(P["i"].DELETE+"/"+t)})),n),N=a("07a4"),$=a("ce96");function G(t){if(t&&t instanceof Array&&t.length>0){var e=N["a"].getters&&N["a"].getters.roles,a=$["g"].getRolePermissions(e),n=N["a"].getters&&N["a"].getters.directivePermissions,i=t,r=a.some((function(t){return i.includes(t)})),o=n.some((function(t){return i.includes(t)})),s=r||o;return!!s}return console.error("need roles! Like v-permission=\"['admin','editor']\""),!1}var V=a("ed08"),U={components:{vueDropzone:x.a},props:{layerId:{type:Number,required:!0},gid:{type:Number,required:!0}},data:function(){var t;return t={files:[],vieverOptions:{movable:!1}},Object(O["a"])(t,"vieverOptions",{movable:!1,zoomable:!0,rotatable:!1,toolbar:!1,scalable:!1,button:!1,navbar:!1,title:!1,tooltip:!0,transition:!0,fullscreen:!1,keyboard:!0}),Object(O["a"])(t,"imageExtensions",[".jpg",".jpeg",".gif",".png",".bmp"]),Object(O["a"])(t,"dropzoneOptions",{url:P["i"].ADD,thumbnailWidth:150,maxFilesize:2,dictDefaultMessage:"<i class='fa fa-cloud-upload'></i>UPLOAD ME",headers:{Authorization:"Bearer ".concat(M["c"].getToken())},acceptedFiles:".jpeg,.jpg,.png,.gif,.tif,.tiff,.bmp"}),t},methods:{readableFileSizeConverter:V["e"],checkPermission:G,onSuccess:function(t,e){this.getImages()},resetData:function(){this.files=[]},download:function(t){j()(t.base64,t.filename,this.getMimFromExtension(t.extension))},getMimFromExtension:function(t){switch(t.toLowerCase()){case".jpeg":return"image/jpeg";case".jpg":return"image/jpeg";case".png":return"image/png";case".gif":return"image/gif";case".tif":return"image/tiff";case".tiff":return"image/tiff";case".bmp":return"image/bmp";case".txt":return"text/plain"}},getImages:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e,a,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,F.getAll(this.layerId,this.gid);case 2:return e=t.sent,a=e.data,t.next=6,Promise.all(a.map(function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.getBase64File(e.id);case 2:a=t.sent,e.base64="data:".concat(n.getMimFromExtension(e.extension),";base64,")+a;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 6:this.files=a;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getBase64File:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,F.getFile(e);case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),isImage:function(t){return this.imageExtensions.includes(t.toLowerCase())},deleteImage:function(t){var e=this;F.delete(t).then((function(t){e.getImages()}))},onModalOpen:function(){this.resetData(),this.getImages()},onModalClose:function(){this.resetData(),this.clearDropzone()},clearDropzone:function(){this.$refs.dropzone.removeAllFiles()},sendingEvent:function(t,e,a){a.append("layerId",this.layerId),a.append("gid",this.gid),a.append("file",t)}}},H=U,z=(a("ccfe"),Object(l["a"])(H,k,I,!1,null,"62a3a5a9",null)),q=z.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("CustomModal",{attrs:{name:"dataAddEditModal",title:t.$t("form.dataForm.modalTitle"),width:"50%",minHeight:400},on:{beforeShow:t.onModalOpen,afterHide:t.onModalClose}},[a("form",[a("div",{staticClass:"row form-group"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("label",[t._v("\n                "+t._s(t.$t("form.dataForm.isGeometryExist"))+" :\n                "),t.isGeometryExist?a("span",{staticClass:"badge badge-success"},[t._v("\n                  "+t._s(t.$t("general.true"))+"\n                ")]):a("span",{staticClass:"badge badge-danger"},[t._v("\n                  "+t._s(t.$t("general.false"))+"\n                ")])])])])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"btn-group btn-group-toggle btn-group-sm float-right",attrs:{role:"group","aria-label":"Basic example"}},[t.pointGeometryVisibility?a("label",{staticClass:"btn  btn-info ",class:{active:t.isGeometryExist&&t.geometryBtnSelect==t.drawTypeEnum.POINT}},[a("input",{attrs:{type:"radio",name:"options"},domProps:{value:t.drawTypeEnum.POINT},on:{click:t.drawTypeOnChange}}),a("img",{attrs:{src:t.icons.point}})]):t._e(),t.lineGeometryVisibility?a("label",{staticClass:"btn  btn-info ",class:{active:t.isGeometryExist&&t.geometryBtnSelect==t.drawTypeEnum.LINESTRING}},[a("input",{attrs:{type:"radio",name:"options"},domProps:{value:t.drawTypeEnum.LINESTRING},on:{click:t.drawTypeOnChange}}),a("img",{attrs:{src:t.icons.line}})]):t._e(),t.polygonGeometryVisibility?a("label",{staticClass:"btn  btn-info ",class:{active:t.isGeometryExist&&t.geometryBtnSelect==t.drawTypeEnum.SQUARE}},[a("input",{attrs:{type:"radio",name:"options"},domProps:{value:t.drawTypeEnum.SQUARE},on:{click:t.drawTypeOnChange}}),a("img",{attrs:{src:t.icons.square}})]):t._e(),t.polygonGeometryVisibility?a("label",{staticClass:"btn  btn-info ",class:{active:t.isGeometryExist&&t.geometryBtnSelect==t.drawTypeEnum.BOX}},[a("input",{attrs:{type:"radio",name:"options"},domProps:{value:t.drawTypeEnum.BOX},on:{click:t.drawTypeOnChange}}),a("img",{attrs:{src:t.icons.rectangle}})]):t._e(),t.polygonGeometryVisibility?a("label",{staticClass:"btn  btn-info ",class:{active:t.isGeometryExist&&t.geometryBtnSelect==t.drawTypeEnum.POLYGON}},[a("input",{attrs:{type:"radio",name:"options"},domProps:{value:t.drawTypeEnum.POLYGON},on:{click:t.drawTypeOnChange}}),a("img",{attrs:{src:t.icons.polygon}})]):t._e(),t.polygonGeometryVisibility?a("label",{staticClass:"btn  btn-info ",class:{active:t.isGeometryExist&&t.geometryBtnSelect==t.drawTypeEnum.CIRCLE}},[a("input",{attrs:{type:"radio",name:"options"},domProps:{value:t.drawTypeEnum.CIRCLE},on:{click:t.drawTypeOnChange}}),a("img",{attrs:{src:t.icons.circle}})]):t._e()])]),a("div",{staticClass:"col-md-12 mt-1"},[a("button",{staticClass:"btn btn-primary float-right",attrs:{type:"button"},on:{click:t.showGeometryModal}},[t._v("\n                Geometry\n              ")])])])])]),a("div",{staticClass:"row"},t._l(t.columns,(function(e,n){return a("div",{key:n,staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:e.columnName}},[t._v(" "+t._s(e.columnName))]),a("DynamicFormInput",{staticClass:"form-control",attrs:{type:e.valueType,name:e.columnName,value:t.isEdit?e.value:null},on:{onChange:t.onInputChange}})],1)])})),0),a("div",{staticClass:"row "},[a("div",{staticClass:"col-md-12 form-group"},[a("button",{staticClass:"btn btn-primary float-right",attrs:{type:"button"},on:{click:t.onSubmit}},[t._v("\n            "+t._s(t.$t("button.apply"))+"\n          ")])])])])]),a("CustomModal",{attrs:{name:"geometryModal",title:"Geometry Modal",width:"70%",minHeight:400},on:{afterHide:t.onGeometryModalClose}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v("\n          Geometry Type :\n\n          "),a("span",{staticClass:"badge badge-info"},[t._v("\n            "+t._s(t.geometryType)+"\n          ")])])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"label"}}),a("button",{directives:[{name:"show",rawName:"v-show",value:t.geometry&&t.geometry.length>0,expression:"geometry && geometry.length > 0"}],staticClass:"btn btn-danger float-right",attrs:{type:"button"},on:{click:t.resetCoordinates}},[t._v("\n            "+t._s(t.$t("form.dataForm.resetCoordinate"))+"\n          ")])])]),t.isGeometryExist?a("div",{staticClass:"col-md-12"},["point"==t.geometryType?a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-5"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"label"}},[t._v("X")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.geometry[0],expression:"geometry[0]",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",step:".00000000001",id:"label"},domProps:{value:t.geometry[0]},on:{input:function(e){e.target.composing||t.$set(t.geometry,0,t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),a("div",{staticClass:"col-md-5"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"label"}},[t._v("Y")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.geometry[1],expression:"geometry[1]",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",step:".00000000001",id:"label"},domProps:{value:t.geometry[1]},on:{input:function(e){e.target.composing||t.$set(t.geometry,1,t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"label"}}),a("button",{staticClass:"btn btn-danger d-block mt-2",attrs:{type:"button"},on:{click:t.deleteCoordinate}},[a("i",{staticClass:"fas fa-trash-alt",attrs:{title:"Edit Data"}})])])])]):t._l(t.geometry,(function(e,n){return a("div",{key:n,staticClass:"row"},[a("div",{staticClass:"col-md-5"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"label"}},[t._v("X")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e[0],expression:"item[0]",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",step:".00000000001",id:"label"},domProps:{value:e[0]},on:{input:function(a){a.target.composing||t.$set(e,0,t._n(a.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),a("div",{staticClass:"col-md-5"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"label"}},[t._v("Y")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e[1],expression:"item[1]",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",step:".00000000001",id:"label"},domProps:{value:e[1]},on:{input:function(a){a.target.composing||t.$set(e,1,t._n(a.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"label"}}),a("button",{staticClass:"btn btn-danger d-block mt-2",attrs:{type:"button"},on:{click:function(e){return t.deleteCoordinate(n)}}},[a("i",{staticClass:"fas fa-trash-alt",attrs:{title:"Edit Data"}})])])])])}))],2):t._e()]),a("div",{staticClass:"row "},[a("div",{staticClass:"col-md-12 form-group"},[a("button",{staticClass:"btn btn-primary float-right",attrs:{type:"button",disabled:!t.canAddCoordinate},on:{click:t.addCoordinate}},[t._v("\n          "+t._s(t.$t("form.dataForm.addCoordinate"))+"\n        ")])])])])],1)},Y=[],Z=(a("6b54"),a("7514"),a("aa3f")),W=a("0962"),K={getTableInfo:function(t){return B["a"].get(P["d"].GET_TABLE_INFO+"/"+t)},getData:function(t,e){var a={gid:e};return B["a"].get(P["d"].GET_ITEM+"/"+t+"/",{params:a})},addOrEditData:function(t){return B["a"].post(P["d"].ADD_OR_EDIT,t)}};a("7f7f");function X(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function J(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?X(Object(a),!0).forEach((function(e){Object(O["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):X(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var tt,et,at={name:"DynamicFormInput",props:{name:{type:String},type:{type:String},value:{type:String}},render:function(t){var e=this,a=1,n="text";switch(this.type){case"int":n="number";break;case"string":n="string";break;case"double":n="number",a=".01";break}var i={domProps:{value:this.value,name:this.name},attrs:J({type:n},"double"===this.type&&{step:a}),on:{change:function(t){var a=t.target,n=a.value,i=a.name;e.$emit("onChange",i,n)}}};"double"===n&&i.attrs["step"];var r=t("input",i);return r}},nt=at,it=Object(l["a"])(nt,tt,et,!1,null,null,null),rt=it.exports,ot={components:{DynamicFormInput:rt},props:{layerId:{type:Number,required:!0},gid:{type:Number,required:!1}},data:function(){return{isModalHidingForGeometrySelection:!1,columns:[],geometryType:"",geometry:null,geometryBtnSelect:"",columnData:[],drawTypeEnum:W["b"],icons:Z["b"]}},mounted:function(){},computed:{canAddCoordinate:function(){var t=this.geometryType&&("point"!==this.geometryType||"point"===this.geometryType&&null==this.geometry||0==this.geometry.length);return t},isGeometryExist:function(){var t=this.geometry&&this.geometry.length>0;return t},bbox:function(){return R["k"].getBbox()},isEdit:function(){return this.gid&&0!==this.gid},activeTableService:function(){return R["j"].getTableActiveService()},pointGeometryVisibility:function(){return this.geometryType&&"point"===this.geometryType},lineGeometryVisibility:function(){return this.geometryType&&("linestring"===this.geometryType||"multilinestring"===this.geometryType)},polygonGeometryVisibility:function(){return this.geometryType&&("polygon"===this.geometryType||"multipolygon"===this.geometryType)}},methods:{resetData:function(){this.isModalHidingForGeometrySelection=!1,this.columns=[],this.geometryType="",this.geometry=null,this.columnData=[]},resetCoordinates:function(){this.geometry=null},deleteCoordinate:function(t){this.geometryBtnSelect=W["b"].NONE,"point"===this.geometryType?this.geometry=null:this.geometry.splice(t,1)},addCoordinate:function(){this.geometryBtnSelect=W["b"].NONE;var t=this.geometryType;if("point"===t)this.geometry||(this.geometry=[]),0==this.geometry.length&&(this.geometry=[1,1]);else{this.geometry||(this.geometry=[]);this.geometry.length;this.geometry.push([1,1])}},drawTypeOnChange:function(t){var e=this,a=t.target.value,n=R["d"].getDynamicLayer(this.layerId),i={id:n.id,type:n.type};if(R["k"].deleteServiceFeatures(this.layerId),this.geometryBtnSelect===a)this.geometryBtnSelect=W["b"].NONE,this.geometry;else{var r={forService:i};this.isModalHidingForGeometrySelection=!0,R["g"].hideDataAddEditModal(),R["j"].setTableUnvisible(),R["k"].pickDrawType(a,(function(){R["g"].showDataAddEditModal(),e.geometryBtnSelect=a,e.geometry=e.bbox,R["k"].pickDrawType(e.drawTypeEnum.NONE),R["j"].setTableVisible()}),r)}},showGeometryModal:function(){R["g"].showGeometryModal(),this.isModalHidingForGeometrySelection=!0,R["g"].hideDataAddEditModal()},onGeometryModalClose:function(){R["g"].showDataAddEditModal()},onSubmit:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e={columns:this.columnData,layerId:this.layerId,geometryType:this.geometryType,geometry:this.geometry?JSON.stringify(this.geometry):null},a=this.isEdit,a&&(e.gid=this.gid),K.addOrEditData(e).then((function(t){R["g"].hideDataAddEditModal()}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onModalOpen:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e,a,n,i,r,o,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=null,a=this.isEdit,!a){t.next=7;break}return t.next=5,K.getData(this.layerId,this.gid);case 5:n=t.sent,e=n.data;case 7:if(this.isModalHidingForGeometrySelection){t.next=15;break}return t.next=10,K.getTableInfo(this.layerId);case 10:i=t.sent,r=i.data,o=r.columns,s=r.geometryType,a&&(o.forEach((function(t){var a=e.find((function(e){return e.columnName==t.columnName})),n=a.value;t.valueType;n&&(n=n.toString()),t["value"]=n})),e.geometries&&(c=JSON.parse(e.geometries),this.geometry="point"===s?c[0]:c,this.geometryBtnSelect=s)),this.columns=o,this.geometryType=s;case 15:this.isModalHidingForGeometrySelection=!1;case 16:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onModalClose:function(){this.isModalHidingForGeometrySelection||(this.resetData(),R["k"].deleteServiceFeatures(this.layerId))},onInputChange:function(t,e){var a=this.columnData.some((function(e){return e.columnName&&e.columnName===t}));a?this.columnData.find((function(e){return e.columnName===t})).value=e:this.columnData.push({columnName:t,value:e})}}},st=ot,ct=Object(l["a"])(st,Q,Y,!1,null,null,null),lt=ct.exports,ut=a("f2ef");function dt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function pt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?dt(Object(a),!0).forEach((function(e){Object(O["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):dt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var ft,mt={name:"DataTable",components:{Multiselect:S.a,Resizable:L.a,ImageUploadModal:q,DataAddEditModal:lt},data:function(){return{currentTabId:null,isColumnPopupShowing:!1,selectedGid:0,resize:{handlers:["t"],left:0,top:window.innerHeight-200,height:window.innerHeight,width:window.innerWidth,maxW:1e4,maxH:window.innerHeight,minW:150,minH:200,fit:!0,event:""}}},mounted:function(){this.scrollHandler()},created:function(){window.addEventListener("resize",this.update)},destroyed:function(){window.removeEventListener("resize",this.update)},watch:{isVisible:{handler:function(){this.resetScroll(),this.resetPaging()},deep:!0,immediate:!1}},methods:{checkPermission:G,resetScroll:function(){this.$refs.dataTableContent&&this.$refs.dataTableContent.scrollTo(0,0)},isEndOfData:function(){return this.paging.page*this.paging.limit>this.totalCount},scrollHandler:function(){var t=this,e=document.getElementById("dataTable");e.addEventListener("scroll",(function(a){if(e.scrollTop+e.clientHeight>=e.scrollHeight&&!t.paging.isBusy&&!t.isEndOfData()&&($["h"].isLocalService(t.activeService)||$["h"].isBunch(t.activeService))){var n=t.paging.page;n=t.paging.page;n+=1,t.isPagingBusy(!0),R["j"].setTableLoading(!0),t.paging=pt({},t.paging,{page:n++}),t.getDatas(),t.isPagingBusy(!1),R["j"].setTableLoading(!1)}}))},isPagingBusy:function(t){this.paging=pt({},this.paging,{isBusy:t})},getDatas:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e,a,n,i,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.activeService,a=$["h"].isBunch(e),n={},i=this.paging,r=null,!a){t.next=12;break}return n=e.layers.map((function(t,e){return{layerId:t.id,query:pt({},t.query)}})),t.next=9,w["a"].getIntersectLocalTableData(e.id,{layerQueries:n,paging:i});case 9:r=t.sent,t.next=16;break;case 12:return n=pt({layerId:e.id},e.query,{paging:i}),t.next=15,w["a"].getLocalTableData(n);case 15:r=t.sent;case 16:o=r.data.features,this.tableData.features=[].concat(Object(C["a"])(this.tableData.features),Object(C["a"])(o));case 18:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),resetPaging:function(){this.paging={isBusy:!1,page:1,limit:25}},toggleIsVisible:function(){R["k"].deleteServiceFeatures(this.activeService.id),R["j"].setTableUnvisible()},togglePopup:function(t){this.isColumnPopupShowing=!this.isColumnPopupShowing},showFilterModal:function(){R["g"].showFilterModal()},addData:function(){var t=this;new Promise((function(e,a){t.selectedGid=0,e()})).then((function(t){R["g"].showDataAddEditModal()}))},editData:function(t){var e=this;new Promise((function(a,n){e.selectedGid=t,a()})).then((function(t){R["g"].showDataAddEditModal()}))},uploadImage:function(t){var e=this;new Promise((function(a,n){e.selectedGid=t,a()})).then((function(t){R["g"].showImageUploadModal()}))},focusToGeometry:function(t){R["e"].focusToGeometry(t.geometry)},fetchFullData:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e,a,n,i,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.activeService,a=$["h"].isBunch(e),n=null,i=null,r={page:1,limit:this.totalCount},!a){t.next=12;break}return n=e.layers.map((function(t,e){return{layerId:t.id,query:pt({},t.query)}})),t.next=9,w["a"].getIntersectLocalTableData(e.id,{layerQueries:n,paging:r});case 9:i=t.sent,t.next=16;break;case 12:return n=pt({layerId:e.id},e.query,{paging:r,isGeometryDataExist:!1}),t.next=15,w["a"].getLocalTableData(n);case 15:i=t.sent;case 16:return o=i.data.features.map((function(t,e){return t.attributes})),t.abrupt("return",o);case 18:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),featuresToExcel:function(){for(var t=[],e=0;e<this.tableData.length;e++)t[e]=this.tableData[e].attributes;return t},selectColumns:function(t,e,a){var n=a.target.checked;if(n)this.checkedColumns.push(e);else{var i=this.checkedColumns.findIndex((function(t){return t===e}));this.checkedColumns.splice(i,1)}},resizeHandler:function(t){this.resize.width=t.width,this.resize.height=t.height,this.resize.left=t.left,this.resize.top=t.top,this.resize.event=t.eventName,"mount"===t.eventName&&(this.resize.height=200)},update:function(){this.resize.top=window.innerHeight-200,this.resize.height=200,this.resize.width=window.innerWidth,this.resize.maxH=window.innerHeight,this.$forceUpdate()}},computed:{isActiveServiceLocal:function(){return $["h"].isLocalService(this.activeService)},isVisible:function(){return R["j"].getTableVisibility()},loading:function(){return R["j"].getTableLoadingStatus()},totalCount:function(){return this.tableData.totalCount},paging:{get:function(){return R["j"].getTablePaging()},set:function(t){R["j"].setTablePaging(t)}},tableName:function(){return this.tableData.tableName},tableHeaders:function(){return this.tableData.tableHeaders},tableStackedHeaders:{get:function(){return this.tableData.tableStackedHeaders},set:function(t){this.$store.dispatch("SAVE_DATATABLE_CHECKED_COLUMNS",t)}},tableHeadersWithAlias:function(){return this.tableData.tableHeadersWithAlias},checkedColumnsData:{get:function(){return this.tableData.checkedColumnsData},set:function(t){this.$store.dispatch("SAVE_DATATABLE_CHECKED_COLUMNS_DATA",t)}},checkedColumns:{get:function(){return this.tableData.checkedColumns},set:function(t){this.$store.dispatch("SAVE_DATATABLE_CHECKED_COLUMNS",t)}},tableData:{get:function(){var t=R["j"].getTableData();return t},set:function(t){R["j"].setTableData(t)}},editDataGid:{get:function(){var t=R["j"].getEditDataGid();return t},set:function(t){R["j"].setEditDataGid(t)}},activeService:function(){return R["j"].getTableActiveService()}},filters:{checkEmpty:function(t){return"number"!==typeof t?0:t}}},ht=mt,gt=(a("bf17"),Object(l["a"])(ht,v,y,!1,null,null,null)),bt=gt.exports,vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sidebar"},[a("div",{staticClass:"menu"},[a("div",{staticClass:"menu--top"},t._l(t.topMenu,(function(e){return a("div",{key:e.key,staticClass:"menu__item"},[a("button",{staticClass:"menu__item__button",attrs:{title:e.label},on:{click:e.click}},["Profile"==e.label&&t.notificationCount>0?a("span",{staticClass:"badge badge-notify"},[t._v(t._s(t.notificationCount))]):t._e(),a("img",{class:{active:t.activeMenuTab===e.key},attrs:{src:e.image,alt:""}})])])})),0),a("div",{staticClass:"menu--bottom"},t._l(t.bottomMenu,(function(e){return a("div",{key:e.key,staticClass:"menu__item"},[a("button",{staticClass:"menu__item__button",attrs:{title:e.label},on:{click:e.click}},[a("img",{class:{active:t.activeMenuTab===e.key},attrs:{src:e.image,alt:""}})])])})),0)]),t.isProfileTabActive?a("div",{staticClass:"profile-popup"},[a("div",{staticClass:"profile-popup-item",staticStyle:{cursor:"pointer"},on:{click:t.showProfileModal}},[a("span",[t._v(t._s(t.$t("menu.profile.title")))])]),a("div",{staticClass:"profile-popup-item",staticStyle:{cursor:"pointer"},on:{click:t.logout}},[a("span",[t._v(t._s(t.$t("auth.logout")))]),a("i",{staticClass:"fas fa-power-off ml-1",attrs:{title:"Log out"}})])]):t._e(),t.isBaseMapTypeTabActive?a("div",{staticClass:"layer-types"},t._l(t.baseLayouts,(function(e,n){return a("div",{key:n,staticClass:"layer-types__item",class:{active:t.activeLayerType===e.name},on:{click:function(e){return t.setBaseLayout(n)}}},[t._v("\n      "+t._s(e.name)+"\n    ")])})),0):t._e(),t.isDynamicLayerTabActive?a("div",{staticClass:"list layers"},[a("div",{staticClass:"list__header"},[t._v(t._s(t.$t("menu.dynamicLayers")))]),a("div",{staticClass:"list__tabs"},[a("div",{staticClass:"tab",class:{"tab--active":"dynamicTab"===t.dynamicActiveTab},on:{click:function(e){return t.setDynamicActiveTab("dynamicTab")}}},[t._v("\n        "+t._s(t.$t("menu.layerTabs.standard"))+"\n      ")]),a("div",{staticClass:"tab",class:{"tab--active":"bunchTab"===t.dynamicActiveTab},on:{click:function(e){return t.setDynamicActiveTab("bunchTab")}}},[t._v("\n        "+t._s(t.$t("menu.layerTabs.customized"))+"\n      ")]),a("div",{staticClass:"tab",class:{"tab--active":"favoriteTab"===t.dynamicActiveTab},on:{click:function(e){return t.setDynamicActiveTab("favoriteTab")}}},[t._v("\n        "+t._s(t.$t("menu.layerTabs.favorites"))+"\n      ")])]),a("div",{staticClass:"list__search"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamicSearchInput,expression:"dynamicSearchInput"}],attrs:{type:"text",placeholder:t.$t("general.search")},domProps:{value:t.dynamicSearchInput},on:{input:function(e){e.target.composing||(t.dynamicSearchInput=e.target.value)}}})]),"dynamicTab"===t.dynamicActiveTab?a("ul",{staticClass:"list__content list__content--parent custom-scrollbar"},[a("LayerTree",{attrs:{list:t.dynamicLayersList,dragOptions:{disabled:!1},layerType:t.serviceTypeEnum.DYNAMIC_LAYER},on:{updateList:function(e){t.dynamicLayersList=e}}})],1):t._e(),"bunchTab"===t.dynamicActiveTab?a("ul",{staticClass:"list__content list__content--parent custom-scrollbar"},[a("LayerTree",{attrs:{list:t.bunchLayerList,dragOptions:{disabled:!1},layerType:t.serviceTypeEnum.BUNCH},on:{updateList:function(e){t.bunchLayerList=e}}})],1):t._e(),"favoriteTab"===t.dynamicActiveTab?a("ul",{staticClass:"list__content list__content--parent custom-scrollbar"},[a("LayerTree",{attrs:{list:t.favoriteDynamicLayerList,dragOptions:{disabled:!0},layerType:t.serviceTypeEnum.DYNAMIC_LAYER}})],1):t._e(),"bunchTab"===t.dynamicActiveTab?a("button",{staticClass:"btn btn--add-new",on:{click:t.openComputedLayerModal}},[a("i",{staticClass:"fas fa-plus"}),t._v(" "+t._s(t.$t("button.add"))+"\n    ")]):t._e()]):t._e(),t.isBaseLayerTabActive?a("div",{staticClass:"list layers"},[a("div",{staticClass:"list__header"},[t._v(t._s(t.$t("menu.baseLayers")))]),a("div",{staticClass:"list__tabs"},[a("div",{staticClass:"tab",class:{"tab--active":"baseTab"===t.basemapActiveTab},on:{click:function(e){return t.setBasemapActiveTab("baseTab")}}},[t._v("\n        "+t._s(t.$t("menu.layerTabs.standard"))+"\n      ")]),a("div",{staticClass:"tab",class:{"tab--active":"favoriteTab"===t.basemapActiveTab},on:{click:function(e){return t.setBasemapActiveTab("favoriteTab")}}},[t._v("\n        "+t._s(t.$t("menu.layerTabs.favorites"))+"\n      ")])]),a("div",{staticClass:"list__search"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.baseSearchInput,expression:"baseSearchInput"}],attrs:{type:"text",placeholder:t.$t("general.search")},domProps:{value:t.baseSearchInput},on:{input:function(e){e.target.composing||(t.baseSearchInput=e.target.value)}}})]),"baseTab"===t.basemapActiveTab?a("ul",{staticClass:"list__content list__content--parent custom-scrollbar"},[a("LayerTree",{attrs:{list:t.baselayerList,dragOptions:{disabled:!1},layerType:t.serviceTypeEnum.BASE_LAYER},on:{updateList:function(e){t.baselayerList=e}}})],1):t._e(),"favoriteTab"===t.basemapActiveTab?a("ul",{staticClass:"list__content list__content--parent custom-scrollbar"},[a("LayerTree",{attrs:{list:t.favoriteBaseLayerList,dragOptions:{disabled:!0},layerType:t.serviceTypeEnum.BASE_LAYER}})],1):t._e()]):t._e(),t.isToolTabActive?a("div",{staticClass:"list tools"},[a("div",{staticClass:"list__header"},[t._v(t._s(t.$t("menu.tool.title")))]),a("ul",{staticClass:"list__content list__content--parent custom-scrollbar"},t._l(t.toolList,(function(e){return a("li",{key:e.key,staticClass:"list__item"},[a("div",{staticClass:"item__header",on:{click:e.click}},[a("span",{staticClass:"title"},[a("img",{staticClass:"pre",attrs:{src:e.image,alt:""}}),t._v("\n            "+t._s(e.label)+"\n          ")])])])})),0)]):t._e()])},yt=[],Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Draggable",t._b({on:{start:function(e){t.isDragging=!0},end:t.onDraggableMoveCallback},model:{value:t.data,callback:function(e){t.data=e},expression:"data"}},"Draggable",t.dragOptions,!1),t._l(t.data,(function(e,n){return a("layer-tree-item",{key:e.name+n,attrs:{item:e,layerType:t.layerType,loop:1,dragOptions:t.dragOptions},on:{updateList:function(e){var a=t.data;a[n]=e,t.$emit("updateList",a)}}})})),1)},_t=[],Ot=a("310e"),Et=a.n(Ot),St=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"list__item"},[n("span",{staticClass:"item__header",style:"padding-left: "+t.paddingLeft},[n("span",{staticClass:"title"},[t.isCategory?n("i",{staticClass:"far fa-folder pre"}):n("ToggleSwitch",{staticClass:"pre",model:{value:t.switchModel,callback:function(e){t.switchModel=e},expression:"switchModel"}}),t._v("\n      "+t._s(t.isLayer?t.isCategory?t.data.name:t.data.showingLabel:t.data.name)+"\n    ")],1),t.caretIconsVisibility?n("span",[n("i",{directives:[{name:"show",rawName:"v-show",value:t.subListVisibility,expression:"subListVisibility"}],staticClass:"fas fa-caret-down",on:{click:t.toggleSubList}}),n("i",{directives:[{name:"show",rawName:"v-show",value:!t.subListVisibility,expression:"!subListVisibility"}],staticClass:"fas fa-caret-left",on:{click:t.toggleSubList}})]):t._e(),t.operationsVisibility?n("span",{staticClass:"icons"},[t.colorIconVisibility?n("img",{attrs:{src:a("9f3c"),alt:""},on:{click:t.toggleColorPicker}}):t._e(),t.tableIconVisibility?n("img",{attrs:{src:a("a93e"),alt:""},on:{click:function(e){return t.getTableData(t.data)}}}):t._e(),t.deleteIconVisibility?n("img",{attrs:{src:a("a91f"),alt:""},on:{click:t.deleteBunch}}):t._e()]):t._e()]),t.colorPickerVisibility?n("div",{staticClass:"mt-2 item__colorpicker__content"},[t.isLayerColorExist?n("div",{staticStyle:{display:"contents"}},[n("a",{staticClass:"condition-modal-btn ",attrs:{role:"button"},on:{click:t.showConditionModal}},[t._v(t._s(t.$t("general.showConditionsButtonTitle")))]),n("ColorConditionInfoModal",{attrs:{data:t.getConditionLegendData()}}),t.isLayerColorExist?n("v-select",{staticClass:"condition__select",attrs:{clearable:!1,options:t.conditions},model:{value:t.selectedColorOpt,callback:function(e){t.selectedColorOpt=e},expression:"selectedColorOpt"}}):t._e()],1):t._e(),n("LayerColorPicker",{attrs:{borderColor:t.currentConditionColor.borderColor,fillColor:t.currentConditionColor.fillColor},on:{onSave:t.onColorPickerSave,onClose:t.colorPickerOnClose}})],1):t._e(),t.data.layers&&t.subListVisibility?n("ul",{staticClass:"list__content"},[n("Draggable",t._b({on:{start:function(e){t.isDragging=!0},end:t.onDraggableMoveCallback},model:{value:t.children,callback:function(e){t.children=e},expression:"children"}},"Draggable",t.dragOptions,!1),t._l(t.children,(function(e,a){return n("layer-tree-item",{key:e.name+a,attrs:{item:e,parent:t.data,layerType:t.layerType,loop:t.loop+1,dragOptions:t.dragOptions},on:{updateList:function(e){var n=t.data;n.children[a]=e,t.$emit("updateList",n)}}})})),1),n("Draggable",t._b({on:{start:function(e){t.isDragging=!0},end:t.onDraggableMoveCallback},model:{value:t.layers,callback:function(e){t.layers=e},expression:"layers"}},"Draggable",t.dragOptions,!1),t._l(t.layers,(function(e,a){return n("layer-tree-item",{key:e.name+a,attrs:{item:e,parent:t.data,layerType:t.layerType,loop:t.loop+1,dragOptions:t.dragOptions},on:{updateList:function(e){var n=t.data;n.layers[a]=e,t.$emit("updateList",n)}}})})),1)],1):t._e()])},wt=[],Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"toggle-switch"},[a("input",{attrs:{type:"checkbox"},domProps:{checked:t.value},on:{change:t.onChange}}),a("span",{staticClass:"slider"})])},Lt=[],kt={name:"ToggleSwitch",props:{value:{type:Boolean}},methods:{onChange:function(t){this.$emit("input",t)}}},It=kt,At=(a("16f4"),Object(l["a"])(It,Tt,Lt,!1,null,null,null)),xt=At.exports,Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CustomModal",{attrs:{name:"colorConditionInfoModal",maxWidth:300,minHeight:200,appendToBody:!0,title:"Legenda"}},[a("div",{staticClass:"row"},t._l(t.data,(function(e,n){return a("div",{key:n,staticClass:"col-md-12 "},[a("span",{staticClass:"condition-color-box",style:{"background-color":e.fillColor,border:"2px solid "+e.borderColor}}),a("span",{staticClass:"m-1 condition-text"},[t._v("\n        "+t._s(e.title)+"\n      ")])])})),0)])},jt=[],Pt={name:"ColorConditionInfoModal",props:{data:{type:Array,default:function(){return[]}}}},Mt=Pt,Rt=(a("d6c2"),Object(l["a"])(Mt,Dt,jt,!1,null,"ac061bd8",null)),Bt=Rt.exports,Ft=a("ee13"),Nt=a("8bb0"),$t={name:"LayerTreeItem",components:{ToggleSwitch:xt,Draggable:Et.a,LayerColorPicker:d,ColorConditionInfoModal:Bt},props:{item:{type:Object,required:!0},parent:{type:Object},loop:{type:Number,default:1},layerType:{type:String,required:!0,default:""},dragOptions:{type:Object,default:function(){return{disabled:!1}}}},data:function(){return{subListVisibility:!1,layerIsSelected:!1,isDragging:!1,isColorConditionInfoModalVisible:!1,selectedColorOpt:{code:"default",label:"Default"}}},mounted:function(){},computed:{data:{get:function(){return this.item},set:function(t){this.$emit("updateList",t)}},children:{get:function(){return this.data.children},set:function(t){var e=this.data;e.children=t,this.data=e}},layers:{get:function(){return this.data.layers},set:function(t){var e=this.data;e.layers=t,this.data=e}},currentConditionColor:function(){var t=this,e="",a="";if("default"===this.selectedColorOpt.code)e=this.data.color.borderColor,a=this.data.color.fillColor;else{var n=this.data.layerColor.conditions.find((function(e){return e.id===parseInt(t.selectedColorOpt.code)}));e=n.borderColor,a=n.fillColor}return{borderColor:e,fillColor:a}},conditions:function(){var t=this,e={code:"default",label:"Default"},a=[e];if(this.data.layerColor){var n=this.data.layerColor,i=n.conditions.map((function(e){var a=e.id,i=t.buildConditionLabel(n.column,e.operator,e.value);return{code:a,label:i}}));a=[e].concat(Object(C["a"])(i))}return a},switchModel:{get:function(){return $["h"].isLayer(this.data)?this.data.isSelected:this.data.defaultVisibility},set:function(t){!1===t.target.checked&&(this.subListVisibility=!1),this.layerPicker(t)}},paddingLeft:function(){return 16*this.loop+"px"},isCategory:function(){return $["h"].isCategory(this.data)},isLayer:function(){return $["h"].isLayer(this.data)},caretIconsVisibility:function(){return this.isCategory||$["h"].isLayer(this.data)&&$["h"].isDynamicFromArcgis(this.data)&&this.data.isSelected},tableIconVisibility:function(){return this.data.isSelected&&($["h"].isSublayer(this.data)||$["h"].isBunch(this.data)||$["h"].isLayer(this.data)&&$["h"].isDynamicFromLocal(this.data))},isLayerColorExist:function(){return this.data.layerColor&&this.data.layerColor.conditions.length>0},colorIconVisibility:function(){return this.data.isSelected&&this.data.isColorEnabled&&($["h"].isSublayer(this.data)||$["h"].isBunch(this.data)||$["h"].isLayer(this.data)&&$["h"].isDynamicFromLocal(this.data))},deleteIconVisibility:function(){return this.data.isColorEnabled&&$["h"].isBunch(this.data)},operationsVisibility:function(){return this.tableIconVisibility||this.colorIconVisibility||this.deleteIconVisibility},colorPickerVisibility:function(){return this.data.isSelected&&this.activeColorPickerId===this.getLayerId()},activeColorPickerId:{get:function(){return this.$store.getters.activeColorPickerId},set:function(t){this.$store.dispatch("SAVE_ACTIVE_COLOR_PICKER_ID",t)}}},methods:{showConditionModal:function(){this.isColorConditionInfoModalVisible=!0,R["g"].showColorConditionInfoModal()},buildConditionLabel:function(t,e,a){return"".concat(t," ").concat(Object(Ft["b"])(e)," ").concat(a)},getConditionLegendData:function(){var t=this,e=[{title:"Default",borderColor:this.data.color.borderColor,fillColor:this.data.color.fillColor}],a=this.data.layerColor,n=a.conditions.map((function(e){var n=t.buildConditionLabel(a.column,e.operator,e.value);return{title:n,borderColor:e.borderColor,fillColor:e.fillColor}}));return[].concat(e,Object(C["a"])(n))},updateList:function(t){this.$emit("updateList",t)},onDraggableMoveCallback:function(){R["i"].onDraggableMoveCallback(this.layerType)},toggleSubList:function(){this.subListVisibility=!this.subListVisibility,this.subListVisibility&&R["i"].dynamicLayersReset(this.data,this.subListVisibility)},onColorPickerSave:function(t){var e=this;new Promise((function(a,n){R["i"].saveColor(e.data,t,e.selectedColorOpt),a()})).then((function(){R["e"].refreshService(e.data.id)}))},colorPickerOnClose:function(){this.activeColorPickerId=null},layerPicker:function(t){var e=t.target.checked;$["h"].isSublayer(this.data)?R["i"].selectSubLayer(this.parent,this.parent.order,this.data.id,e):(R["i"].selectService(this.data,e),R["i"].dynamicLayersReset(this.data,e))},getTableData:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=$["h"].isSublayer(e)?e.parent:e,t.next=3,R["j"].getTable(a);case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),getLayerId:function(){var t=0;return $["h"].isSublayer(this.data)?t=this.data.uid:$["h"].isLayer(this.data)&&$["h"].isDynamicFromLocal(this.data)&&(t=this.data.id),t},toggleColorPicker:function(){this.activeColorPickerId===this.getLayerId()?this.activeColorPickerId=null:this.activeColorPickerId=this.getLayerId()},deleteBunch:function(){var t=this;Nt["a"].remove(this.data.id).then((function(e){R["a"].remove(t.data.id),R["e"].deleteService(t.data)}))}}},Gt=$t,Vt=(a("65a7"),Object(l["a"])(Gt,St,wt,!1,null,"154e19ce",null)),Ut=Vt.exports,Ht={name:"LayerTree",components:{Draggable:Et.a,LayerTreeItem:Ut},props:{layerType:{required:!0,type:String},list:{type:Array,required:!0},dragOptions:{type:Object,default:function(){return{disabled:!1}}}},data:function(){return{isDragging:!1}},methods:{onDraggableMoveCallback:function(){R["i"].onDraggableMoveCallback(this.layerType)}},computed:{data:{get:function(){return this.list},set:function(t){this.$emit("updateList",t)}}}},zt=Ht,qt=Object(l["a"])(zt,Ct,_t,!1,null,null,null),Qt=qt.exports,Yt={name:"Sidebar",components:{LayerTree:Qt},data:function(){return{dynamicSearchInput:"",baseSearchInput:"",serviceTypeEnum:W["f"],activeLayerType:"gray",dynamicActiveTab:"dynamicTab",basemapActiveTab:"baseTab"}},mounted:function(){},computed:{baseLayouts:function(){return R["e"].getBaseLayouts()},isProfileTabActive:function(){return this.activeMenuTab===W["c"].PROFILE},notificationCount:function(){return R["f"].getNotificationCount()},isToolTabActive:function(){return this.activeMenuTab===W["c"].TOOL},isDynamicLayerTabActive:function(){return this.activeMenuTab===W["c"].DYNAMIC_LAYER},isBaseLayerTabActive:function(){return this.activeMenuTab===W["c"].BASE_LAYER},isBaseMapTypeTabActive:function(){return this.activeMenuTab===W["c"].BASE_MAP_TYPE},activeMenuTab:function(){return R["f"].getActiveMenuTab()},topMenu:function(){return R["f"].getTopMenu()},bottomMenu:function(){return R["f"].getBottomMenu()},toolList:function(){return R["f"].getToolList()},bunchLayerList:{get:function(){var t=R["a"].getBunchLayerList();return this.filteredList(t,this.dynamicSearchInput)},set:function(t){this.$store.dispatch("saveBuncLayerList",t)}},dynamicLayersList:{get:function(){var t=R["d"].getDynamicLayerList();return this.filteredList(t,this.dynamicSearchInput)},set:function(t){this.$store.dispatch("saveDynamicLayerList",t)}},baselayerList:{get:function(){var t=R["d"].getBaseLayerList();return this.filteredList(t,this.baseSearchInput)},set:function(t){this.$store.dispatch("saveBaseLayerList",t)}},favoriteBaseLayerList:{get:function(){var t=R["d"].getFavoriteBaseLayerIds(),e=R["d"].getBaseLayersWithoutCategory(),a=e.filter((function(e){return t.includes(e.id)}));return this.filteredList(a,this.baseSearchInput)},set:function(t){this.$store.dispatch("saveBaseLayerList",t)}},favoriteDynamicLayerList:{get:function(){var t=R["d"].getFavoriteDynamicLayerIds(),e=R["d"].getDynamicLayersWithoutCategory(!1),a=e.filter((function(e){return t.includes(e.id)}));return this.filteredList(a,this.dynamicSearchInput)},set:function(t){this.$store.dispatch("saveDynamicLayerList",t)}}},methods:{guid:V["d"],capitalize:V["a"],filteredList:function(t,e){var a=Object(V["b"])(t);t=$["e"].treeFilter(a,e);return t},logout:function(){M["a"].logout(),this.$router.push("/login")},showProfileModal:function(){R["g"].showProfileModalModal()},setBaseLayout:function(t){this.activeLayerType=t,R["e"].setBaseLayout(t)},setDynamicActiveTab:function(t){this.dynamicActiveTab=t},setBasemapActiveTab:function(t){this.basemapActiveTab=t},openComputedLayerModal:function(){this.$moodal.computedLayerModal.show()}}},Zt=Yt,Wt=(a("3e33"),Object(l["a"])(Zt,vt,yt,!1,null,null,null)),Kt=Wt.exports,Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",{staticClass:"centerize margin-bottom-1halfrem margin-top-halfrem"},[t._v("\n    Report\n  ")]),a("table",{staticClass:"table popupTable"},[t._m(0),a("tbody",{staticClass:"popupTableBody"},t._l(Object.keys(t.result),(function(e){return a("tr",{key:e,staticClass:"centerize"},[a("td",{staticClass:"paddingLeft"},[t._v("\n          "+t._s(e)+"\n        ")]),a("td",{staticClass:"paddingRight"},[t._v("\n          "+t._s(t.result[e])+"\n        ")])])})),0)])])},Jt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticClass:"fields centerize"},[a("th",{staticClass:"paddingLeft"},[t._v("Field")]),a("th",{staticClass:"paddingRight"},[t._v("Value")])])])}],te={name:"Report",props:{result:{type:Object}}},ee=te,ae=Object(l["a"])(ee,Xt,Jt,!1,null,null,null),ne=ae.exports,ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"map-controls",attrs:{id:"map-controls"}},[t._v("\n  "+t._s()+"\n  "),a("div",{staticClass:"map-controls--horizontal"},[t._v("\n    "+t._s()+"\n    "),a("div",{staticClass:"search"},[t._m(0),a("div",{staticClass:"control-select"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInputValue,expression:"searchInputValue"}],staticClass:"control-select__input",class:{"control-select__input--expanded":t.searchExpanded},attrs:{type:"text",placeholder:"Search"},domProps:{value:t.searchInputValue},on:{input:function(e){e.target.composing||(t.searchInputValue=e.target.value)}}}),a("div",{staticClass:"control-select__results custom-scrollbar"},[a("ul",t._l(t.citiesToShow,(function(e,n){return a("li",{key:n,on:{click:function(a){return t.onCitySelect(e)}}},[t._v("\n              "+t._s(e.admin==e.city?e.admin:e.admin+" / "+e.city)+"\n            ")])})),0)])]),a("button",{staticClass:"control__button search__button",on:{click:function(e){t.searchExpanded=!t.searchExpanded}}},[a("img",{attrs:{src:t.icons.search,alt:"Home"}})])]),t._v("\n\n    "+t._s()+"\n    "),a("div",{staticClass:"control__button-group control__button-group--horizontal coordinates"},[a("v-select",{staticClass:"mode-select",attrs:{label:"title",options:t.coordinateOptions,clearable:!1,searchable:!1},on:{input:t.onChange},model:{value:t.selectedCoordinateOptions,callback:function(e){t.selectedCoordinateOptions=e},expression:"selectedCoordinateOptions"}}),a("div",{staticClass:"coordinate"},[a("label",{attrs:{for:"coordinate-x"}},[t._v("X:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.coordinates.x,expression:"coordinates.x"}],attrs:{id:"coordinate-x",placeholder:"x"},domProps:{value:t.coordinates.x},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.goToCoordinates(e)},input:function(e){e.target.composing||t.$set(t.coordinates,"x",e.target.value)}}})]),a("div",{staticClass:"coordinate"},[a("label",{attrs:{for:"coordinate-y"}},[t._v("Y:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.coordinates.y,expression:"coordinates.y"}],attrs:{id:"coordinate-y",placeholder:"y"},domProps:{value:t.coordinates.y},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.goToCoordinates(e)},input:function(e){e.target.composing||t.$set(t.coordinates,"y",e.target.value)}}})]),a("button",{staticClass:"control__button",on:{click:t.goToCoordinates}},[a("img",{attrs:{src:t.icons.compass,alt:"Go to coordinate"}})])],1)]),t._v("\n\n  "+t._s()+"\n  "),a("div",{staticClass:"control__button-group control__button-group--vertical"},[a("button",{staticClass:"control__button",on:{click:t.zoomIn}},[a("img",{attrs:{src:t.icons.plus,alt:"Zoom in"}})]),a("button",{staticClass:"control__button",on:{click:t.zoomOut}},[a("img",{attrs:{src:t.icons.minus,alt:"Zoom out"}})])]),t._v("\n\n  "+t._s()+"\n  "),a("div",{staticClass:"control__button-group control__button-group--vertical"},[a("button",{staticClass:"control__button",on:{click:t.zoomToCenter}},[a("img",{attrs:{src:t.icons.home,alt:"Home"}})]),a("button",{staticClass:"control__button",attrs:{disabled:!t.isPreviousExist},on:{click:t.historyBack}},[a("img",{attrs:{src:t.icons.arrow_left,alt:"Back"}})]),a("button",{staticClass:"control__button",attrs:{disabled:!t.isNextExist},on:{click:t.historyNext}},[a("img",{attrs:{src:t.icons.arrow_right,alt:"Next"}})])]),t._v("\n\n  "+t._s()+"\n  "),a("div",{staticClass:"control__button-group control__button-group--horizontal scale"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.scaleInput,expression:"scaleInput"}],style:{width:t.scaleWidth+"px"},domProps:{value:t.scaleInput},on:{focus:t.scaleFocus,blur:t.scaleBlur,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.setScale(e)},input:function(e){e.target.composing||(t.scaleInput=e.target.value)}}}),a("button",{staticClass:"control__button",on:{click:function(e){return t.setScale()}}},[a("img",{attrs:{src:t.icons.send,alt:"Scale"}})])])])},re=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search__logo"},[n("img",{attrs:{src:a("293c4"),alt:"Azercosmos logo"}})])}],oe=(a("a481"),a("55dd"),a("256f")),se=a("3b25"),ce={name:"MapControls",data:function(){return{icons:Z["b"],cities:se,searchExpanded:!1,searchInputValue:"",selectedCoordinateMode:null,coordinates:{x:0,y:0},scaleInput:""}},mounted:function(){this.selectedCoordinateOptions=this.coordinateOptions[0];var t=this.getCoordinates();this.setCoordinates(t[0],t[1])},watch:{language:function(t){var e=this;if(this.coordinateOptions&&this.coordinateOptions.length>0){var a=this.coordinateOptions.find((function(t){return t.key==e.selectedCoordinateOptions.key}));this.selectedCoordinateOptions=a}},currentCenter:function(t){this.coordinates.x=t[0],this.coordinates.y=t[1]},scaleOptions:function(t){this.scaleInput=this.scaleValue.toFixed(2)+" "+this.scaleOptions.unit}},computed:{language:function(){return this.$store.getters.language},selectedCoordinateOptions:{get:function(){return this.selectedCoordinateMode},set:function(t){this.selectedCoordinateMode=t}},coordinateOptions:function(){return[{key:W["a"].GEOGRAPHIC,title:this.$i18n.t("coordinateType.geographical")},{key:W["a"].METRIC,title:this.$i18n.t("coordinateType.metric")}]},currentCenter:function(){return this.getCoordinates()},scaleOptions:function(){return R["e"].getScaleLineOptions()},scaleValue:function(){return R["e"].getCurrentResolution()},scaleWidth:function(){var t=this.scaleOptions.width;return t},isNextExist:function(){return R["c"].getHistoryIsNextExist()},isPreviousExist:function(){return R["c"].getHistoryIsPreviousExist()},map:{get:function(){return R["e"].getMap()},set:function(t){R["e"].setMap(t)}},citiesToShow:function(){var t=this;return this.cities.filter((function(e){return e.city.toLowerCase().includes(t.searchInputValue.toLowerCase())})).sort((function(t,e){return t.admin>e.admin?1:t.admin<e.admin?-1:0}))}},methods:{onChange:function(){var t=this.getCoordinates();this.setCoordinates(t[0],t[1])},setCoordinates:function(t,e){this.coordinates.x=t,this.coordinates.y=e},getCoordinates:function(){var t=[];return this.selectedCoordinateOptions&&this.selectedCoordinateOptions.key&&(t=R["e"].getCurrentCenter(this.selectedCoordinateOptions.key)),t},onCitySelect:function(t){var e=[t.lng,t.lat];R["e"].setCenter(e,W["a"].GEOGRAPHIC),R["e"].setZoomLevel(11),this.searchInputValue=t.city},goToCoordinates:function(){var t=[this.coordinates.x,this.coordinates.y];R["e"].setCenter(t,this.selectedCoordinateOptions.key);var e="centerPoint",a={name:e};R["k"].deleteFeatureByName(e),R["k"].addPoint(t,a)},zoomIn:function(){this.map.getView().setZoom(this.map.getView().getZoom()+1)},zoomOut:function(){this.map.getView().setZoom(this.map.getView().getZoom()-1)},zoomToCenter:function(){this.map.getView().setCenter(Object(oe["fromLonLat"])([47.82858,40.3598414])),this.map.getView().setZoom(8),this.searchInputValue=""},historyBack:function(){R["c"].historyBack(this)},historyNext:function(){R["c"].historyNext(this)},scaleFocus:function(){this.scaleInput=this.convertToNum(this.scaleInput)},scaleBlur:function(){this.scaleInput=this.convertToNum(this.scaleInput),this.scaleInput=this.scaleInput+" "+this.scaleOptions.unit},setScale:function(){R["e"].setCurrentResolution(this.convertToNum(this.scaleInput))},getScale:function(){var t=R["e"].getCurrentResolution();return t},convertToNum:function(t){return t.replace(/[^0-9.]/g,"")}}},le=ce,ue=(a("f035"),Object(l["a"])(le,ie,re,!1,null,null,null)),de=ue.exports,pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"map-text"},[a("div",{staticClass:"map-text__container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],ref:"mapTextInput",staticClass:"map-text__input",attrs:{type:"text",placeholder:"Text"},domProps:{value:t.text},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addText(e)},input:function(e){e.target.composing||(t.text=e.target.value)}}}),a("button",{ref:"close",staticClass:"map-text__action--close map-text__button",on:{click:t.close}},[a("i",{staticClass:"fas fa-times"})]),a("button",{staticClass:"map-text__button",on:{click:t.addText}},[a("i",{staticClass:"fas fa-check"})])])])},fe=[],me={name:"MapText",data:function(){return{text:""}},computed:{pointCoordinates:function(){return R["k"].getBbox()}},methods:{addText:function(){this.text.length&&(R["k"].addText(this.text,this.pointCoordinates),this.close())},close:function(){this.$refs.close.click(),this.text=""}}},he=me,ge=(a("de50"),Object(l["a"])(he,pe,fe,!1,null,null,null)),be=ge.exports,ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:t.styles},[a("v-select",{staticClass:"language__select",attrs:{label:"label",options:t.languages,searchable:!1,clearable:!1,auto:""},model:{value:t.lang,callback:function(e){t.lang=e},expression:"lang"}})],1)},ye=[],Ce=(a("9923"),{name:"LanguageSelect",props:{className:{type:String},styles:{type:Object}},computed:{languages:function(){var t=Object.keys(this.$i18n.messages),e=t.map((function(t){return{code:t,label:t}}));return e},lang:{get:function(){var t=this.$store.getters.language;return t},set:function(t){this.$i18n.locale=t.code,this.$store.dispatch("saveLanguage",t.code)}}}}),_e=Ce,Oe=(a("146a"),Object(l["a"])(_e,ve,ye,!1,null,"56105edd",null)),Ee=Oe.exports,Se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade"}},[t.isMounted?a("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"Modal modal--overlay",attrs:{id:t.name},on:{click:function(e){return e.target!==e.currentTarget?null:t.hide(e)}}},[a("div",{staticClass:"modal__content",style:t.contentStyle},[a("div",{staticClass:"modal__header"},[a("div",{staticClass:"header__title"},[t._v(t._s(t.title))]),a("div",{staticClass:"header__close"},[a("i",{staticClass:"fas fa-times",on:{click:t.hide}})])]),a("div",{staticClass:"modal__body custom-scrollbar"},[t._t("default")],2)])]):t._e()])},we=[],Te=a("2b0e"),Le={name:"Moodal",props:{name:{type:String},height:{type:[Number,String]},width:{type:[Number,String]},minHeight:{type:Number,default:100},minWidth:{type:Number,default:200},maxHeight:{type:Number,default:window.innerHeight},maxWidth:{type:Number,default:window.innerWidth},title:{type:String,default:""},mounted:{type:Boolean,default:!0},ts:{type:Boolean,required:!1,default:!1},appendToBody:{type:Boolean,required:!1,default:!1}},data:function(){return{isMounted:this.mounted,visible:!1}},computed:{contentStyle:function(){var t=[];if(this.width){var e="";"number"===typeof this.width?e=this.width+"px":"string"===typeof this.width&&(e=this.width),t.push("width: ".concat(e,";"))}if(this.height){var a="";"number"===typeof this.height?a=this.height+"px":"string"===typeof this.height&&(a=this.height),t.push("height: ".concat(a,";"))}return this.minWidth&&t.push("min-width: ".concat(this.minWidth,"px;")),this.minHeight&&t.push("min-height: ".concat(this.minHeight,"px;")),this.maxWidth&&t.push("max-width: ".concat(this.maxWidth,"px;")),this.maxHeight&&t.push("max-height: ".concat(this.maxHeight<window.innerHeight,"px;")),t.join(" ")}},methods:{open:function(){this.$emit("beforeOpen"),this.isMounted=!0,this.show(),this.$emit("afterOpen")},close:function(){this.$emit("beforeClose"),this.isMounted=!1,this.hide(),this.$emit("afterClose")},show:function(){this.$emit("beforeShow"),this.visible=!0,this.$emit("afterShow")},hide:function(){this.$emit("beforeHide"),this.visible=!1,this.$emit("afterHide")}},created:function(){this.$moodal||(Te["default"].prototype.$moodal={}),this.$moodal[this.name]=this},mounted:function(){this.appendToBody&&this.$root.$el.append(this.$el)},destroyed:function(){this.appendToBody&&this.$el.parentNode.removeChild(this.$el)}},ke=Le,Ie=Object(l["a"])(ke,Se,we,!1,null,null,null),Ae=Ie.exports,xe=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},De=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loader"},[n("img",{attrs:{src:a("4045"),alt:""}})])}],je={name:"Loader"},Pe=je,Me=(a("bfac"),Object(l["a"])(Pe,xe,De,!1,null,null,null)),Re=Me.exports,Be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tree"},t._l(t.data,(function(e,n){return a("ul",{key:n},[a("tree-item",{attrs:{node:e,options:t.options,checkeds:t.checkedIds},on:{setCheckeds:t.setCheckeds,onChange:t.onChange}})],1)})),0)},Fe=[],Ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticStyle:{margin:"10px 0px"}},[t.checkCategoryCondition()?a("span",{staticClass:"tree-item",on:{click:function(){t.isOpen=!t.isOpen}}},[a("strong",[t._v(t._s(t.node[t.getNameKey()]))]),a("i",{staticClass:" m-1 ",class:{"fa fa-plus":!t.isOpen,"fa fa-minus":t.isOpen}})]):a("span",{staticClass:"tree-item"},[t._v(" "+t._s(t.node[t.getNameKey()]))]),t.isCheckboxExist&&t.checkCheckboxCondition()?a("input",{staticClass:"form-check-input tree-checkbox",attrs:{type:"checkbox"},domProps:{checked:t.isCheckedsPropertyExist&&t.checkeds.includes(t.node[t.getIdKey()])},on:{change:function(e){var a=e.target.checked;t.onChange(t.node,a)}}}):t._e(),t.node[t.getChildrenKey()]?a("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}]},t._l(t.node[t.getChildrenKey()],(function(e,n){return a("ul",{key:n},[a("tree-item",{attrs:{node:e,options:t.options,checkeds:t.checkeds},on:{onChange:t.onChange}})],1)})),0):t._e(),t.node[t.getItemKey()]?a("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}]},t._l(t.node[t.getItemKey()],(function(e,n){return a("ul",{key:n},[a("tree-item",{attrs:{node:e,options:t.options,checkeds:t.checkeds},on:{onChange:t.onChange}})],1)})),0):t._e()])},$e=[],Ge=(ft={name:"TreeItem",props:{node:{type:Object,required:!0},options:{type:Object},checkeds:{type:Array}},mounted:function(){},data:function(){return{isOpen:!1}},watch:{data:{deep:!0,handler:function(t,e){this.data=t}},options:{deep:!0,handler:function(t,e){this.options=t}},checkeds:{deep:!0,handler:function(t,e){this.checkeds=t}}}},Object(O["a"])(ft,"mounted",(function(){this.isOpen=!this.isCollapsed})),Object(O["a"])(ft,"computed",{isCheckboxExist:function(){return this.options&&this.options.checkbox&&1==this.options.checkbox},isCollapsed:function(){return this.options&&this.options.collapsed},isCheckedsPropertyExist:function(){return this.options&&this.checkeds}}),Object(O["a"])(ft,"methods",{toggle:function(){this.isOpen=!this.isOpen},onChange:function(t,e){if(this.isCheckedsPropertyExist){if(e)this.checkeds.includes(t.id)||this.checkeds.push(t.id);else if(this.checkeds.includes(t.id)){var a=this.checkeds.findIndex((function(e){return e==t.id}));this.checkeds.splice(a,1)}this.$emit("setCheckeds",this.checkeds)}this.$emit("onChange",t,e)},getChildrenKey:function(){return this.isOptionLabelsPropertyExist("children")?this.options.labels.children:null},getItemKey:function(){return this.isOptionLabelsPropertyExist("items")?this.options.labels.items:null},getNameKey:function(){return this.isOptionLabelsPropertyExist("name")?this.options.labels.name:null},getIdKey:function(){return this.isOptionLabelsPropertyExist("id")?this.options.labels.id:null},checkCategoryCondition:function(){return!!this.isOptionConditionsPropertyExist("isCategory")&&this.options.conditions.isCategory(this.node)},checkCheckboxCondition:function(){return!!this.isOptionCheckboxPropertyExist()&&this.options.conditions.isCheckboxExist(this.node)},isOptionLabelsPropertyExist:function(t){return this.options&&this.options.labels&&this.options.labels[t]},isOptionConditionsPropertyExist:function(t){return this.options&&this.options.conditions&&this.options.conditions[t]},isOptionCheckboxPropertyExist:function(t){return this.options&&this.options.checkbox}}),ft),Ve=Ge,Ue=Object(l["a"])(Ve,Ne,$e,!1,null,null,null),He=Ue.exports,ze={name:"Tree",components:{TreeItem:He},data:function(){return{checkedIds:[]}},props:{data:{type:Array,required:!0},options:{type:Object},checkeds:{type:Array}},watch:{data:{deep:!0,handler:function(t,e){this.data=t}},options:{deep:!0,handler:function(t,e){this.options=t}},checkeds:{deep:!0,handler:function(t,e){this.checkeds=t}}},mounted:function(){this.checkedIds=this.checkeds?this.checkeds:[]},methods:{onChange:function(t,e){this.$emit("onCheckboxChange",t,e)},setCheckeds:function(t){this.checkedIds=t},getCheckeds:function(){return this.checkedIds}}},qe=ze,Qe=Object(l["a"])(qe,Be,Fe,!1,null,null,null),Ye=Qe.exports,Ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],staticClass:"modal overlay",attrs:{id:"infoModal",tabindex:"-1",role:"dialog","aria-labelledby":"infoModalLabel","aria-hidden":"true"},on:{click:function(e){return e.target!==e.currentTarget?null:t.$emit("close")}}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("ul",{staticClass:"nav nav-tabs"},[t._l(t.tabs,(function(e){return a("li",{key:e.key,staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:e.key===t.activeTab},attrs:{href:"#"},on:{click:function(a){return t.changeTab(e.key)}}},[t._v(t._s(e.text))])])})),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(e){return t.$emit("close")}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("")])])],2)]),t.isOpen?a("div",{staticClass:"modal-body"},["about"===t.activeTab?a("About"):t._e(),"faq"===t.activeTab?a("FAQ"):t._e(),"releaseNotes"===t.activeTab?a("ReleaseNotes"):t._e(),"contact"===t.activeTab?a("Contact"):t._e(),"forum"===t.activeTab?a("Forum"):t._e()],1):t._e()])])])])},We=[],Ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("h3",[t._v(t._s(t.$t("menu.information.about.whatIsWebgis")))]),a("p",[t._v("\n    "+t._s(t.$t("menu.information.about.whatIsWebgisContent"))+"\n  ")])])},Xe=[],Je={name:"About"},ta=Je,ea=(a("6994"),Object(l["a"])(ta,Ke,Xe,!1,null,null,null)),aa=ea.exports,na=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.loading?a("Loader"):t._e(),a("div",{staticClass:"accordion"},t._l(t.questions,(function(e){return a("div",{key:e.id,staticClass:"card"},[a("div",{staticClass:"card-header"},[a("h5",{staticClass:"mb-0"},[a("button",{staticClass:"btn btn-link",class:{collapsed:t.activeQuestionIds!==e.id},on:{click:function(a){return t.toggleAccordion(e.id)}}},[t._v("\n            "+t._s(e.question)+"\n          ")])])]),a("transition",{attrs:{name:"collapse",delay:"0"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.activeQuestionIds.includes(e.id),expression:"activeQuestionIds.includes(question.id)"}],staticClass:"collapse-body"},[a("div",{staticClass:"card-body"},[t._v(t._s(e.answer))])])])],1)})),0)],1)},ia=[],ra={getFAQ:function(){return B["a"].get(P["m"]+"/api/faq")},getReleaseNotes:function(){return B["a"].get(P["m"]+"/api/releasenote")},sendMessage:function(t){return B["a"].post(P["m"]+"/api/mail/contact-us",t)}},oa={name:"FAQ",data:function(){return{activeQuestionIds:[],questions:[],loading:!1}},methods:{getFAQ:function(){var t=this;this.loading=!0,ra.getFAQ().then((function(e){e.data&&(t.questions=e.data),t.loading=!1})).catch((function(e){t.loading=!1}))},toggleAccordion:function(t){if(this.activeQuestionIds.includes(t)){var e=this.activeQuestionIds.findIndex((function(e){return e===t}));this.activeQuestionIds.splice(e,1)}else this.activeQuestionIds.push(t)},labelClick:function(t){!0===t.target.checked&&document.querySelectorAll(".toggle").forEach((function(e){e.getAttribute("data-index")!==t.target.getAttribute("data-index")&&(e.checked=!1)}))}},mounted:function(){this.questions.length||this.getFAQ()}},sa=oa,ca=(a("6606"),Object(l["a"])(sa,na,ia,!1,null,null,null)),la=ca.exports,ua=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.loading?a("Loader"):t._e(),t._l(t.notes,(function(e,n){return a("div",{key:n,staticClass:"release-note"},[a("div",{staticClass:"date"},[a("b",[t._v(t._s(e.dateCreated))])]),a("p",{staticClass:"content"},[t._v(t._s(e.note))])])}))],2)},da=[],pa=(a("5a0c"),{name:"ReleaseNotes",data:function(){return{notes:[],loading:!1}},methods:{getReleaseNotes:function(){var t=this;this.loading=!0,ra.getReleaseNotes().then((function(e){e.data&&(t.notes=e.data),t.loading=!1})).catch((function(e){t.loading=!1}))}},mounted:function(){this.notes.length||this.getReleaseNotes()}}),fa=pa,ma=(a("6092"),Object(l["a"])(fa,ua,da,!1,null,null,null)),ha=ma.exports,ga=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{staticClass:"contact-block"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"subject"}},[t._v(t._s(t.$t("form.contactUsForm.subject")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.subject,expression:"data.subject"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&!t.$v.data.subject.required},attrs:{type:"text",id:"subject",placeholder:t.$t("form.contactUsForm.subject"),required:""},domProps:{value:t.data.subject},on:{input:function(e){e.target.composing||t.$set(t.data,"subject",e.target.value)}}}),t.submitted&&!t.$v.data.subject.required?a("div",{staticClass:"invalid-feedback"},[t._v("\n        "+t._s(t.$t("form.contactUsForm.validationMessages.subjectRequired"))+"\n      ")]):t._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"content"}},[t._v(t._s(t.$t("form.contactUsForm.content")))]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.data.message,expression:"data.message"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&!t.$v.data.message.required},attrs:{id:"content",rows:"3",placeholder:t.$t("form.contactUsForm.content"),required:""},domProps:{value:t.data.message},on:{input:function(e){e.target.composing||t.$set(t.data,"message",e.target.value)}}}),t.submitted&&!t.$v.data.message.required?a("div",{staticClass:"invalid-feedback"},[t._v("\n        "+t._s(t.$t("form.contactUsForm.validationMessages.contentRequired"))+"\n      ")]):t._e()]),a("button",{staticClass:"btn btn-primary submit-btn",attrs:{type:"submit",disabled:t.loading},on:{click:function(e){return e.preventDefault(),t.sendMessage(e)}}},[t._v("\n      "+t._s(t.$t("button.submit"))+"\n    ")])])])},ba=[],va=a("b5ae"),ya={name:"Contact",data:function(){return{data:{subject:null,message:null},submitted:!1,loading:!1}},validations:{data:{subject:{required:va["required"]},message:{required:va["required"]}}},mounted:function(){this.reset()},methods:{reset:function(){this.submitted=!1,this.loading=!1,this.resetData()},resetData:function(){this.data={subject:null,message:null}},sendMessage:function(){var t=this;this.submitted=!0,this.$v.$touch(),this.$v.$invalid||(this.loading=!0,ra.sendMessage(this.data).then((function(e){200===e.status&&(t.$toasted.show("Successfully Added",{icon:{name:"fas fa-check"}}),t.resetData()),t.loading=!1})).catch((function(t){})).finally((function(){t.loading=!0})))}}},Ca=ya,_a=(a("6511"),Object(l["a"])(Ca,ga,ba,!1,null,null,null)),Oa=_a.exports,Ea=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"Forum"}},["list"===t.activeBlock?a("IssueList",{on:{openIssue:t.openIssue,newIssue:function(e){t.activeBlock="newIssue"}}}):t._e(),"detailed"===t.activeBlock?a("IssueDetailed",{attrs:{openIssueId:t.openIssueId},on:{back:function(e){t.activeBlock="list"}}}):t._e(),"newIssue"===t.activeBlock?a("NewIssue",{on:{back:function(e){t.activeBlock="list"},openIssue:t.openIssue}}):t._e()],1)},Sa=[],wa={getCategories:function(){return B["a"].get(P["m"]+"/api/forum/Category")},getIssues:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return B["a"].get(P["m"]+"/api/forum/Post/Statuses/"+t)},getIssueById:function(t){return B["a"].get(P["m"]+"/api/forum/Post/"+t)},getIssueCount:function(){return B["a"].get(P["m"]+"/api/forum/Post/Counts")},insertIssue:function(t){return B["a"].post(P["m"]+"/api/forum/Post",t)},deleteIssue:function(t){return B["a"].delete(P["m"]+"/api/forum/Post/"+t)},insertComment:function(t){return B["a"].post(P["m"]+"/api/forum/Comment",t)},deleteComment:function(t){return B["a"].delete(P["m"]+"/api/forum/Comment/"+t)},closeIssue:function(t){return B["a"].put(P["m"]+"/api/forum/Post/".concat(t,"/Close"))}},Ta=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"issue-list"},[a("div",{staticClass:"issue__action-bar"},[a("div",{staticClass:"action-bar__fields"},[a("div",{staticClass:"btn-group",attrs:{role:"group"}},[a("button",{staticClass:"btn",class:1===t.activeTab?"btn-primary":"btn-light",attrs:{type:"button"},on:{click:function(e){return t.changeActiveTab(1)}}},[a("i",{staticClass:"fas fa-exclamation-circle issue-icon issue-icon--open"}),t._v("\n          "+t._s(t.issueCount.open)+"\n          "+t._s(t.$t("menu.information.forum.openedIssues"))+"\n        ")]),a("button",{staticClass:"btn",class:2===t.activeTab?"btn-primary":"btn-light",attrs:{type:"button"},on:{click:function(e){return t.changeActiveTab(2)}}},[a("i",{staticClass:"far fa-check-circle issue-icon issue-icon--closed"}),t._v("\n          "+t._s(t.issueCount.closed)+"\n          "+t._s(t.$t("menu.information.forum.closedIssues"))+"\n        ")])]),a("select",{staticClass:"form-control category",attrs:{placeholder:"Filter by category"},on:{change:t.handleFilter}},[a("option",{domProps:{value:0,selected:0===t.activeCategoryId}},[t._v("All")]),t._l(t.categories,(function(e){return a("option",{key:e.id,domProps:{value:e.id,selected:t.activeCategoryId===e.id}},[t._v(t._s(e.name))])}))],2)]),a("div",[a("button",{staticClass:"btn btn-primary new-issue",attrs:{type:"button"},on:{click:function(e){return t.$emit("newIssue")}}},[t._v("\n        "+t._s(t.$t("menu.information.forum.createIssue"))+"\n      ")])])]),t.loading?a("Loader"):t._e(),t.activeIssueList.length?a("div",{staticClass:"card issues-card"},[a("ul",{staticClass:"list-group list-group-flush"},t._l(t.activeIssueList,(function(e){return a("li",{key:e.id,staticClass:"list-group-item issues-card__item",on:{click:function(a){return t.openIssue(e.id)}}},[a("i",{staticClass:"issue-icon",class:t.issueIconClass}),a("span",[t._v(t._s(e.title))]),a("span",{staticClass:"issue__date"},[t._v(t._s(t.formatDate(e.dateCreated)))])])})),0)]):t._e()],1)},La=[];function ka(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Ia(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ka(Object(a),!0).forEach((function(e){Object(O["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ka(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Aa={name:"IssueList",data:function(){return{filteredIssues:{open:[],closed:[]},loading:!1}},methods:{getOpenIssues:function(){var t=this;this.loading=!0,wa.getIssues(1).then((function(e){e.data&&(t.$store.commit("SET_OPEN_ISSUES",e.data),t.filteredIssues.open=e.data,t.loading=!1)})).catch()},getClosedIssues:function(){var t=this;this.loading=!0,wa.getIssues(2).then((function(e){e.data&&(t.$store.commit("SET_CLOSED_ISSUES",e.data),t.filteredIssues.closed=e.data,t.loading=!1)})).catch()},getIssueCount:function(){var t=this;wa.getIssueCount().then((function(e){e.data&&(t.$store.state.forum.issueCount=e.data)})).catch()},openIssue:function(t){this.$emit("openIssue",t)},handleFilter:function(t){this.$store.commit("SET_ACTIVE_CATEGORY_ID",Number(t.target.value)),this.filterList()},filterList:function(){var t=this;0!==this.activeCategoryId?(this.filteredIssues.open=this.issues.open.filter((function(e){return e.categoryId===t.activeCategoryId})),this.filteredIssues.closed=this.issues.closed.filter((function(e){return e.categoryId===t.activeCategoryId}))):this.filteredIssues=Ia({},this.issues)},changeActiveTab:function(t){this.$store.commit("SET_ACTIVE_TAB",t),1!==t||this.issues.open.length?2!==t||this.issues.closed.length||this.getClosedIssues():this.getOpenIssues()},formatDate:$["d"].formatDate},mounted:function(){this.issues.open.length?this.filterList():this.getOpenIssues(),this.issueCount.open+this.issueCount.closed||this.getIssueCount()},computed:{issues:function(){return this.$store.state.forum.issueList},issueCount:function(){return this.$store.state.forum.issueCount},activeTab:function(){return this.$store.state.forum.activeTab},activeCategoryId:function(){return this.$store.state.forum.activeCategoryId},activeIssueList:function(){return 1===this.activeTab?this.filteredIssues.open:this.filteredIssues.closed},issueIconClass:function(){return 1===this.activeTab?"fas fa-exclamation-circle issue-icon--open":"far fa-check-circle issue-icon--closed"},categories:function(){return this.$store.state.forum.categories}}},xa=Aa,Da=(a("b42e"),Object(l["a"])(xa,Ta,La,!1,null,"bc9afcc4",null)),ja=Da.exports,Pa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("button",{staticClass:"btn btn-light back-btn",attrs:{type:"button"},on:{click:t.back}},[a("i",{staticClass:"fas fa-arrow-left"}),t._v(" Back\n  ")]),t.loading?a("Loader"):t._e(),t.issue?a("div",{staticClass:"issue-details"},[a("div",{staticClass:"issue__header"},[1===t.issue.status?a("i",{staticClass:"fas fa-exclamation-circle issue-icon issue-icon--open"}):a("i",{staticClass:"far fa-check-circle issue-icon issue-icon--closed"}),a("div",[a("h3",{staticClass:"issue__title"},[t._v("\n          "+t._s(t.issue.title)+"\n          "),a("div",{staticClass:"btn-group"},[t.showCloseBtn(t.issue)?a("button",{staticClass:"btn btn-sm btn-success",attrs:{type:"button"},on:{click:t.closeIssue}},[t._v("\n              Close\n            ")]):t._e(),t.showDeleteBtn?a("button",{staticClass:"btn btn-sm btn-light",attrs:{type:"button"},on:{click:function(e){return t.deletePost(t.issue.id)}}},[a("i",{staticClass:"far fa-trash-alt"})]):t._e()])]),a("div",[a("span",{staticClass:"issue__author"},[t._v(t._s(t.issue.user.userName))]),a("span",{staticClass:"issue__date",attrs:{title:t.formatDateTime(t.issue.dateCreated)}},[t._v(t._s(t.formatDate(t.issue.dateCreated)))])])])]),a("div",{staticClass:"issue__content",domProps:{innerHTML:t._s(t.issue.content)}}),a("Comments",{attrs:{rawComments:t.issue.comments,postId:t.issue.id}})],1):t._e()],1)},Ma=[],Ra=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"issue__comments"},[t._l(t.comments,(function(e){return a("div",{key:e.id,staticClass:"issue__comment"},[a("div",{staticClass:"card"},[a("h6",{staticClass:"card-header"},[a("div",[a("span",{staticClass:"issue__author"},[t._v(t._s(e.user.userName))]),a("span",{staticClass:"issue__date",attrs:{title:t.formatDateTime(e.dateCreated)}},[t._v(t._s(t.formatDate(e.dateCreated)))])]),a("div",{staticClass:"btn-group"},[t.showDeleteBtn?a("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:function(a){return t.deleteComment(e.id)}}},[a("i",{staticClass:"far fa-trash-alt"})]):t._e(),a("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:function(a){return t.setActiveReplyId(e.id)}}},[a("i",{staticClass:"fas fa-reply"})])])]),a("div",{staticClass:"card-body",domProps:{innerHTML:t._s(e.content)}})]),a("div",{staticClass:"issue__comment_replies"},[a("NewComment",{directives:[{name:"show",rawName:"v-show",value:e.id===t.activeReplyId,expression:"comment.id === activeReplyId"}],attrs:{replyId:e.id},on:{submitComment:t.submitComment}}),t._l(e.replies,(function(e){return a("div",{key:e.id,staticClass:"issue__comment"},[a("div",{staticClass:"card"},[a("h6",{staticClass:"card-header"},[a("div",[a("span",{staticClass:"issue__author"},[t._v(t._s(e.user.userName))]),a("span",{staticClass:"issue__date",attrs:{title:t.formatDateTime(e.dateCreated)}},[t._v(t._s(t.formatDate(e.dateCreated)))])]),t.showDeleteBtn?a("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:function(a){return t.deleteComment(e.id)}}},[a("i",{staticClass:"far fa-trash-alt"})]):t._e()]),a("div",{staticClass:"card-body",domProps:{innerHTML:t._s(e.content)}})])])}))],2)])})),t.loading?a("Loader"):t._e(),a("NewComment",{on:{submitComment:t.submitComment}}),t._m(0)],2)])},Ba=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal show",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v("Modal title")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("")])])]),a("div",{staticClass:"modal-body"},[a("p",[t._v("Modal body text goes here.")])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("\n              Close\n            ")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v("\n              Save changes\n            ")])])])])])}],Fa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"issue__comment new-comment"},[a("div",{staticClass:"card"},[a("h6",{staticClass:"card-header"},[a("div",[a("span",{staticClass:"issue__author"},[t._v(t._s(t.title))])])]),a("div",{staticClass:"card-body"},[a("quill-editor",{ref:"newComment",attrs:{options:t.editorOption},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)]),a("button",{staticClass:"btn btn-primary submit-btn",attrs:{type:"button",disabled:!t.content},on:{click:t.submitComment}},[t._v("Submit")])])])},Na=[],$a={name:"NewComment",props:{replyId:{type:Number}},data:function(){return{content:"",editorOption:{}}},methods:{submitComment:function(){var t={content:this.content,parentId:this.replyId};this.$emit("submitComment",t),this.content=""}},computed:{title:function(){return this.replyId?"New reply":"New comment"}}},Ga=$a,Va=(a("4397"),Object(l["a"])(Ga,Fa,Na,!1,null,"53c759f6",null)),Ua=Va.exports;function Ha(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function za(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ha(Object(a),!0).forEach((function(e){Object(O["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ha(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var qa={name:"Comments",components:{NewComment:Ua},props:{rawComments:{type:Array},postId:{type:Number}},data:function(){return{comments:[],activeReplyId:null,loading:!1}},methods:{setActiveReplyId:function(t){this.activeReplyId===t?this.activeReplyId=null:this.activeReplyId=t},rearrangeCommentList:function(){var t=this,e=[];this.rawComments.forEach((function(a){a.parentId||e.push(za({},a,{replies:t.rawComments.filter((function(t){if(t.parentId)return t.parentId===a.id}))}))})),this.comments=e},submitComment:function(t){var e=this;this.loading=!0;var a=za({parentId:null,postId:this.postId},t);wa.insertComment(a).then((function(t){t.data&&(e.rawComments.push(t.data),e.activeReplyId=null),e.loading=!1})).catch()},deleteComment:function(t){var e=this;this.$swal({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(a){a.value&&(e.loading=!0,wa.deleteComment(t).then((function(a){200===a.status&&e.rawComments.splice(e.rawComments.findIndex((function(e){return e.id===t})),1),e.loading=!1})).catch())}))},formatDate:$["d"].formatDate,formatDateTime:$["d"].formatDateTime},computed:{showDeleteBtn:function(){return!1}},mounted:function(){this.rearrangeCommentList()},watch:{rawComments:function(){this.rearrangeCommentList()}}},Qa=qa,Ya=(a("dcbe"),Object(l["a"])(Qa,Ra,Ba,!1,null,null,null)),Za=Ya.exports,Wa={name:"IssueDetailed",components:{Comments:Za},props:{openIssueId:{type:Number}},data:function(){return{loading:!1,issue:null}},methods:{getIssueById:function(t){var e=this;this.loading=!0,wa.getIssueById(t).then((function(t){t.data&&(e.issue=t.data),e.loading=!1})).catch()},closeIssue:function(){var t=this;wa.closeIssue(this.issue.id).then((function(e){e.data&&(t.issue=e.data,t.$store.commit("SET_OPEN_ISSUES",[]),t.$store.commit("SET_CLOSED_ISSUES",[]))})).catch()},back:function(){this.issue=null,this.$emit("back")},showCloseBtn:function(t){return!1},deletePost:function(t){var e=this;this.$swal({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(a){a.value&&(e.loading=!0,wa.deleteIssue(t).then((function(t){200===t.status&&(1===e.issue.status&&e.$store.commit("SET_OPEN_ISSUES",[]),2===e.issue.status&&e.$store.commit("SET_CLOSED_ISSUES",[]),e.back()),e.loading=!1})).catch())}))},formatDate:$["d"].formatDate,formatDateTime:$["d"].formatDateTime},computed:{showDeleteBtn:function(){return localStorage.getItem("isAdmin")}},mounted:function(){this.openIssueId&&this.getIssueById(this.openIssueId)}},Ka=Wa,Xa=(a("ebd0"),Object(l["a"])(Ka,Pa,Ma,!1,null,null,null)),Ja=Xa.exports,tn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("h4",{staticClass:"title"},[a("button",{staticClass:"btn btn-light back-btn",attrs:{type:"button"},on:{click:function(e){return t.$emit("back")}}},[a("i",{staticClass:"fas fa-arrow-left"}),t._v(" "+t._s(t.$t("button.back")))]),t._v(t._s(t.$t("menu.information.forum.createIssue"))+"\n    ")]),a("form",[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v(t._s(t.$t("form.createIssueForm.title")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",class:{"is-invalid":!t.titleValid},attrs:{id:"title",placeholder:t.$t("form.createIssueForm.title"),required:""},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[t._v("\n          "+t._s(t.$t("form.createIssueForm.validationMessages.titleRequired"))+"\n        ")])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"category"}},[t._v(t._s(t.$t("form.createIssueForm.category")))]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedCategory,expression:"selectedCategory"}],staticClass:"form-control category",class:{"is-invalid":!t.categoryValid},attrs:{id:"category",placeholder:t.$t("form.createIssueForm.title")},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedCategory=e.target.multiple?a:a[0]}}},t._l(t.categories,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0),a("div",{staticClass:"invalid-feedback"},[t._v("\n          "+t._s(t.$t("form.createIssueForm.validationMessages.categoryRequired"))+"\n        ")])]),a("div",{staticClass:"form-group content"},[a("label",{attrs:{for:"content"}},[t._v(t._s(t.$t("form.createIssueForm.content")))]),a("quill-editor",{ref:"myQuillEditor",staticClass:"content__editor",class:{"is-invalid":!t.contentValid},attrs:{id:"content",options:t.editorOption},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),a("div",{staticClass:"invalid-feedback"},[t._v("\n          "+t._s(t.$t("form.createIssueForm.validationMessages.contentRequired"))+"\n        ")]),a("button",{staticClass:"btn btn-primary submit-btn",attrs:{type:"button",disabled:t.submitButtonDisabled&&!1},on:{click:t.submitForm}},[t._v("\n          "+t._s(t.$t("button.submit"))+"\n        ")])],1)])])])},en=[],an={name:"NewIssue",data:function(){return{title:null,content:null,selectedCategory:0,editorOption:{}}},methods:{submitForm:function(){var t=this;if(this.title=null!==this.title?this.title.trim():"",this.selectedCategory=0!==this.selectedCategory?this.selectedCategory:-1,this.content=null!==this.content?this.content.trim():"",this.titleValid&&this.categoryValid&&this.contentValid){var e={title:this.title.trim(),content:this.content,categoryId:Number(this.selectedCategory)};wa.insertIssue(e).then((function(e){e.data&&(t.$emit("openIssue",e.data.id),t.$store.commit("SET_OPEN_ISSUES",[]))})).catch()}}},computed:{submitButtonDisabled:function(){return!!(this.titleValid||this.categoryValid||this.contentValid)},titleValid:function(){return null===this.title||this.title.trim()},categoryValid:function(){return this.selectedCategory>=0},contentValid:function(){return null===this.content||this.content.trim()},categories:function(){return this.$store.state.forum.categories}}},nn=an,rn=(a("25d2"),Object(l["a"])(nn,tn,en,!1,null,"88b19484",null)),on=rn.exports,sn={name:"Forum",components:{IssueList:ja,IssueDetailed:Ja,NewIssue:on},data:function(){return{activeBlock:"list",openIssueId:null}},methods:{openIssue:function(t){this.openIssueId=t,this.activeBlock="detailed"},getCategories:function(){var t=this;wa.getCategories().then((function(e){e.data&&t.$store.commit("SET_CATEGORIES",e.data)})).catch()}},mounted:function(){this.categories.length||this.getCategories()},computed:{categories:function(){return this.$store.state.forum.categories}}},cn=sn,ln=(a("5477"),Object(l["a"])(cn,Ea,Sa,!1,null,null,null)),un=ln.exports,dn={name:"InfoModal",components:{About:aa,FAQ:la,ReleaseNotes:ha,Contact:Oa,Forum:un},props:{isOpen:{required:!0,type:Boolean}},data:function(){return{activeTab:"about"}},computed:{tabs:function(){return[{key:"about",text:this.$t("menu.information.about.title")},{key:"faq",text:this.$t("menu.information.faq")},{key:"releaseNotes",text:this.$t("menu.information.releaseNotes")},{key:"forum",text:this.$t("menu.information.forum.title")},{key:"contact",text:this.$t("menu.information.contactUs.title")}]}},methods:{changeTab:function(t){this.activeTab=t}}},pn=dn,fn=(a("99ac"),Object(l["a"])(pn,Ze,We,!1,null,null,null)),mn=fn.exports,hn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("CustomModal",{attrs:{name:"serviceSelectionModal",title:"Services","min-width":400,minHeight:200},on:{beforeShow:t.onModalOpen,afterShow:t.onModalOpened,afterHide:t.onModalClose}},[a("div",[a("ul",{staticClass:"selection-list text-center"},t._l(t.activeLayers,(function(e,n){return a("li",{key:n,on:{click:function(a){return t.selectItem(e)}}},[a("span",{staticClass:"list-item"},[a("h5",[t._v(t._s(e.name))])])])})),0)])]),t.dataModalVisibility?a("DataModal",{attrs:{layerId:t.selectedLayer.id}}):t._e()],1)},gn=[],bn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("CustomModal",{attrs:{name:"dataModal",minWidth:200,minHeight:200},on:{beforeShow:t.onModalOpen}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("button",{staticClass:"btn btn-primary btn-sm float-right w-100",on:{click:t.showImageUploadModal}},[t._v("\n          Show Files\n        ")])])]),a("div",{staticClass:"row mt-2"},[a("table",{staticClass:"table  text-center"},[a("thead",[a("tr",{staticClass:"fields"},[a("th",{staticClass:"paddingLeft"},[t._v("Field")]),a("th",{staticClass:"paddingRight"},[t._v("Value")])])]),a("tbody",{staticClass:"popupTableBody"},t._l(t.data,(function(e,n){return a("tr",{key:n},[a("td",{staticClass:"paddingLeft"},[t._v(t._s(n))]),a("td",{staticClass:"paddingRight"},[t._v(t._s(e))])])})),0)])])]),a("ImageUploadModal",{attrs:{gid:t.gid,layerId:t.layerId}})],1)},vn=[],yn={name:"DataModal",components:{ImageUploadModal:q},props:{layerId:{type:Number,required:!0}},methods:{onModalOpen:function(){},showImageUploadModal:function(){R["g"].showImageUploadModal()}},computed:{data:function(){return R["j"].getInfoData()},gid:function(){return this.data["gid"]}}},Cn=yn,_n=Object(l["a"])(Cn,bn,vn,!1,null,null,null),On=_n.exports,En={name:"ServiceSelectionModal",components:{DataModal:On},data:function(){return{activeLayers:[],selectedLayer:null}},computed:{dataModalVisibility:function(){return null!==this.selectedLayer},clickedCoordinate:function(){return R["e"].getClickedCoordinate()},clickedPixel:function(){return R["e"].getClickedPixel()}},methods:{onModalOpen:function(){this.activeLayers=R["d"].getSelectedDyanmics()},onModalOpened:function(){0==this.activeLayers.length&&R["g"].hideServiceSelectionModal(),1==this.activeLayers.length&&(R["g"].hideServiceSelectionModal(),this.selectItem(this.activeLayers[0]))},onModalClose:function(){},selectItem:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,R["j"].getGeometryData(e.id,this.clickedCoordinate).then((function(t){var n=t.data.features[0].attributes;ut["a"].isEmpty(n)?a.$toasted.show("Data Not Exist In This Coordinate!",{theme:"bubble",icon:{name:"fas fa-exclamation"}}):new Promise((function(t){a.selectedLayer=e,R["j"].setInfoData(n),t()})).then((function(t){R["g"].showDataModal(),R["e"].focusToServicePolygon(e.id,a.clickedPixel)})),R["g"].hideServiceSelectionModal()}));case 2:t.sent;case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},Sn=En,wn=(a("6b86"),Object(l["a"])(Sn,hn,gn,!1,null,"581109cf",null)),Tn=wn.exports,Ln=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("CustomModal",{attrs:{name:"filterModal",title:t.$t("form.filterForm.modalTitle"),maxWidth:600}},[a("div",{staticClass:"data-table__filter"},[a("div",{staticClass:"row form-group"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"filter__tabs"},t._l(t.tabs,(function(e){return a("div",{key:e.id,staticClass:"tab",class:{"tab--active":t.activeTabId===e.id},on:{click:function(a){t.activeTabId=e.id}}},[t._v("\n              "+t._s(e.name)+"\n            ")])})),0)])]),a("div",{staticClass:"row form-group"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"filter__fields"},[a("div",{staticClass:"filter__fields__columns"},[a("h5",[t._v(t._s(t.$t("form.filterForm.columns")))]),a("ul",{staticClass:"filter__fields__list custom-scrollbar"},t._l(t.tableHeaders,(function(e,n){return a("li",{key:n,staticClass:"list__item",on:{dblclick:function(a){return t.appendFilterQuery(e,!1)},click:function(a){return t.getFilterColumnValues(e)}}},[t._v("\n                  "+t._s(e)+"\n                ")])})),0)]),a("div",{staticClass:"filter__fields__values"},[a("h5",[t._v(t._s(t.$t("form.filterForm.values")))]),a("ul",{staticClass:"filter__fields__list custom-scrollbar"},t._l(t.filterValues,(function(e,n){return a("li",{key:n,staticClass:"list__item",on:{dblclick:function(a){return t.appendFilterQuery(e,!0)}}},[t._v("\n                  "+t._s(e)+"\n                ")])})),0)])])])]),a("div",{staticClass:"row form-group"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"filter__actions"},t._l(t.actionsList,(function(e){return a("div",{key:e},[a("button",{staticClass:"btn btn-sm btn-outline-secondary",on:{click:function(a){return t.appendFilterQuery(e,!1)}}},[t._v("\n                "+t._s(e)+"\n              ")])])})),0)])]),a("div",{staticClass:"row form-group"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"filter__query"},[a("label",{staticClass:"title"},[t._v("SELECT * FROM table WHERE:")]),t._v("\n            "+t._s(t.activeTabQuery)+"\n            "),a("textarea",{ref:"filterQueryTextarea",attrs:{name:"filterQuery",rows:"4",cols:"69"},domProps:{value:t.activeTabQuery},on:{input:t.handleQueryChange}})])]),a("div",{staticClass:"col-md-12"},[t.favoriteQueryModalVisibility?a("button",{staticClass:"btn btn-success btn-sm float-right",attrs:{type:"button",disabled:!(t.isQueryExist&&t.activeTabId)},on:{click:t.showFavoriteQueryModal}},[t._v("\n            "+t._s(t.$t("form.filterForm.addFavoriteQuery"))+"\n          ")]):t._e()])]),a("div",{staticClass:"row form-group"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.extentOptionsVisibility,expression:"extentOptionsVisibility"}],staticClass:"col-md-6"},[a("b",[t._v("\n            "+t._s(t.$t("form.filterForm.extentOptions"))+"\n            "),a("span",{staticStyle:{"font-size":"0.9rem"}},[t._v("\n              ( "+t._s(t.$t("form.filterForm.isExist"))+" :\n              "),t.isExtentAreaExist?a("span",{staticClass:"badge badge-success"},[t._v("\n                true\n              ")]):a("span",{staticClass:"badge badge-danger"},[t._v("\n                false\n              ")]),t._v("\n              )\n            ")])]),a("div",{staticClass:"btn-group btn-group-toggle btn-group-sm",attrs:{role:"group","aria-label":"Basic example"}},[a("label",{staticClass:"btn  btn-info ",class:{active:t.isExtentAreaExist&&t.extentType==t.drawTypeEnum.SQUARE}},[a("input",{attrs:{type:"radio",name:"options"},domProps:{value:t.drawTypeEnum.SQUARE},on:{click:t.drawTypeOnChange}}),a("img",{attrs:{src:t.icons.square}})]),a("label",{staticClass:"btn  btn-info ",class:{active:t.isExtentAreaExist&&t.extentType==t.drawTypeEnum.BOX}},[a("input",{attrs:{type:"radio",name:"options"},domProps:{value:t.drawTypeEnum.BOX},on:{click:t.drawTypeOnChange}}),a("img",{attrs:{src:t.icons.rectangle}})]),a("label",{staticClass:"btn  btn-info ",class:{active:t.isExtentAreaExist&&t.extentType==t.drawTypeEnum.POLYGON}},[a("input",{attrs:{type:"radio",name:"options"},domProps:{value:t.drawTypeEnum.POLYGON},on:{click:t.drawTypeOnChange}}),a("img",{attrs:{src:t.icons.polygon}})]),t.circleButtonVisibility?a("label",{staticClass:"btn  btn-info ",class:{active:t.isExtentAreaExist&&t.extentType==t.drawTypeEnum.CIRCLE}},[a("input",{attrs:{type:"radio",name:"options"},domProps:{value:t.drawTypeEnum.CIRCLE},on:{click:t.drawTypeOnChange}}),a("img",{attrs:{src:t.icons.circle}})]):t._e()])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.reportCheckboxVisibility,expression:"reportCheckboxVisibility"}],staticClass:"col-md-6"},[a("b",[t._v(t._s(t.$t("form.filterForm.sumReportOptions")))]),a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isSumFilter,expression:"isSumFilter"}],attrs:{type:"checkbox",id:"isSum"},domProps:{checked:Array.isArray(t.isSumFilter)?t._i(t.isSumFilter,null)>-1:t.isSumFilter},on:{change:function(e){var a=t.isSumFilter,n=e.target,i=!!n.checked;if(Array.isArray(a)){var r=null,o=t._i(a,r);n.checked?o<0&&(t.isSumFilter=a.concat([r])):o>-1&&(t.isSumFilter=a.slice(0,o).concat(a.slice(o+1)))}else t.isSumFilter=i}}}),a("label",{staticClass:"ml-1"},[t._v("\n                  "+t._s(t.$t("form.filterForm.isSum"))+"\n                ")])]),a("div",{staticClass:"col-md-6"},[t.isSumFilter?a("select",{directives:[{name:"model",rawName:"v-model",value:t.sumFilterColumn,expression:"sumFilterColumn"}],staticClass:"form-control form-control-sm",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.sumFilterColumn=e.target.multiple?a:a[0]}}},t._l(t.tableHeaders,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v("\n                    "+t._s(e)+"\n                  ")])})),0):t._e()])])])])]),a("div",{staticClass:"row form-group"},[a("div",{staticClass:"col-md-12"},[a("button",{staticClass:"btn btn-primary float-right",on:{click:t.applyFilter}},[t._v("\n            ( "+t._s(t.$t("button.apply"))+"\n          ")])])])])]),t.favoriteQueryModalVisibility&&t.isQueryExist&&t.activeTabId?a("FavoriteQueryModal",{attrs:{query:t.activeTabQuery,layerId:t.activeTabId}}):t._e()],1)},kn=[],In={name:"FilterModal",components:{FavoriteQueryModal:function(){return Promise.resolve().then(a.bind(null,"4882"))}},data:function(){return{actionsList:["=",">",">=","<","<=","<>","AND","OR","LIKE","IS NULL"],filterValues:[],currentTabId:null,selectedColumn:"gid",icons:{},tableHeaders:[],extentType:null,drawTypeEnum:null}},created:function(){this.icons=Z["b"],this.drawTypeEnum=W["b"]},mounted:function(){this.extentType=this.drawTypeEnum.NONE},methods:{showFavoriteQueryModal:function(){R["g"].showFavoriteQueryModal()},setTableHeaders:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,w["a"].getTableHeaders(e);case 2:a=t.sent,this.tableHeaders=a.data.columns.map((function(t){return t.columnName}));case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),drawTypeOnChange:function(t){var e=this,a=t.target.value,n={id:this.activeService.id,type:this.activeService.type};if(R["k"].deleteServiceFeatures(this.activeService.id),this.extentType==a)this.extentType=W["b"].NONE,R["i"].setExtentCoordinates(this.activeService,"");else{R["g"].hideFilterModal(),R["j"].setTableUnvisible();var i={forService:n};R["k"].pickDrawType(a,(function(){R["g"].showFilterModal(),e.extentType=a;var t=e.bbox;R["i"].setExtentCoordinates(e.activeService,JSON.stringify(t)),R["k"].pickDrawType(e.drawTypeEnum.NONE),R["j"].setTableVisible(),R["b"].setIsRequiredServiceRefresh(!0)}),i)}},handleQueryChange:function(t){var e=t.target.value;""===e&&(e=" "),this.activeTabQuery=e},isValString:function(t){return"string"==typeof t},appendFilterQuery:function(t,e){e&&this.isValString(t)&&(t="'".concat(t,"'")),this.activeTabQuery=this.activeTabQuery+t+" ",this.$refs.filterQueryTextarea.focus()},applyFilter:function(){R["j"].getTable(this.activeService),this.$moodal.filterModal.hide()},getFilterColumnValues:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,R["b"].getFilterColumnValues(this.activeTabId,e);case 2:this.filterValues=t.sent;case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},computed:{favoriteQueryModalVisibility:function(){return $["h"].isDynamicFromLocal(this.activeService)},isQueryExist:function(){return this.activeTabQuery&&""!==this.activeTabQuery.trim()&&this.activeTabQuery.length>0},isExtentAreaExist:function(){var t=this.activeService,e=$["h"].isBunch(t),a=!1;if(t)if(e){var n=R["a"].getExtentCoordinates(t.id);a=n.some((function(t){return null!==t&&""!==t}))}else{n=R["d"].getExtentCoordinates(t.id);a=null!==n&&""!==n}return this.extentType!==W["b"].NONE&&a},circleButtonVisibility:function(){return!$["h"].isBunch(this.activeService)},reportCheckboxVisibility:function(){return this.activeService&&$["h"].isLayer(this.activeService)},extentOptionsVisibility:function(){return this.activeService&&($["h"].isLayer(this.activeService)||$["h"].isBunch(this.activeService))},tabs:function(){var t=[];if(this.activeService){var e=$["h"].isBunch(this.activeService);t=e?this.activeService.layers.map((function(t){return{id:t.id,name:t.name}})):[{id:this.activeService.id,name:this.activeService.name}]}return t},activeTabId:{get:function(){return this.$store.state.dataTable.activeTabId},set:function(t){this.$store.dispatch("SAVE_DATATABLE_ACTIVE_TAB_ID",t)}},activeService:function(){return R["j"].getTableActiveService()},activeTabService:function(){if(!this.activeService)return null;var t=$["h"].isBunch(this.activeService),e=null;return this.activeTab&&(e=t?R["a"].getBunchLayer(this.activeService.id,this.activeTabId):R["d"].getDynamicLayer(this.activeTabId)),e},activeTabQuery:{get:function(){var t="",e=this.activeService;if(!e||!this.activeTabId)return t;var a=R["i"].getDynamicService(e,this.activeTabId);return t=a?a.query.where:"",t},set:function(t){if(t){var e=this.activeService,a=$["h"].isBunch(e);a?R["i"].setQuery(e,t,this.activeTabId):R["i"].setQuery(e,t),R["b"].setIsRequiredServiceRefresh(!0)}}},isSumFilter:{get:function(){return this.$store.getters.isSumFilter},set:function(t){return t&&this.$store.dispatch("saveSumFilterColumn",this.tableHeaders[0]),this.$store.dispatch("saveIsSumFilter",t)}},sumFilterColumn:{get:function(){var t=this.$store.getters.sumFilterColumn;return t},set:function(t){return this.$store.dispatch("saveSumFilterColumn",t)}},bbox:{get:function(){return R["k"].getBbox()},set:function(t){R["k"].setBbox(t)}}},watch:{activeTabId:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.setTableHeaders(e);case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},An=In,xn=Object(l["a"])(An,Ln,kn,!1,null,null,null),Dn=xn.exports,jn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CustomModal",{attrs:{name:"printModal",title:t.$t("form.printForm.modalTitle"),width:"50%",minHeight:500},on:{beforeShow:t.onModalOpen,afterHide:t.onModalClose}},[a("form",[a("div",{staticClass:"row",attrs:{id:"mapPrint"}},[a("div",{staticClass:"col-md-12"},[a("h3",{staticClass:"text-center"},[t._v(t._s(t.$t("form.printForm.options")))])]),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row mb-3 option-content",class:{"disable-content":!t.hasTitle}},[a("div",{staticClass:"col-md-1 align-self-center"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.hasTitle,expression:"hasTitle"}],staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.hasTitle)?t._i(t.hasTitle,null)>-1:t.hasTitle},on:{change:function(e){var a=t.hasTitle,n=e.target,i=!!n.checked;if(Array.isArray(a)){var r=null,o=t._i(a,r);n.checked?o<0&&(t.hasTitle=a.concat([r])):o>-1&&(t.hasTitle=a.slice(0,o).concat(a.slice(o+1)))}else t.hasTitle=i}}})]),a("div",{staticClass:"col-md-11"},[a("label",{staticClass:"d-block"},[t._v(t._s(t.$t("form.printForm.title")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:t.$t("form.printForm.title"),disabled:!t.hasTitle},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})])]),a("div",{staticClass:"row mb-3",class:{"disable-content":!t.hastScale}},[a("div",{staticClass:"col-md-1 align-self-center"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.hastScale,expression:"hastScale"}],staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.hastScale)?t._i(t.hastScale,null)>-1:t.hastScale},on:{change:function(e){var a=t.hastScale,n=e.target,i=!!n.checked;if(Array.isArray(a)){var r=null,o=t._i(a,r);n.checked?o<0&&(t.hastScale=a.concat([r])):o>-1&&(t.hastScale=a.slice(0,o).concat(a.slice(o+1)))}else t.hastScale=i}}})]),a("div",{staticClass:"col-md-11"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"d-block"},[t._v(t._s(t.$t("form.printForm.scale")))]),a("span",[a("small",[a("strong",[t._v(" "+t._s(t.currentResolution))])])])])])]),a("div",{staticClass:"row mb-3",class:{"disable-content":!t.hasExtent}},[a("div",{staticClass:"col-md-1 align-self-center"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.hasExtent,expression:"hasExtent"}],staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.hasExtent)?t._i(t.hasExtent,null)>-1:t.hasExtent},on:{change:function(e){var a=t.hasExtent,n=e.target,i=!!n.checked;if(Array.isArray(a)){var r=null,o=t._i(a,r);n.checked?o<0&&(t.hasExtent=a.concat([r])):o>-1&&(t.hasExtent=a.slice(0,o).concat(a.slice(o+1)))}else t.hasExtent=i}}})]),a("div",{staticClass:"col-md-11"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"d-block"},[t._v(t._s(t.$t("form.printForm.coordinate")))]),a("span",[a("small",[a("strong",[t._v(" "+t._s(t.currentExtent))])])])])])])]),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn btn-success float-right",attrs:{type:"button"},on:{click:t.print}},[t._v("\n            "+t._s(t.$t("button.print"))+"\n          ")])])])])])])},Pn=[],Mn=(a("4917"),a("28a5"),a("8baf")),Rn={name:"PrintModal",data:function(){return{title:"",hasTitle:!0,hasExtent:!0,hastScale:!0,hasTime:!0,hasLogo:!0,dims:{a0:[1189,841],a1:[841,594],a2:[594,420],a3:[420,297],a4:[297,210],a5:[210,148]},pdfDims:{a4:[595.28,841.89]},format:"a4",resolution:"72",base64img:"",padding:22,headerFontSize:22,subHeaderFontSize:22,contentFontSize:22,logo:Z["c"],compass:Z["a"]}},computed:{dim:function(){return this.dims[this.format]},currentExtent:function(){return R["e"].getCurrentExtent()},currentResolution:function(){return R["e"].getCurrentResolution().toFixed(2)},imageWidth:function(){return Math.round(this.dim[0]*this.resolution/25.4)},imageHeight:function(){return Math.round(this.dim[1]*this.resolution/25.4)}},methods:{onModalOpen:function(){var t=this,e=this.imageWidth,a=this.imageHeight,n=R["e"].getMap(),i=n.getSize(),r=n.getView().getResolution();n.once("rendercomplete",(function(){var o=document.createElement("canvas");o.width=e,o.height=a;var s=o.getContext("2d");Array.prototype.forEach.call(document.querySelectorAll(".ol-layer canvas"),(function(t){if(t.width>0){var e=t.parentNode.style.opacity;s.globalAlpha=""===e?1:Number(e);var a=t.style.transform,n=a.match(/^matrix\(([^\(]*)\)$/)[1].split(",").map(Number);CanvasRenderingContext2D.prototype.setTransform.apply(s,n),s.drawImage(t,0,0)}})),t.base64img=o.toDataURL("image/png"),n.setSize(i),n.getView().setResolution(r),document.body.style.cursor="auto"}));var o=[e,a];n.setSize(o);var s=Math.min(e/i[0],a/i[1]);n.getView().setResolution(r/s)},onModalClose:function(){},print:function(){var t=new Mn["a"]({format:this.format}),e=t.internal.pageSize.width,a=t.internal.pageSize.height,n=e/2,i=20,r=14,o=10,s=69,c=e-20,l=a-80,u=8,d=20,p=8,f=20,m=8,h=20,g=a-20,b=20,v=100,y=10,C=10,_=40,O=8,E=20,S=20,w=o+c-(10+E),T=75;this.hasTitle&&(t.setFontSize(r),t.text(this.title,n,i,{align:"center",maxWidth:80}));var L=g;if(this.hastScale){var k=this.$t("form.printForm.scale");L-=10,t.setFontSize(u),t.text("".concat(k," : ")+this.currentResolution+" km",d,L)}if(this.hasExtent){var I=this.$t("form.printForm.coordinate");L-=10,t.setFontSize(p),t.text("".concat(I," : "),f,L),t.setFontSize(p-1),t.text(this.currentExtent.join(" , "),f+t.getTextWidth(I)+5,L)}t.setFontSize(m);var A=new Date,x=this.$t("general.date"),D=this.$t("general.time"),j="".concat(x," : ")+A.getDate()+"/"+(A.getMonth()+1)+"/"+A.getFullYear()+"  ".concat(D," : ")+A.getHours()+":"+A.getMinutes()+":"+A.getSeconds();t.text(j,h,g),t.rect(o,s,c,l),t.addImage(this.logo,"PNG",y,C,_,O),t.addImage(this.compass,"PNG",w,T,E,S),console.log(t.getTextWidth("sa"));var P=this.imageWidth,M=this.imageHeight,R=e/P,B=a/M,F=R>B?B:R,N=P*F,$=M*F;t.addImage(this.base64img,"PNG",b,v,N-40,$-20),t.autoPrint(),window.open(t.output("bloburl"))}}},Bn=Rn,Fn=(a("9490"),Object(l["a"])(Bn,jn,Pn,!1,null,"53333a10",null)),Nn=Fn.exports,$n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CustomModal",{attrs:{name:"computedLayerModal",title:t.$t("form.bunchLayerForm.modalTitle"),width:400,minHeight:300}},[t.loading?a("Loader"):t._e(),a("div",[a("form",[a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-md-12"},[a("div",{ref:"computedForm",staticClass:"form-group"},[a("label",{attrs:{for:"label"}},[t._v(t._s(t.$t("form.bunchLayerForm.label")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.label,expression:"data.label"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&!t.$v.data.label.required},attrs:{type:"text",placeholder:t.$t("form.bunchLayerForm.label"),id:"label"},domProps:{value:t.data.label},on:{input:function(e){e.target.composing||t.$set(t.data,"label",e.target.value)}}}),t.submitted&&!t.$v.data.label.required?a("div",{staticClass:"invalid-feedback"},[t._v("\n              "+t._s(t.$t("form.bunchLayerForm.validationMessages.labelRequired"))+"\n            ")]):t._e()])]),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"layers"}},[t._v(t._s(t.$t("form.bunchLayerForm.layers")))]),a("treeselect",{class:{"is-invalid":t.submitted&&!t.$v.data.layers.required},attrs:{multiple:!0,"show-count":!0,options:t.dynamicOptions,placeholder:t.$t("form.bunchLayerForm.layers"),limit:4,"disable-branch-nodes":!0,"search-nested":""},model:{value:t.data.layers,callback:function(e){t.$set(t.data,"layers",e)},expression:"data.layers"}}),t.submitted&&!t.$v.data.layers.required?a("div",{staticClass:"invalid-feedback"},[t._v("\n              "+t._s(t.$t("form.bunchLayerForm.validationMessages.layersRequired"))+"\n            ")]):t._e()],1)]),a("div",{staticClass:"col-md-12"},[a("button",{staticClass:"btn btn-primary float-right",attrs:{type:"button"},on:{click:t.add}},[t._v("\n            "+t._s(t.$t("button.add"))+"\n          ")])])])])])],1)},Gn=[],Vn=a("ca17"),Un=a.n(Vn),Hn=(a("542c"),{name:"ComputedLayersModal",components:{Multiselect:S.a,Treeselect:Un.a},updated:function(){this.dynamicOptons},data:function(){return{value:null,loading:!1,submitted:!1,data:{label:"",layers:[]}}},validations:{data:{label:{required:va["required"]},layers:{required:va["required"]}}},methods:{resetData:function(){this.data={label:"",layers:[]}},add:function(){var t=this;this.submitted=!0,this.$v.$touch(),this.$v.$invalid||(this.loading=!0,Nt["a"].add(this.data).then((function(e){R["a"].add(e.data),t.resetData(),t.$moodal.computedLayerModal.hide()})).finally((function(){t.loading=!1})))}},computed:{dynamicOptions:function(){var t=R["d"].getDynamicLayerAsTreeSelect();return t}}}),zn=Hn,qn=(a("7b02"),Object(l["a"])(zn,$n,Gn,!1,null,null,null)),Qn=qn.exports,Yn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CustomModal",{attrs:{name:"changeDetectionModal",title:"Change detection",width:800,minHeight:400},on:{afterHide:function(e){return t.$emit("close")}}},[a("div",{staticClass:"row form-group"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"detector"},[a("treeselect",{attrs:{multiple:!0,"show-count":!0,options:t.baseOptions,limit:4,valueFormat:"object","disable-branch-nodes":!0,"search-nested":""},model:{value:t.selectedLayers,callback:function(e){t.selectedLayers=e},expression:"selectedLayers"}}),a("div",{staticClass:"detector-list row"},t._l(t.exportedImages,(function(e,n){return a("div",{key:n,staticClass:"detector-list-item col-md-4"},[a("p",[t._v(t._s(e.label))]),a("div",{staticClass:"image-wrapper"},[a("img",{attrs:{src:e.image}})])])})),0)],1)])])])},Zn=[],Wn=(a("ac4d"),a("8a81"),{components:{Treeselect:Un.a},data:function(){return{selectedLayers:[],exportedImages:[]}},watch:{selectedLayers:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){var a,n,i,r,o,s,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(this.exportedImages=[],a=$["f"].bboxToExtent(this.bbox),n=!0,i=!1,r=void 0,t.prev=5,o=e[Symbol.iterator]();!(n=(s=o.next()).done);n=!0)c=s.value,l=$["i"].getImageUrl(c.label,a,W["e"].ARCGIS),this.exportedImages.push({image:l,label:c.label});t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](5),i=!0,r=t.t0;case 13:t.prev=13,t.prev=14,n||null==o.return||o.return();case 16:if(t.prev=16,!i){t.next=19;break}throw r;case 19:return t.finish(16);case 20:return t.finish(13);case 21:case"end":return t.stop()}}),t,this,[[5,9,13,21],[14,,16,20]])})));function e(e){return t.apply(this,arguments)}return e}()},computed:{baseOptions:function(){var t=R["d"].getBasemapLayerAsTreeSelect();return t},bbox:function(){return R["k"].getBbox()}}}),Kn=Wn,Xn=Object(l["a"])(Kn,Yn,Zn,!1,null,null,null),Jn=Xn.exports,ti=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CustomModal",{attrs:{name:"ndviAssessmentModal",title:t.$t("form.ndviAssesmentForm.modalTitle"),width:"95%",minHeight:400},on:{beforeShow:t.onModalOpen,afterHide:t.onModalClose}},[a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"ndvis"}},[t._v(t._s(t.$t("form.ndviAssesmentForm.layers")))]),a("div",{staticClass:"d-block"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-9 p-0"},[a("Multiselect",{staticStyle:{display:"inline-block"},attrs:{id:"ndvis",placeholder:"Select Ndvis",options:t.options,multiple:!0,"close-on-select":!1,"custom-label":t.ndviCustomLabel,label:"ndvi","track-by":"ndvi"},on:{input:t.onChange},model:{value:t.selectedNdvis,callback:function(e){t.selectedNdvis=e},expression:"selectedNdvis"}})],1),a("div",{staticClass:"col-md-3 p-0 ",class:{active:t.isPointExist}},[a("div",{staticClass:"text-center"},[a("div",{staticClass:"btn-group-toggle",attrs:{"data-toggle":"buttons"}},[a("label",{staticClass:"btn btn-info  mr-2",attrs:{title:t.$t("form.ndviAssesmentForm.pickPoint")}},[a("input",{attrs:{type:"checkbox",name:"pointSelectionBtn"},domProps:{value:t.drawTypeEnum.POINT},on:{click:t.onPointSelection}}),a("img",{attrs:{src:t.icons.point}})]),a("label",{staticClass:"btn   mr-2",class:{active:t.isPointExist,"btn-success":!t.isBasemapsShowing,"btn-danger":t.isBasemapsShowing},attrs:{title:t.isBasemapsShowing?t.$t("form.ndviAssesmentForm.hideBasemaps"):t.$t("form.ndviAssesmentForm.showBasemaps")}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isBasemapsShowing,expression:"isBasemapsShowing"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isBasemapsShowing)?t._i(t.isBasemapsShowing,null)>-1:t.isBasemapsShowing},on:{change:function(e){var a=t.isBasemapsShowing,n=e.target,i=!!n.checked;if(Array.isArray(a)){var r=null,o=t._i(a,r);n.checked?o<0&&(t.isBasemapsShowing=a.concat([r])):o>-1&&(t.isBasemapsShowing=a.slice(0,o).concat(a.slice(o+1)))}else t.isBasemapsShowing=i}}}),t._v("\n                      "+t._s(t.isBasemapsShowing?t.$t("form.ndviAssesmentForm.hideBasemaps"):t.$t("form.ndviAssesmentForm.showBasemaps"))+"\n                    ")])])])])]),t.isPointExist?a("small",{staticClass:"form-text text-muted"},[t._v("\n              Point Location | x : "+t._s(t.pointCoordinates[0])+" , y :\n              "+t._s(t.pointCoordinates[1])+"\n            ")]):t._e()])])])]),a("div",{staticStyle:{display:"flex","flex-direction":"row","justify-content":"space-around","align-items":"baseline"}},t._l(t.selectedNdvis,(function(e,n){return a("div",{key:n,staticStyle:{margin:"0px 10px",padding:"10px","background-color":"#cccccc33"}},[a("div",{staticStyle:{margin:"5px 0px"}},[a("h5",{staticClass:"text-center"},[t._v(t._s(e.ndvi.name))]),a("img",{staticClass:"img-responsive mw-100",attrs:{src:t.getImgUrl(e.ndvi)}})]),a("div",{class:{"d-none":!t.isBasemapsShowing},staticStyle:{display:"flex","flex-direction":"column"}},t._l(e.basemaps,(function(e,n){return a("div",{key:n},[a("div",{staticStyle:{margin:"5px 0px"}},[a("h6",{staticClass:"text-center"},[t._v(t._s(e.name))]),a("img",{staticClass:"img-responsive mw-100",attrs:{src:t.getImgUrl(e)}})])])})),0)])})),0),a("div",{staticClass:"row"},[t.isChartVisible?a("div",{staticClass:"col-md-12"},[a("line-chart",{attrs:{"chart-data":t.chartData,options:t.chartOptions,height:100}})],1):t._e()])])])},ei=[],ai={getNdvis:function(){return B["a"].get(P["k"].GET_ALL)},getNdviValue:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e,a,n){var i,r,o,s,c,l,u,d,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getNdviInfo(e);case 2:return i=t.sent,console.log("getNdviValue -> infoResponse",i),r=i.data.fullExtent,o={xmin:r.xmin,ymin:r.ymin,xmax:r.xmax,ymax:r.ymax},s={geometry:" ".concat(a,", ").concat(n),geometryType:"esriGeometryPoint",mapExtent:JSON.stringify(o),tolerance:0,time:4,geometryPrecision:4,imageDisplay:50,returnGeometry:!1,returnCatalogItems:!1,f:"pjson"},c="".concat(P["b"].SERVICE_URl,"/").concat(e,"/Identify?").concat($["i"].formatQueryString(s)),t.next=10,B["a"].get(c);case 10:return l=t.sent,u=l.data.results,d=u[0].attributes,p={red:ut["a"].isUndefined(d["Red"])?0:d["Red"],green:ut["a"].isUndefined(d["Green"])?0:d["Green"],blue:ut["a"].isUndefined(d["Blue"])?0:d["Blue"],alpha:ut["a"].isUndefined(d["Alpha"])?0:d["Alpha"]},t.abrupt("return",p);case 15:case"end":return t.stop()}}),t,this)})));function e(e,a,n){return t.apply(this,arguments)}return e}(),getNdviInfo:function(t){var e={token:M["c"].getToken(),f:"json"},a="".concat(P["b"].SERVICE_URl,"/").concat(t,"/info?").concat($["i"].formatQueryString(e));return B["a"].get(a)}},ni=a("778c"),ii=a("1fca"),ri=ii["b"].reactiveProp,oi={extends:ii["a"],mixins:[ri],props:["options"],mounted:function(){this.renderChart(this.chartData,this.options)}},si={components:{Multiselect:S.a,LineChart:oi},props:{visible:{type:Boolean}},data:function(){return{icons:Z["b"],drawTypeEnum:W["b"],options:[],selectedNdvis:[],chartData:null,isPointValueExist:!1,chartOptions:{title:{display:!0,text:"Ndvi Data"}},pointCoordinates:null,isModalHidingForPoint:!1,isCalculating:!1,isBasemapsShowing:!0}},mounted:function(){this.getNdvis()},methods:{resetData:function(){this.selectedNdvis=[],this.chartData=null,this.pointCoordinates=null,this.isModalHidingForPoint=!1},getNdvis:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ai.getNdvis();case 2:e=t.sent,a=e.data,a=a.map((function(t){return t.basemaps=t.basemaps.map((function(t){return $["e"].basemapMapping(t)})),t.ndvi=$["e"].basemapMapping(t.ndvi),t})),this.options=a;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onPointSelection:function(t){var e=this,a=t.target.value;this.isModalHidingForPoint=!0,R["g"].hideNdviAssessmentModal(),R["k"].pickDrawType(a,(function(){R["g"].showNdviAssessmentModal(),e.isModalHidingForPoint=!1,e.pointCoordinates=e.bbox,e.buildGraph(),R["k"].pickDrawType(W["b"].NONE)}))},onChange:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isPointExist){t.next=3;break}return t.next=3,this.buildGraph();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),calculateGraphData:function(t){var e=this,a=[],n=0;return new Promise((function(i,r){t.forEach(function(){var r=Object(_["a"])(regeneratorRuntime.mark((function r(o){var s,c,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=e.pointCoordinates[0],c=e.pointCoordinates[1],r.next=4,ai.getNdviValue(o.ndvi.name,s,c);case 4:l=r.sent,a.push({value:l,label:o.ndvi.name,service:o}),n++,n===t.length&&i(a);case 8:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}())}))},calculateNdviValue:function(t,e,a,n){return(n-t)/(n+t)},orderGraphDataBySelecteds:function(t,e){var a=[];return t.forEach((function(t){var n=e.find((function(e){return e.service.ndvi.name==t.ndvi.name}));n&&a.push(n)})),a},buildGraph:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.isCalculating=!0,e=this.selectedNdvis,this.calculateGraphData(e).then((function(t){var n=a.orderGraphDataBySelecteds(e,t),i=[],r=[];n.forEach((function(t){var e=t.value,n=e.red,o=e.green,s=e.blue,c=e.alpha,l=a.calculateNdviValue(n,o,s,c);i.push(l),r.push(t.label)}));var o={label:"NDVI Index Value",borderColor:"rgba(50, 115, 220, 0.5)",backgroundColor:"rgba(50, 115, 220, 0.1)",data:i};a.chartData={labels:r,datasets:[o]},a.isCalculating=!1}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),ndviCustomLabel:function(t){return t.ndvi.name},getImgUrl:function(t){var e=ni["a"],a=$["f"].bboxToExtent(R["h"].getNdviExtent());e["token"]=M["c"].getToken(),e["bbox"]=a.toString();var n=P["b"].EXPORT_IMAGE_URL(t.name,e);return n},onModalOpen:function(){if(!this.isModalHidingForPoint){R["k"].getBbox();R["h"].setNdviExtent(R["k"].getBbox())}},onModalClose:function(){this.isModalHidingForPoint||this.resetData(),this.$emit("close")}},computed:{bbox:function(){return R["k"].getBbox()},isChartVisible:function(){return!this.isCalculating&&this.chartData&&this.chartData.labels.length>0&&this.isPointExist},isPointExist:function(){return this.pointCoordinates&&this.pointCoordinates.length>0}}},ci=si,li=Object(l["a"])(ci,ti,ei,!1,null,null,null),ui=li.exports,di=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CustomModal",{attrs:{name:"comparerModal",title:"Swap Image",width:"50%",minHeight:500},on:{beforeShow:t.onModalOpen,afterHide:t.onModalClose}},[a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-9"},[a("v-select",{attrs:{multiple:"",placeholder:"Choose up to 2 basemaps!",options:t.basemaps,selectable:function(){return t.selecteds.length<2}},on:{input:t.onChange},model:{value:t.selecteds,callback:function(e){t.selecteds=e},expression:"selecteds"}}),a("span",{staticClass:"text-muted form-text",staticStyle:{"font-size":"0.7rem"}},[t._v("Extent Area : "+t._s(JSON.stringify(t.extent)))])],1),a("div",{staticClass:"col-md-3"},[a("button",{staticClass:"btn btn-info btn-sm mr-2",attrs:{type:"button"},on:{click:t.onExtentClick}},[a("img",{attrs:{src:t.icons.square}})]),a("button",{staticClass:"btn btn-info btn-sm mr-2",attrs:{type:"button"},on:{click:t.changeRotation}},[a("img",{attrs:{src:t.icons.swap}})])])]),a("div",{staticClass:"row juxtapose-container"},[a("div",{staticClass:"col-md-12"},[t.juxtapose?a("div",{staticClass:"juxtapose",attrs:{id:"juxtapose"}}):t._e()])])])])},pi=[],fi=(a("a0fb"),a("83c1")),mi=a.n(fi),hi={name:"ComparerModal",components:{VueCompareImage:mi.a},data:function(){return{drawTypeEnum:W["b"],icons:Z["b"],extent:null,selecteds:[],leftImage:"",rightImage:"",isModalHideForExtent:!1,juxtapose:null,isVertical:!0,juxtaposeOptions:{animate:!0,showLabels:!1,showCredits:!1,makeResponsive:!0,mode:"vertical"}}},computed:{selectedBasemaps:function(){return basemaps},basemaps:function(){var t=R["d"].getBaseLayersWithoutCategory().map((function(t){return{code:t.id,label:t.name}}));return t},bbox:function(){return R["k"].getBbox()}},methods:{removeElementsByClass:function(t){var e=document.getElementsByClassName(t);while(e.length>0)e[0].parentNode.removeChild(e[0])},renderJuxtapose:function(){this.juxtapose=!1,this.removeElementsByClass("jx-slider"),this.leftImage&&this.rightImage&&(this.isVertical?this.juxtaposeOptions["mode"]="vertical":this.juxtaposeOptions["mode"]="horizontal",this.juxtapose=new juxtapose.JXSlider("#juxtapose",[{src:this.leftImage},{src:this.rightImage}],this.juxtaposeOptions))},onExtentClick:function(){var t=this;R["g"].hideComparerModal(),this.isModalHideForExtent=!0;var e={name:"comparermodal"};R["k"].deleteFeatureByName("comparermodal"),R["k"].pickDrawType(W["b"].BOX,(function(){R["g"].showComparerModal(),t.extent=$["f"].bboxToExtent(t.bbox),t.isModalHideForExtent=!1,t.reload()}),e)},onModalOpen:function(){this.isModalHideForExtent||(this.extent=R["e"].getCurrentExtent(),this.selecteds=R["d"].getSelectedBasemaps().map((function(t){return{code:t.id,label:t.name}})).slice(0,2),this.reload())},reset:function(){this.leftImage="",this.rightImage=""},changeRotation:function(){this.juxtapose=!1,this.isVertical=!this.isVertical,this.reload()},reload:function(){2==this.selecteds.length?(this.leftImage=$["i"].getImageUrl(this.selecteds[0].label,this.extent,W["e"].ARCGIS),this.rightImage=$["i"].getImageUrl(this.selecteds[1].label,this.extent,W["e"].ARCGIS)):this.reset(),this.renderJuxtapose(),this.$forceUpdate()},onModalClose:function(){},onChange:function(t){this.reload()}}},gi=hi,bi=(a("ee46"),Object(l["a"])(gi,di,pi,!1,null,"6cf8f05f",null)),vi=bi.exports,yi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CustomModal",{attrs:{name:"blindSpotModal",title:"Blind Spot Detection",width:"50%",minHeight:500},on:{beforeShow:t.onModalOpen,afterHide:t.onModalClose}},[a("form",[a("div",{staticClass:"form-group"},[a("label",[t._v("Layers")]),a("v-select",{attrs:{clearable:!1,options:t.layerOptions},on:{input:t.onChange},model:{value:t.selectedLayer,callback:function(e){t.selectedLayer=e},expression:"selectedLayer"}})],1),a("div",{staticClass:"form-group"},[a("label",[t._v("Columns")]),a("v-select",{attrs:{clearable:!1,options:t.columnOptions,disabled:t.isColumnDisabled},on:{input:t.onColumnChange},model:{value:t.selectedColumn,callback:function(e){t.selectedColumn=e},expression:"selectedColumn"}}),a("small",{staticClass:"form-text text-muted"},[t._v("Only numeric columns will be shown.")])],1),t.chartVisibility?a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("line-chart",{attrs:{"chart-data":t.chartData,options:t.chartOptions,height:300}})],1)]):t._e()])])},Ci=[],_i={name:"BlindSpotModal",components:{LineChart:oi},data:function(){return{tableInfo:null,selectedLayer:null,selectedColumn:null,layerOptions:[],columnOptions:[],chartOptions:{title:{display:!0,text:""}},chartVisibility:!1,chartData:null}},computed:{isColumnDisabled:function(){return!(this.tableInfo&&this.columnOptions.length>0)},lineCoordinates:function(){return R["k"].getBbox()}},created:function(){},methods:{reset:function(){this.tableInfo=null,this.selectedLayer=null,this.selectedColumn=null,this.layerOptions=[],this.columnOptions=[],this.chartVisibility=!1,this.chartData=null},onModalOpen:function(){this.layerOptions=R["d"].getDynamicLayersWithoutCategory().map((function(t){return{code:t.id,label:t.name}}))},onModalClose:function(){this.reset()},onChange:function(t){var e=this;K.getTableInfo(t.code).then((function(a){200!==a.status?(e.tableInfo=null,e.columnOptions=[],e.chartVisibility=!1):(e.tableInfo=a.data,e.columnOptions=e.tableInfo.columns.filter((function(t){return"int"==t.valueType||"double"==t.valueType})).map((function(t){return{code:t.columnName,label:t.columnName}}))),e.chartOptions.title.text=t.label+" Data",e.selectedColumn=null,e.chartVisibility=!1}))},onColumnChange:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getData(this.selectedLayer.code,e.code,this.lineCoordinates);case 2:a=t.sent,n=e.code,a.totalCount>0?(n,i=a.features.map((function(t){var e=t.attributes[n.toLowerCase()];return e})),this.renderGraph(n,i,i)):this.renderGraph(n,[],[]),this.chartVisibility=!0;case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),renderGraph:function(t,e,a){var n=this;this.chartData={labels:e.map((function(t){return n.stringFixed(t,4)})),datasets:[{label:t,borderColor:"rgba(50, 115, 220, 0.5)",backgroundColor:"rgba(50, 115, 220, 0.1)",data:a}]}},getData:function(t,e,a){var n={layerId:t,geometryType:"linestring",extentCoordinates:JSON.stringify(a),returnGeom:!1,columns:[e],isAll:!0};return new Promise((function(t,e){w["a"].getLocalTableData(n).then((function(e){t(e.data)}))}))},stringFixed:function(t,e){var a=t.toString().split("."),n=a[0]+(void 0!=a[1]?".":"")+(void 0!=a[1]?a[1].length>e?a[1].substr(0,e):a[1]:"");return n}}},Oi=_i,Ei=Object(l["a"])(Oi,yi,Ci,!1,null,null,null),Si=Ei.exports,wi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CustomModal",{attrs:{name:"profileModal",title:t.$t("menu.profile.title"),width:"70%",minHeight:600},on:{beforeShow:t.onModalOpen}},[a("div",{attrs:{id:"profileModal"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"nav nav-tabs flex-column nav-pills",attrs:{id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"}},[a("a",{staticClass:"nav-link",class:{active:"account"===t.activeTab},attrs:{role:"button"},on:{click:function(){return t.activeTab="account"}}},[t._v("\n            "+t._s(t.$t("menu.profile.account.title"))+"\n          ")]),a("a",{staticClass:"nav-link",class:{active:"notification"===t.activeTab},attrs:{role:"button"},on:{click:function(){return t.activeTab="notification"}}},[t._v("\n            "+t._s(t.$t("menu.profile.notifications"))+"\n            "),t.notificationCount>0?a("span",{staticClass:"badge badge-danger float-right"},[t._v(t._s(t.notificationCount))]):t._e()]),a("a",{staticClass:"nav-link",class:{active:"favoritequery"===t.activeTab},attrs:{role:"button"},on:{click:function(){return t.activeTab="favoritequery"}}},[t._v("\n            "+t._s(t.$t("menu.profile.favoriteQueries")))]),a("a",{staticClass:"nav-link",class:{active:"favoritelayer"===t.activeTab},attrs:{role:"button"},on:{click:function(){return t.activeTab="favoritelayer"}}},[t._v(t._s(t.$t("menu.profile.favoriteLayers")))]),a("a",{staticClass:"nav-link",class:{active:"defaultlayer"===t.activeTab},attrs:{role:"button"},on:{click:function(){return t.activeTab="defaultlayer"}}},[t._v(t._s(t.$t("menu.profile.defaultLayers")))]),a("a",{staticClass:"nav-link",class:{active:"workspace"===t.activeTab},attrs:{role:"button"},on:{click:function(){return t.activeTab="workspace"}}},[t._v(t._s(t.$t("menu.profile.workspace.title")))])])]),a("div",{staticClass:"col-md-9"},["account"===t.activeTab?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane fade show ",class:{active:"account"===t.activeTab}},[a("Account")],1)]):t._e(),"notification"===t.activeTab?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane fade show ",class:{active:"notification"===t.activeTab}},[a("Notification")],1)]):t._e(),"favoritequery"===t.activeTab?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane fade show ",class:{active:"favoritequery"===t.activeTab}},[a("FavoriteQuery")],1)]):t._e(),"favoritelayer"===t.activeTab?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane fade show ",class:{active:"favoritelayer"===t.activeTab}},[a("FavoriteLayer")],1)]):t._e(),"defaultlayer"===t.activeTab?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane fade show ",class:{active:"defaultlayer"===t.activeTab}},[a("DefaultLayer")],1)]):t._e(),"workspace"===t.activeTab?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane fade show ",class:{active:"workspace"===t.activeTab}},[a("Workspace")],1)]):t._e()])])])])},Ti=[],Li=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"notification-content"},[t.notifications.length>0?a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("paginate",{attrs:{"page-count":t.pageCount,"page-range":5,"click-handler":t.onPageChange,"prev-text":t.$t("button.pagination.prev"),"next-text":t.$t("button.pagination.next"),"container-class":"pagination","page-class":"page-item"}})],1)]),a("div",{staticClass:"row  notification-content-scroll custom-scrollbar"},t._l(t.notifications,(function(t,e){return a("div",{key:e,staticClass:"col-md-12 mt-1"},[a("NotificationCard",{attrs:{label:t.label,isReaded:t.isReaded,description:t.description,date:t.dateCreated,type:t.type,createdBy:t.createdBy.userName}})],1)})),0)]):a("div",[t._m(0)])])},ki=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"alert alert-info",attrs:{role:"alert"}},[t._v("\n          You dont have any notifications.\n        ")])])])}],Ii=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("div",{staticClass:"float-left"},[t._v("\n      "+t._s(t.label)+"\n      "),t.type?a("span",{staticClass:"badge",class:t.typeToClass()},[t._v(t._s(t.typeToString()))]):t._e()]),a("div",{staticClass:"float-right"},[t.isReaded?t._e():a("span",{staticClass:"badge badge-danger"},[t._v(" New ")])])]),a("div",{staticClass:"card-body"},[a("div",{staticClass:" mb-0"},[a("p",[t._v("\n        "+t._s(t.description)+"\n      ")]),a("footer",{staticClass:"blockquote-footer float-right"},[t._v("\n        "+t._s(t.date)+"\n        "),a("cite",{attrs:{title:"Created By"}},[t._v(t._s(t.createdBy))])])])])])},Ai=[],xi={name:"NotificationCard",props:{label:{type:String},description:{type:String},date:{type:String},type:{type:Number},isReaded:{type:Boolean},createdBy:{type:String}},mounted:function(){},methods:{typeToString:function(){return 1==this.type?"info":"warning"},typeToClass:function(){return 1==this.type?"badge-info":"badge-warning"}}},Di=xi,ji=Object(l["a"])(Di,Ii,Ai,!1,null,null,null),Pi=ji.exports,Mi=a("277f"),Ri={name:"Notification",components:{NotificationCard:Pi},data:function(){return{limitQuery:{page:1,limit:3},notifications:[],totalCount:0}},mounted:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getNotifications();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{getNotifications:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Mi["a"].getAll(this.limitQuery).then(function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.totalCount=a.data.totalCount,e.notifications=a.data.items,t.next=4,new Promise(function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(a,n){var i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<e.notifications.length)){t.next=9;break}if(r=e.notifications[i],r.isReaded){t.next=6;break}return t.next=6,Mi["a"].setReaded(r.id);case 6:i++,t.next=1;break;case 9:a();case 10:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}());case 4:e.$store.dispatch("setNotificationCounts");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onPageChange:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.limitQuery.page=e,t.next=3,this.getNotifications();case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},computed:{pageCount:function(){return this.totalCount/this.limitQuery.limit}}},Bi=Ri,Fi=(a("2d87"),Object(l["a"])(Bi,Li,ki,!1,null,"5b34886c",null)),Ni=Fi.exports,$i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"favoritequery-content"},[t.favoriteQueries.length>0?a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("paginate",{attrs:{"page-count":t.pageCount,"page-range":5,"click-handler":t.onPageChange,"prev-text":t.$t("button.pagination.prev"),"next-text":t.$t("button.pagination.next"),"container-class":"pagination","page-class":"page-item"}})],1)]),a("div",{staticClass:"row  favoritequery-content-scroll custom-scrollbar"},t._l(t.favoriteQueries,(function(e,n){return a("div",{key:n,staticClass:"col-md-12 mt-1"},[a("FavoriteQueryCard",{attrs:{id:e.id,label:e.label,query:e.query,layerLabel:e.layer.label,applyText:t.$t("button.apply"),deleteText:t.$t("button.delete"),date:e.dateCreated},on:{onApplyClick:t.onApplyClick,onDeleteClick:t.onDeleteClick}})],1)})),0)]):a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"alert alert-info",attrs:{role:"alert"}},[t._v("\n          "+t._s(t.$t("general.nodata"))+"\n        ")])])])])])},Gi=[],Vi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("div",{staticClass:"float-left"},[t._v(t._s(t.label))]),a("div",{staticClass:"float-right"},[t.layerLabel?a("span",{staticClass:"badge badge-info"},[t._v("\n        "+t._s(t.layerLabel)+"\n      ")]):t._e()])]),a("div",{staticClass:"card-body"},[a("p",[t._v("\n      "+t._s(t.query)+"\n    ")]),a("div",{staticClass:"float-right"},[a("button",{staticClass:"btn btn-success btn-sm m-1",on:{click:t.onApplyClick}},[t._v("\n        "+t._s(t.applyText)+"\n      ")]),a("button",{staticClass:"btn btn-danger btn-sm m-1",on:{click:t.onDeleteClick}},[t._v("\n        "+t._s(t.deleteText)+"\n      ")])])])])},Ui=[],Hi={name:"FavoriteQueryCard",props:{id:{type:Number,required:!0},label:{type:String},layerLabel:{type:String},applyText:{type:String,required:!0},deleteText:{type:String,required:!0},query:{type:String},date:{type:String}},mounted:function(){},methods:{onDeleteClick:function(){this.$emit("onDeleteClick",this.id)},onApplyClick:function(){this.$emit("onApplyClick",this.id)}}},zi=Hi,qi=Object(l["a"])(zi,Vi,Ui,!1,null,null,null),Qi=qi.exports,Yi=a("03d5"),Zi={name:"FavoriteQuery",components:{FavoriteQueryCard:Qi},data:function(){return{limitQuery:{page:1,limit:1},favoriteQueries:[],totalCount:0}},mounted:function(){this.getFavoriteQueries()},methods:{getFavoriteQueries:function(){var t=this;Yi["a"].getAll(this.limitQuery).then((function(e){t.totalCount=e.data.totalCount,t.favoriteQueries=e.data.items}))},onApplyClick:function(t){var e=this.favoriteQueries.find((function(e){return e.id==t})),a=R["d"].getDynamicLayer(e.layer.id);a&&(R["i"].setQuery(a,e.query),a.isSelected?R["e"].refreshService(a.id):R["i"].selectService(a,!0),R["g"].hideProfileModalModal(),this.$toasted.show("Query Successfully Applied",{icon:{name:"fas fa-check"}}))},onDeleteClick:function(t){var e=this;Yi["a"].delete(t).then((function(t){e.$toasted.show("Successfully Deleted",{icon:{name:"fas fa-check"}}),1===e.favoriteQueries.length&&(e.limitQuery.page-=1),e.getFavoriteQueries()}))},onPageChange:function(t){this.limitQuery.page=t,this.getFavoriteQueries()}},computed:{pageCount:function(){return this.totalCount/this.limitQuery.limit}}},Wi=Zi,Ki=(a("bec2"),Object(l["a"])(Wi,$i,Gi,!1,null,"270f4404",null)),Xi=Ki.exports,Ji=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.basemaps.length>0||t.dynamics.length>0?a("div",{staticClass:"row"},[t.dynamics.length>0?a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("h5",[t._v("\n          "+t._s(t.$t("menu.dynamicLayers"))+"\n\n          "),a("button",{staticClass:"btn btn-danger mr-5 float-right btn-sm",attrs:{type:"button",title:t.$t("button.reset")},on:{click:t.resetDynamicTree}},[a("i",{staticClass:"fas fa-sync"})])])]),a("div",{staticClass:"col-md-12"},[a("tree",{ref:"dynamicTree",attrs:{data:t.dynamics,options:t.treeOptions,checkeds:t.checkedDynamics}})],1)])]):t._e(),t.basemaps.length>0?a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("h5",[t._v("\n          "+t._s(t.$t("menu.baseLayers"))+"\n          "),a("button",{staticClass:"btn btn-danger mr-5 float-right btn-sm",attrs:{type:"button",title:t.$t("button.reset")},on:{click:t.resetBasemapTree}},[a("i",{staticClass:"fas fa-sync"})])])]),a("div",{staticClass:"col-md-12"},[a("tree",{ref:"basemapTree",attrs:{data:t.basemaps,options:t.treeOptions,checkeds:t.checkedBasemaps}})],1)])]):t._e(),a("div",{staticClass:"col-md-12 mt-5"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("button",{staticClass:"btn btn-success  float-right btn-sm",attrs:{type:"button"},on:{click:t.submit}},[t._v("\n          "+t._s(t.$t("button.set"))+"\n        ")])])])])]):a("div",[a("div",{staticClass:"row "},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"alert alert-info",attrs:{role:"alert"}},[t._v("\n        "+t._s(t.$t("general.nodata"))+"\n      ")])])])])},tr=[],er=a("09bc"),ar={name:"FavoriteLayer",components:{Tree:Ye},data:function(){return{dynamics:[],basemaps:[],favoriteLayers:[],checkedDynamics:[],checkedBasemaps:[],treeOptions:{collapsed:!0,checkbox:!0,labels:{children:"children",items:"layers",name:"name",id:"id"},conditions:{isCategory:function(t){return!(!t||"category"!==t.type)},isCheckboxExist:function(t){return!(!t||"category"===t.type)}}}}},mounted:function(){var t=this;this.getFavoriteLayers().then((function(e){var a=e.filter((function(t){return"dynamic"==t.layer.mapTypeId})).map((function(t){return t.layer.id}));t.checkedDynamics=a;var n=e.filter((function(t){return"basemap"==t.layer.mapTypeId})).map((function(t){return t.layer.id}));t.checkedBasemaps=n;var i=R["d"].getDynamicLayerList();t.dynamics=i;var r=R["d"].getBaseLayerList();t.basemaps=r}))},methods:{resetDynamicTree:function(){this.$refs.dynamicTree.setCheckeds([])},resetBasemapTree:function(){this.$refs.basemapTree.setCheckeds([])},getFavoriteLayers:function(){var t=this;return new Promise((function(e,a){er["a"].getAll().then((function(n){200==n.status?(t.favoriteLayers=n.data,e(n.data)):a(new Error("Faild"))}))}))},submit:function(){var t=this,e=[],a=this.$refs.dynamicTree.getCheckeds(),n=this.$refs.basemapTree.getCheckeds();a.forEach((function(t){e.push({layerId:t})})),n.forEach((function(t){e.push({layerId:t})})),er["a"].set(e).then((function(e){200==e.status?(R["d"].setFavoriteDynamicLayerIds(a),R["d"].setFavoriteBaseLayerIds(n),t.$toasted.show("Favorite Queries Successfully Setted",{icon:{name:"fas fa-check"}})):t.$toasted.show("Failed!",{theme:"bubble",icon:{name:"fas fa-exclamation"}})}))}}},nr=ar,ir=Object(l["a"])(nr,Ji,tr,!1,null,null,null),rr=ir.exports,or=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.basemaps.length>0||t.dynamics.length>0?a("div",{staticClass:"row"},[t.dynamics.length>0?a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("h5",[t._v("\n          "+t._s(t.$t("menu.dynamicLayers"))+"\n          "),a("button",{staticClass:"btn btn-danger mr-5 float-right btn-sm",attrs:{type:"button",title:t.$t("button.reset")},on:{click:t.resetDynamicTree}},[a("i",{staticClass:"fas fa-sync"})])])]),a("div",{staticClass:"col-md-12"},[a("tree",{ref:"dynamicTree",attrs:{data:t.dynamics,options:t.treeOptions,checkeds:t.checkedDynamics}})],1)])]):t._e(),t.basemaps.length>0?a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("h5",[t._v("\n          "+t._s(t.$t("menu.baseLayers"))+"\n          "),a("button",{staticClass:"btn btn-danger mr-5 float-right btn-sm",attrs:{type:"button",title:t.$t("button.reset")},on:{click:t.resetBasemapTree}},[a("i",{staticClass:"fas fa-sync"})])])]),a("div",{staticClass:"col-md-12"},[a("tree",{ref:"basemapTree",attrs:{data:t.basemaps,options:t.treeOptions,checkeds:t.checkedBasemaps}})],1)])]):t._e(),a("div",{staticClass:"col-md-12 mt-5"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("span",[a("strong",{staticClass:"text-muted"},[t._v(t._s(t.$t("general.note"))+" : ")]),a("small",{staticClass:"text-muted"},[t._v(t._s(t.$t("general.changesWillBeAplliedAfterRefresh")))])])]),a("div",{staticClass:"col-md-6"},[a("button",{staticClass:"btn btn-success  float-right btn-sm",attrs:{type:"button"},on:{click:t.submit}},[t._v("\n          "+t._s(t.$t("button.set"))+"\n        ")])])])])]):a("div",[a("div",{staticClass:"row "},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"alert alert-info",attrs:{role:"alert"}},[t._v("\n        "+t._s(t.$t("general.nodata"))+"\n      ")])])])])},sr=[],cr=a("8ae2"),lr={name:"DefaultLayer",components:{Tree:Ye},data:function(){return{dynamics:[],basemaps:[],defaultLayers:[],checkedDynamics:[],checkedBasemaps:[],treeOptions:{collapsed:!0,checkbox:!0,labels:{children:"children",items:"layers",name:"name",id:"id"},conditions:{isCategory:function(t){return!(!t||"category"!==t.type)},isCheckboxExist:function(t){return!(!t||"category"===t.type)}}}}},mounted:function(){var t=this;this.getDefaultLayers().then((function(e){var a=e.filter((function(t){return"dynamic"==t.layer.mapTypeId})).map((function(t){return t.layer.id}));t.checkedDynamics=a;var n=e.filter((function(t){return"basemap"==t.layer.mapTypeId})).map((function(t){return t.layer.id}));t.checkedBasemaps=n;var i=R["d"].getDynamicLayerList();t.dynamics=i;var r=R["d"].getBaseLayerList();t.basemaps=r}))},methods:{resetDynamicTree:function(){this.$refs.dynamicTree.setCheckeds([])},resetBasemapTree:function(){this.$refs.basemapTree.setCheckeds([])},getDefaultLayers:function(){var t=this;return new Promise((function(e,a){cr["a"].getAll().then((function(n){200==n.status?(t.defaultLayers=n.data,e(n.data)):a(new Error("Faild"))}))}))},submit:function(){var t=this,e=[],a=this.$refs.dynamicTree.getCheckeds(),n=this.$refs.basemapTree.getCheckeds();a.forEach((function(t){e.push({layerId:t})})),n.forEach((function(t){e.push({layerId:t})})),cr["a"].set(e).then((function(e){200==e.status?t.$toasted.show("Default Layers Successfully Setted",{icon:{name:"fas fa-check"}}):t.$toasted.show("Failed!",{theme:"bubble",icon:{name:"fas fa-exclamation"}})}))}}},ur=lr,dr=Object(l["a"])(ur,or,sr,!1,null,null,null),pr=dr.exports,fr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-md-12"},[t._v("\n    "+t._s(t.$t("menu.profile.account.username"))+" :\n    "),a("strong",[t._v(t._s(t.username))])]),a("div",{staticClass:"col-md-12"},[t._v("\n    "+t._s(t.$t("menu.profile.account.email"))+" :"),a("strong",[t._v(t._s(t.email))])]),a("div",{staticClass:"col-md-12 mt-2",staticStyle:{display:"flex","justify-content":"center"}},[a("div",{staticClass:"text-center"},[a("LanguageSelect",{attrs:{styles:{width:"160px"}}})],1)])])},mr=[],hr={name:"Profile",components:{LanguageSelect:Ee},data:function(){return{username:"",email:""}},mounted:function(){var t=R["l"].getUserInfo();this.username=t.userName,this.email=t.email}},gr=hr,br=Object(l["a"])(gr,fr,mr,!1,null,null,null),vr=br.exports,yr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 text-center"},[a("h5",[t._v(t._s(t.$t("menu.profile.workspace.currentMapConfigurations")))])]),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"m-1"},[a("label",{staticClass:"font-weight-bold"},[t._v(t._s(t.$t("menu.profile.workspace.zoomLevel"))+" :")]),a("span",[a("span",{staticClass:"badge badge-primary ml-1"},[t._v(t._s(t.zoomLevel))])])]),a("div",{staticClass:"m-1"},[a("label",{staticClass:"font-weight-bold"},[t._v(t._s(t.$t("menu.profile.workspace.mapXCoordinate"))+" :")]),t.center&&t.center[0]?a("span",[a("span",{staticClass:"badge badge-warning  ml-1"},[t._v(t._s(t.center[0])+"\n            ")])]):t._e()]),a("div",{staticClass:"m-1"},[a("label",{staticClass:"font-weight-bold"},[t._v(t._s(t.$t("menu.profile.workspace.mapYCoordinate"))+" :")]),t.center&&t.center[1]?a("span",[a("span",{staticClass:"badge badge-warning  ml-1"},[t._v(" "+t._s(t.center[1])+" ")])]):t._e()]),a("div",{staticClass:"m-1"},[a("label",{staticClass:"font-weight-bold"},[t._v(t._s(t.$t("menu.profile.workspace.selectedLayers"))+" :")]),t.selectedLayers?a("span",t._l(t.selectedLayers,(function(e,n){return a("span",{key:n},[a("span",{staticClass:"badge badge-info ml-1"},[t._v(t._s(e.name))])])})),0):t._e()])])])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 text-center"},[a("h5",[t._v(t._s(t.$t("menu.profile.workspace.savedMapConfigurations")))])]),t.workspace?a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"m-1"},[a("label",{staticClass:"font-weight-bold"},[t._v(t._s(t.$t("menu.profile.workspace.zoomLevel"))+" :")]),a("span",[a("span",{staticClass:"badge badge-primary ml-1"},[t._v(t._s(t.workspace.zoomLevel))])])]),a("div",{staticClass:"m-1"},[a("label",{staticClass:"font-weight-bold"},[t._v(t._s(t.$t("menu.profile.workspace.mapXCoordinate"))+" :")]),a("span",[a("span",{staticClass:"badge badge-warning  ml-1"},[t._v(t._s(t.workspace.coordinateX)+"\n            ")])])]),a("div",{staticClass:"m-1"},[a("label",{staticClass:"font-weight-bold"},[t._v(t._s(t.$t("menu.profile.workspace.mapYCoordinate"))+" :")]),a("span",[a("span",{staticClass:"badge badge-warning  ml-1"},[t._v("\n              "+t._s(t.workspace.coordinateY)+"\n            ")])])]),a("div",{staticClass:"m-1"},[a("label",{staticClass:"font-weight-bold"},[t._v(t._s(t.$t("menu.profile.workspace.selectedLayers"))+" :")]),t._l(t.workspace.activeLayers,(function(e,n){return a("span",{key:n},[a("span",{staticClass:"badge badge-info ml-1"},[t._v(t._s(e.label))])])}))],2)]):a("div",[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"alert alert-info",attrs:{role:"alert"}},[t._v("\n            "+t._s(t.$t("general.nodata"))+"\n          ")])])])])]),a("div",{staticClass:"col-md-12 mt-5"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"float-right"},[a("button",{staticClass:"btn btn-success m-1 btn-sm",on:{click:t.saveWorkspace}},[t._v("\n            "+t._s(t.$t("button.save"))+"\n          ")]),t.workspace?a("button",{staticClass:"btn btn-info m-1 btn-sm",on:{click:t.loadWorkspace}},[t._v("\n            "+t._s(t.$t("button.load"))+"\n          ")]):t._e(),t.workspace?a("button",{staticClass:"btn btn-danger m-1 btn-sm",on:{click:t.resetWorkspace}},[t._v("\n            "+t._s(t.$t("button.reset"))+"\n          ")]):t._e()])])])])])},Cr=[],_r={get:function(){return B["a"].get(P["o"].GET)},set:function(t){return B["a"].post(P["o"].SET,t)},delete:function(){return B["a"].post(P["o"].DELETE)}},Or={name:"Workspace",data:function(){return{zoomLevel:0,center:[],rotation:0,selectedLayers:[],workspace:null}},mounted:function(){this.getWorkspace(),this.getCurrentConfigurations()},methods:{getCurrentConfigurations:function(){this.zoomLevel=R["e"].getCurrentZoomLevel(),this.center=R["e"].getCurrentCenter(W["a"].GEOGRAPHIC),this.rotation=R["e"].getCurrentRotation(),this.selectedLayers=R["d"].getSelectedLayers()},getLayersName:function(){},getWorkspace:function(){var t=this;_r.get().then((function(e){e.data&&""!=e.data?t.workspace=e.data:t.workspace=null}))},resetWorkspace:function(){var t=this;_r.delete().then((function(e){200==e.status?(t.getWorkspace(),t.$toasted.show("Configurations Successfully Reseted",{icon:{name:"fas fa-check"}})):t.$toasted.show("Failed!",{theme:"bubble",icon:{name:"fas fa-exclamation"}})}))},loadWorkspace:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e,a,n,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.workspace){t.next=13;break}return e=this.workspace.zoomLevel,a=[this.workspace.coordinateX,this.workspace.coordinateY],n=this.workspace.activeLayers,R["e"].setZoomLevel(e),R["e"].setCenter(a,W["a"].GEOGRAPHIC),i=R["d"].getSelectedLayers(),t.next=9,new Promise((function(t,e){i&&i.length>0&&i.forEach(function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,R["i"].selectService(e,!1);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t(i)}));case 9:return r=R["d"].getLayersWithoutCategory().filter((function(t){return n.map((function(t){return t.id})).includes(t.id)})),t.next=12,new Promise((function(t,e){r.forEach(function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,R["i"].selectService(e,!0);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t(r)}));case 12:this.getCurrentConfigurations();case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),saveWorkspace:function(){var t=this,e={zoomLevel:this.zoomLevel,coordinateX:this.center[0],coordinateY:this.center[1],activeLayers:this.selectedLayers.map((function(t){return t.id}))};_r.set(e).then((function(e){200==e.status?(t.getWorkspace(),t.$toasted.show("Configurations Successfully Setted",{icon:{name:"fas fa-check"}})):t.$toasted.show("Failed!",{theme:"bubble",icon:{name:"fas fa-exclamation"}})}))}}},Er=Or,Sr=Object(l["a"])(Er,yr,Cr,!1,null,null,null),wr=Sr.exports,Tr={name:"ProfileModal",components:{Notification:Ni,FavoriteQuery:Xi,Account:vr,FavoriteLayer:rr,DefaultLayer:pr,Workspace:wr},data:function(){return{activeTab:"account"}},computed:{notificationCount:function(){return R["f"].getNotificationCount()}},methods:{onModalOpen:function(){this.activeTab="account"}}},Lr=Tr,kr=(a("a8b1"),Object(l["a"])(Lr,wi,Ti,!1,null,"0b96e756",null)),Ir=kr.exports;a("4882")},"2d87":function(t,e,a){"use strict";var n=a("0076"),i=a.n(n);i.a},"2ef2":function(t,e,a){},3077:function(t,e,a){t.exports=a.p+"img/compass.7751660a.png"},3520:function(t,e,a){},3666:function(t,e,a){t.exports=a.p+"img/ndvi.358e75b9.svg"},"36d6":function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var n=["#673ab7","#f44336","#ffeb3b","#4caf50","#9c27b0","#2196F3","#E91E63","#795548","#009688"]},"3b25":function(t){t.exports=JSON.parse('[{"city":"Baku","admin":"Bak","country":"Azerbaijan","population_proper":"1892000","iso2":"AZ","capital":"primary","lat":"40.395278","lng":"49.882222","population":"2122300"},{"city":"Gnc","admin":"Gnc","country":"Azerbaijan","population_proper":"300131","iso2":"AZ","capital":"admin","lat":"40.682778","lng":"46.360556","population":"303268"},{"city":"Sumqayt","admin":"Sumqayt","country":"Azerbaijan","population_proper":"265150","iso2":"AZ","capital":"admin","lat":"40.589722","lng":"49.668611","population":"279159"},{"city":"Hacvar","admin":"Babk","country":"Azerbaijan","population_proper":"64754","iso2":"AZ","capital":"","lat":"39.208067","lng":"45.446038","population":"94788"},{"city":"ki","admin":"ki","country":"Azerbaijan","population_proper":"62191","iso2":"AZ","capital":"admin","lat":"41.191944","lng":"47.170556","population":"64968"},{"city":"Lnkran","admin":"Lnkran","country":"Azerbaijan","population_proper":"60180","iso2":"AZ","capital":"admin","lat":"38.755947","lng":"48.84715","population":"60180"},{"city":"Yevlax","admin":"Yevlax","country":"Azerbaijan","population_proper":"46312","iso2":"AZ","capital":"admin","lat":"40.612732","lng":"47.142329","population":"53716"},{"city":"Gyay","admin":"Gyay","country":"Azerbaijan","population_proper":"34715","iso2":"AZ","capital":"admin","lat":"40.650555","lng":"47.74219","population":"35348"},{"city":"Tovuz","admin":"Tovuz","country":"Azerbaijan","population_proper":"12626","iso2":"AZ","capital":"admin","lat":"40.992487","lng":"45.628384","population":"12626"},{"city":"Qbl","admin":"Qbl","country":"Azerbaijan","population_proper":"11867","iso2":"AZ","capital":"admin","lat":"40.982474","lng":"47.849092","population":"11867"},{"city":"Gdby","admin":"Gdby","country":"Azerbaijan","population_proper":"8657","iso2":"AZ","capital":"admin","lat":"40.570551","lng":"45.812288","population":"8657"},{"city":"Goranboy","admin":"Goranboy","country":"Azerbaijan","population_proper":"7333","iso2":"AZ","capital":"admin","lat":"40.610278","lng":"46.789722","population":"7333"},{"city":"Ouz","admin":"Ouz","country":"Azerbaijan","population_proper":"6876","iso2":"AZ","capital":"admin","lat":"41.07128","lng":"47.465284","population":"6876"},{"city":"Zaqatala","admin":"Zaqatala","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"41.631596","lng":"46.644791","population":""},{"city":"Mingevir","admin":"Mingevir","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.763947","lng":"47.059533","population":""},{"city":"Xz","admin":"Xz","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.905761","lng":"49.081268","population":""},{"city":"Xrdalan","admin":"Aberon","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.448085","lng":"49.755022","population":""},{"city":"Heydrabad","admin":"Sdrk","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.722857","lng":"44.848458","population":""},{"city":"Zngilan","admin":"Zngilan","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.088401","lng":"46.6513","population":""},{"city":"Astafa","admin":"Astafa","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"41.114834","lng":"45.446825","population":""},{"city":"Ucar","admin":"Ucar","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.515671","lng":"47.654648","population":""},{"city":"Gygl","admin":"Gygl","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.585838","lng":"46.318897","population":""},{"city":"Xocavnd","admin":"Xocavnd","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.795464","lng":"47.109891","population":""},{"city":"Xamaz","admin":"Xamaz","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"41.464258","lng":"48.805652","population":""},{"city":"Klbcr","admin":"Klbcr","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.109842","lng":"46.04446","population":""},{"city":"Yardml","admin":"Yardml","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"38.907711","lng":"48.240521","population":""},{"city":"Daksn","admin":"Daksn","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.523932","lng":"46.081863","population":""},{"city":"Krdmir","admin":"Krdmir","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.345318","lng":"48.150847","population":""},{"city":"Hacqabul","admin":"Hacqabul","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.038743","lng":"48.942865","population":""},{"city":"Qax","admin":"Qax","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"41.418259","lng":"46.92043","population":""},{"city":"Qazax","admin":"Qazax","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"41.09246","lng":"45.365608","population":""},{"city":"Trtr","admin":"Trtr","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.341794","lng":"46.932418","population":""},{"city":"Bilsuvar","admin":"Bilsuvar","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.458333","lng":"48.545","population":""},{"city":"mkir","admin":"mkir","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.82975","lng":"46.017804","population":""},{"city":"Qubadl","admin":"Qubadl","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.344407","lng":"46.581834","population":""},{"city":"Quba","admin":"Quba","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"41.361077","lng":"48.513411","population":""},{"city":"Qusar","admin":"Qusar","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"41.427496","lng":"48.4302","population":""},{"city":"Babk","admin":"Babk","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"minor","lat":"39.154592","lng":"45.442825","population":""},{"city":"Fzuli","admin":"Fzuli","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.60094","lng":"47.14529","population":""},{"city":"Cbrayl","admin":"Cbrayl","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.399173","lng":"47.028345","population":""},{"city":"Salyan","admin":"Salyan","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.596214","lng":"48.984786","population":""},{"city":"Xocal","admin":"Xocal","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.912973","lng":"46.790284","population":""},{"city":"Astara","admin":"Astara","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"38.455977","lng":"48.87498","population":""},{"city":"Culfa","admin":"Culfa","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"minor","lat":"38.95397","lng":"45.62961","population":""},{"city":"Ada","admin":"Ada","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.646987","lng":"47.473803","population":""},{"city":"Lerik","admin":"Lerik","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"38.773883","lng":"48.414969","population":""},{"city":"Masall","admin":"Masall","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.027781","lng":"48.670276","population":""},{"city":"Adam","admin":"Tovuz","country":"Azerbaijan","population_proper":"0","iso2":"AZ","capital":"","lat":"40.908483","lng":"45.554269","population":"0"},{"city":"Beylqan","admin":"Beylqan","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.775556","lng":"47.618611","population":""},{"city":"Asu","admin":"Asu","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.569167","lng":"48.396476","population":""},{"city":"Qobustan","admin":"Qobustan","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.533601","lng":"48.928193","population":""},{"city":"Brd","admin":"Brd","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.375768","lng":"47.126191","population":""},{"city":"Ordubad","admin":"Ordubad","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"38.90961","lng":"46.022737","population":""},{"city":"Balakn","admin":"Balakn","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"41.726258","lng":"46.40478","population":""},{"city":"smayll","admin":"smayll","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.784846","lng":"48.151409","population":""},{"city":"ua","admin":"ua","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.760057","lng":"46.749893","population":""},{"city":"Samux","admin":"Samux","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.764854","lng":"46.408678","population":""},{"city":"Acabdi","admin":"Acabdi","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.050146","lng":"47.459367","population":""},{"city":"Adam","admin":"Adam","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.99096","lng":"46.927356","population":""},{"city":"Dvi","admin":"abran","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"41.201166","lng":"48.987117","population":""},{"city":"mili","admin":"mili","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.872398","lng":"48.064928","population":""},{"city":"Saatl","admin":"Saatl","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.932137","lng":"48.368919","population":""},{"city":"Naxvan","admin":"Naxvan","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.208846","lng":"45.411887","population":""},{"city":"Siyzn","admin":"Siyzn","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"41.077538","lng":"49.112573","population":""},{"city":"ahbuz","admin":"ahbuz","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.407222","lng":"45.573889","population":""},{"city":"Clilabad","admin":"Clilabad","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.209633","lng":"48.491862","population":""},{"city":"Sabirabad","admin":"Sabirabad","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.008688","lng":"48.47701","population":""},{"city":"Neftala","admin":"Neftala","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.376798","lng":"49.246998","population":""},{"city":"Lan","admin":"Lan","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.643401","lng":"46.546206","population":""},{"city":"Naftalan","admin":"Naftalan","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.508208","lng":"46.820302","population":""},{"city":"Zrdab","admin":"Zrdab","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.219906","lng":"47.709968","population":""},{"city":"rur","admin":"rur","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.554358","lng":"44.982597","population":""},{"city":"Qvraq","admin":"Kngrli","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.399389","lng":"45.11513","population":""}]')},"3dd2":function(t,e,a){t.exports=a.p+"img/fullscreen.c7944bd6.svg"},"3e33":function(t,e,a){"use strict";var n=a("0955"),i=a.n(n);i.a},"3ed9":function(t,e,a){},"3f02":function(t,e,a){},4045:function(t,e,a){t.exports=a.p+"img/loading.759ce13d.svg"},"41cb":function(t,e,a){"use strict";var n=a("2b0e"),i=a("8c4f"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row container-fluid padding-0"},[a("div",{staticClass:"padding-0 map-layout"},[a("div",{attrs:{id:"map"}},[t.isMapReady?a("div",[a("MapControls")],1):t._e()])]),t.isMapReady?a("div",[a("Sidebar"),a("ProfileModal"),a("DataTable",{ref:"dataTable"}),a("CustomModal",{attrs:{name:"sumResultModal",maxWidth:600}},[a("Report",{attrs:{result:t.sumData}})],1),a("FilterModal"),a("CustomModal",{attrs:{name:"colorPickerModal",title:"Color picker",minWidth:300}},[a("ShapeColorPicker",{on:{setShapeColor:t.setShapeColor}})],1),a("ChangeDetectionModal"),a("NdviAssessment"),a("BlindSpotModal"),a("InfoModal",{attrs:{isOpen:t.isInformationModalVisible},on:{close:function(e){t.isInformationModalVisible=!1}}}),a("ServiceSelectionModal"),a("BunchLayerAddModal"),a("ComparerModal"),a("PrintModal"),a("MapText")],1):t._e()])},o=[],s=a("75fc"),c=a("b85b"),l=a("2af9"),u=(a("ce96"),a("7055")),d=a("dde5"),p={name:"Home",components:{ShapeColorPicker:l["r"],DataTable:l["e"],ChangeDetectionModal:l["c"],InfoModal:l["g"],Sidebar:l["s"],FilterModal:l["f"],Report:l["p"],MapControls:l["j"],MapText:l["k"],BunchLayerAddModal:l["b"],NdviAssessment:l["m"],ProfileModal:l["o"],ServiceSelectionModal:l["q"],BlindSpotModal:l["a"],ComparerModal:l["d"],PrintModal:l["n"]},data:function(){return{latChange:null,longChange:null,layers:[],token:null,kmlInfo:null,vector:null,vectorSource:null,vectorLayer:null,hashResolveResult:{},isMetricCoordinateSystem:!1,isMapReady:!1}},mounted:function(){var t=new c["D"]({source:u["e"].getBaseLayouts()[3].layout});new c["D"]({source:new c["B"]({projection:"EPSG:3857",tileGrid:new c["C"]({extent:Object(c["S"])("EPSG:3857").getExtent(),resolutions:Object(c["O"])().getResolutions().slice(1)})})});this.hashResolveResult=d["b"].resolveHash(),this.scaleOptions=new c["w"]({units:"metric"}),this.drawSource=new c["H"]({wrapX:!1}),this.vector=new c["G"]({source:this.drawSource,features:[]}),this.vector.setZIndex(9999),this.$nextTick((function(){var e=this,a=new c["c"]({formatConstructors:[c["h"],c["i"],c["k"],c["o"],c["F"]]});this.layers=[t,this.vector];var n=null!==this.hashResolveResult?this.hashResolveResult.zoom:8,i=null!==this.hashResolveResult?this.hashResolveResult.center:Object(c["R"])([47.82858,40.3598414]);this.mapLayer=new c["r"]({interactions:Object(c["Q"])().extend([new c["d"],a]),controls:Object(c["P"])().extend([this.scaleOptions]),target:"map",layers:this.layers,view:new c["K"]({constrainResolution:!0,center:i,zoom:n})});var r=new c["s"]({source:this.drawSource});this.mapLayer.addInteraction(r);var o=this;a.on("addfeatures",(function(t){this.drawSource.addFeatures(t.features),o.mapLayer.getView().fit(this.drawSource.getExtent())})),this.mapLayer.on("click",u["e"].onMapClick),this.$store.dispatch("init").then((function(){null!==e.hashResolveResult&&u["i"].setServicesStatusByIds(e.hashResolveResult.selectedLayers,!0);var t=[].concat(Object(s["a"])(e.$store.getters.defaultDynamicLayerIds),Object(s["a"])(e.$store.getters.defaultBaseLayerIds));u["i"].setServicesStatusByIds(t,!0),o.mapLayer.on("moveend",(function(){u["c"].updateHistoryMap()}))})),window.addEventListener("popstate",(function(t){null!==t.state&&(e.mapLayer.getView().setCenter(t.state.center),e.mapLayer.getView().setZoom(t.state.zoom),e.mapLayer.getView().setRotation(t.state.rotation))})),this.isMapReady=!0}))},methods:{setShapeColor:function(){document.body.style.cursor="crosshair",this.$moodal.colorPickerModal.hide()},dragAndDropToast:function(){this.$toasted.show("Drag & drop GPX, GeoJSON, IGC, KML, TopoJSON files over map",{theme:"outline",position:"bottom-center",duration:3500})}},computed:{scaleOptions:{get:function(){return this.$store.getters.scaleOptions},set:function(t){this.$store.dispatch("saveScaleOptions",t)}},isInformationModalVisible:{get:function(){return this.$store.getters.isInformationModalVisible},set:function(t){this.$store.dispatch("saveInformationModalVisibility",t)}},drawSource:{get:function(){return this.$store.getters.drawSource},set:function(t){this.$store.dispatch("saveDrawSource",t)}},mapLayer:{get:function(){return this.$store.getters.mapLayer},set:function(t){this.$store.dispatch("saveMap",t)}},sumData:function(){return this.$store.getters.sumData},shapeBorderColor:function(){return this.$store.state.shapeBorderColor},shapeFillColor:function(){return this.$store.state.shapeFillColor},bbox:{get:function(){return u["k"].getBbox()},set:function(t){u["k"].setBbox(t)}}}},f=p,m=a("2877"),h=Object(m["a"])(f,r,o,!1,null,null,null),g=h.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("div",{attrs:{id:"color-overlay"}}),n("LanguageSelect",{attrs:{styles:{position:"absolute",top:"10px",right:"10px",width:"160px"}}}),n("div",{staticClass:"form-block"},[n("img",{staticClass:"logo",attrs:{src:a("c8ca")}}),n("form",{staticClass:"form"},[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.$t("form.loginForm.username")},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:t.$t("form.loginForm.password")},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),n("div",{staticClass:"form-group"}),t.errorMessage?n("p",{staticClass:"error-message"},[t._v(t._s(t.errorMessage))]):t._e(),n("div",{staticClass:"form-group"},[n("button",{staticClass:"btn btn-primary w-100",attrs:{type:"button"},on:{click:t.login}},[t._v("\n          "+t._s(t.$t("auth.login"))+"\n          ")])])])]),t._m(0)],1)},v=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sign-block"},[a("span",{staticClass:"sign"},[t._v(" 2020 Research and Development Center, Azercosmos OJSCo")])])}],y=(a("96cf"),a("3b8d")),C=a("b775"),_=a("78a3"),O={login:function(t){var e=C["a"].post(_["a"].LOGIN_URL,t);return e}},E=a("ed08"),S=a("bd51"),w=a("e096"),T={name:"Login",components:{VueRecaptcha:w["a"],LanguageSelect:l["h"]},data:function(){return{username:"",password:"",recaptchaToken:"",errorMessage:"",captchaSettings:S,failedAttemptCount:0}},mounted:function(){this.failedAttemptCount=d["a"].getFailedAttemptCount()},computed:{isRecaptchaRequired:{get:function(){return this.failedAttemptCount>=4},set:function(t){t?(this.failedAttemptCount=4,d["a"].setFailedAttempCount(4)):(this.failedAttemptCount=0,resetFailedAttemptCount(0))}}},methods:{login:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(){var e,a,n,i,r,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.username,a=this.password,n=this.recaptchaToken,t.next=3,O.login({emailOrUsername:e,password:a,recaptchaToken:n});case 3:i=t.sent,200===i.status?(r=i.data,o=r.token,d["c"].setToken(o),this.$store.dispatch("SAVE_AUTH_TOKEN",o),this.$router.push("/"),d["a"].resetFailedAttemptCount()):(d["a"].increaseFailedAttempCount(),this.failedAttemptCount+=1,s=Object(E["c"])(i),s.some((function(t){return"recaptchatoken"===t.key.toLowerCase()}))?(this.errorMessage="Recaptcha Is Required",this.isRecaptchaRequired=!0):this.errorMessage=s[0].message);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onCaptchaVerified:function(t){this.recaptchaToken=t},onCaptchaExpired:function(){this.$refs.recaptcha.reset()}}},L=T,k=(a("c132"),Object(m["a"])(L,b,v,!1,null,"26af0fbb",null)),I=k.exports;n["default"].use(i["a"]);e["a"]=new i["a"]({mode:"history",routes:[{path:"/",name:"home",component:g},{path:"/login",name:"Login",component:I}]})},4274:function(t,e,a){t.exports=a.p+"img/blindSpot.be4e65df.svg"},4386:function(t,e,a){t.exports=a.p+"img/information.03558777.svg"},4397:function(t,e,a){"use strict";var n=a("44be"),i=a.n(n);i.a},"44be":function(t,e,a){},4678:function(t,e,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d833","./ar-tn.js":"6d833","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a391","./ne.js":"3a391","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=r(t);return a(e)}function r(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=r,t.exports=i,i.id="4678"},"470d":function(t,e,a){},"473a":function(t,e,a){t.exports=a.p+"img/reset.6c5cc106.svg"},4882:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CustomModal",{attrs:{name:"favoriteQueryModal",title:t.$t("form.favoriteQueryForm.modalTitle"),width:"30%",minHeight:300},on:{beforeShow:t.onModalOpen}},[a("form",[a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"label"}},[t._v(t._s(t.$t("form.favoriteQueryForm.label")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.label,expression:"data.label"}],staticClass:"form-control ",class:{"is-invalid":t.submitted&&!t.$v.data.label.required},attrs:{type:"text",id:"label",required:""},domProps:{value:t.data.label},on:{input:function(e){e.target.composing||t.$set(t.data,"label",e.target.value)}}}),t.submitted&&!t.$v.data.label.required?a("div",{staticClass:"invalid-feedback"},[t._v("\n            "+t._s(t.$t("form.favoriteQueryForm.validationMessages.labelRequired"))+"\n          ")]):t._e()])]),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"query"}},[t._v(t._s(t.$t("form.favoriteQueryForm.query")))]),a("textarea",{staticClass:"form-control",attrs:{rows:"4",cols:"69",disabled:""},domProps:{value:t.data.query}})])]),a("div",{staticClass:"col-md-12"},[a("button",{staticClass:"btn btn-primary float-right",attrs:{type:"button"},on:{click:t.addFavoriteQuery}},[t._v("\n          "+t._s(t.$t("button.add"))+"\n        ")])])])])])},i=[],r=(a("c5f6"),a("b5ae")),o=a("03d5"),s=a("7055"),c={name:"FavoriteQueryModal",props:{layerId:{type:Number,required:!0},query:{type:String,required:!0}},watch:{query:{immediate:!0,handler:function(t,e){this.data.query=t}},layerId:{immediate:!0,handler:function(t,e){this.data.layerId=t}}},data:function(){return{submitted:!1,data:{layerId:void 0,label:"",query:""}}},validations:{data:{label:{required:r["required"]}}},mounted:function(){this.data.query=this.query,this.data.layerId=this.layerId},methods:{onModalOpen:function(){this.submitted=!1,this.data.label=""},addFavoriteQuery:function(){var t=this;this.submitted=!0,this.$v.$touch(),this.$v.$invalid||o["a"].add(this.data).then((function(e){t.$toasted.show("Successfully Added",{icon:{name:"fas fa-check"}}),s["g"].hideFavoriteQueryModal()}))}}},l=c,u=a("2877"),d=Object(u["a"])(l,n,i,!1,null,null,null);e["default"]=d.exports},"4c8e":function(t,e,a){},"4ec0":function(t,e,a){t.exports=a.p+"img/point.52b8e62a.svg"},5113:function(t,e,a){t.exports=a.p+"img/grid.283f34a6.svg"},5477:function(t,e,a){"use strict";var n=a("72e4"),i=a.n(n);i.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),i=a("00e7"),r=a.n(i),o=a("1bdd"),s=a("1881"),c=a.n(s),l=a("953d"),u=a.n(l),d=a("9d79"),p=a("f2ef"),f=(a("e7b5"),a("41cb")),m=a("2af9"),h=a("07a4"),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.appReady?a("div",{attrs:{id:"app"}},[a("router-view")],1):t._e()},b=[],v={name:"app",data:function(){return{appReady:!1}},created:function(){var t=this;this.$store.dispatch("fetchRemoteMessages").then((function(){t.appReady=!0}))}},y=v,C=(a("5c0b"),a("2877")),_=Object(C["a"])(y,g,b,!1,null,null,null),O=_.exports,E=(a("f9e3"),a("91a5"),a("8b4c"),a("ff9f"),a("062f"),a("fe1b"),a("fefb"),a("9560"),a("b007"),a("f855"),a("5bc0"),a("a753"),a("8096"),a("14e1"),a("4413"),a("9062")),S=a.n(E),w=(a("e40d"),a("a65d")),T=a.n(w),L=a("5886"),k=a("f213"),I=a("8e5f"),A=a.n(I),x=(a("e607"),a("4a7a")),D=a.n(x),j=(a("6dfc"),a("92c3")),P=a.n(j),M=(a("1e3f"),a("0808"),a("6944")),R=a.n(M),B=a("8832"),F=a.n(B),N=a("1dce"),$=a.n(N),G=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),V=(a("96cf"),a("3b8d")),U=a("dde5");function H(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function z(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?H(Object(a),!0).forEach((function(e){Object(G["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):H(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var q=["/login"];f["a"].beforeEach(function(){var t=Object(V["a"])(regeneratorRuntime.mark((function t(e,a,n){var i,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=U["c"].getToken(),!i){t.next=24;break}if("/login"!==e.path){t.next=6;break}n({path:"/"}),t.next=22;break;case 6:if(r=h["a"].getters.roles&&h["a"].getters.roles.length>0,!r){t.next=11;break}n(),t.next=22;break;case 11:return t.prev=11,t.next=14,U["d"].getInfo();case 14:o=t.sent,200!==o.status&&(U["a"].logout(),n("/login")),n(z({},e,{replace:!0})),t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](11),n("/login");case 22:t.next=25;break;case 24:-1!==q.indexOf(e.path)?n():n("/login");case 25:case"end":return t.stop()}}),t,null,[[11,19]])})));return function(e,a,n){return t.apply(this,arguments)}}());var Q=a("9923");n["default"].use(k["b"],{toast:{position:k["a"].leftBottom,timeout:3e3}}),n["default"].component("Loader",m["i"]),n["default"].component("CustomModal",m["l"]),n["default"].component("paginate",F.a),n["default"].component("v-select",D.a),n["default"].use($.a),n["default"].use(S.a),n["default"].use(A.a),n["default"].use(T.a,{position:"bottom-left",duration:3e3,iconPack:"custom-class"}),n["default"].use(c.a),n["default"].component("downloadExcel",o["a"]),n["default"].use(r.a),n["default"].use(p["b"]),n["default"].use(P.a),n["default"].use(R.a),n["default"].config.productionTip=!1,n["default"].use(d),n["default"].use(L["a"]),n["default"].use(u.a),new n["default"]({router:f["a"],store:h["a"],i18n:Q["a"],render:function(t){return t(O)}}).$mount("#app")},5981:function(t,e,a){var n={"./arrow_down.svg":"ccd8","./arrow_left.svg":"cee41","./arrow_right.svg":"adc4","./arrow_up.svg":"eeec","./blindSpot.svg":"4274","./circle.svg":"fcd6","./color_fill.svg":"9f3c","./color_picker.svg":"1616","./compass.svg":"b49e","./delete.svg":"a91f","./diagonal_arrow.svg":"d2f3","./file_download.svg":"9565","./fullscreen.svg":"3dd2","./grid.svg":"5113","./hamburger.svg":"a373","./home.svg":"7936","./information.svg":"4386","./layer.svg":"fb04","./line.svg":"ed85","./list.svg":"a93e","./map.svg":"df19","./minus.svg":"f11b","./mouse.svg":"1959","./ndvi.svg":"3666","./pencil.svg":"7576","./picture.svg":"7b30","./place.svg":"10e6","./plus.svg":"6cf9","./point.svg":"4ec0","./polygon.svg":"5d2b","./rectangle.svg":"16ab","./reset.svg":"473a","./search.svg":"f919","./send.svg":"1460","./square.svg":"fd79","./swap.svg":"979e","./text.svg":"f1f5","./user.svg":"afa4","./world.svg":"c5b8"};function i(t){var e=r(t);return a(e)}function r(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=r,t.exports=i,i.id="5981"},"5c0b":function(t,e,a){"use strict";var n=a("e332"),i=a.n(n);i.a},"5d2b":function(t,e,a){t.exports=a.p+"img/polygon.28d1159d.svg"},6092:function(t,e,a){"use strict";var n=a("fafe"),i=a.n(n);i.a},6511:function(t,e,a){"use strict";var n=a("4c8e"),i=a.n(n);i.a},"65a7":function(t,e,a){"use strict";var n=a("ee24"),i=a.n(n);i.a},6606:function(t,e,a){"use strict";var n=a("96ca"),i=a.n(n);i.a},6994:function(t,e,a){"use strict";var n=a("2303"),i=a.n(n);i.a},"6b86":function(t,e,a){"use strict";var n=a("dddc"),i=a.n(n);i.a},"6cd7":function(t,e,a){},"6cf9":function(t,e,a){t.exports=a.p+"img/plus.714a622b.svg"},"6e73":function(t,e,a){},7055:function(t,e,a){"use strict";a.d(e,"e",(function(){return U})),a.d(e,"d",(function(){return m})),a.d(e,"a",(function(){return W})),a.d(e,"j",(function(){return nt})),a.d(e,"i",(function(){return yt})),a.d(e,"k",(function(){return pt})),a.d(e,"f",(function(){return wt})),a.d(e,"g",(function(){return M})),a.d(e,"b",(function(){return xt})),a.d(e,"c",(function(){return Bt})),a.d(e,"h",(function(){return Ut})),a.d(e,"l",(function(){return Zt}));a("8e6e"),a("ac6a"),a("456d");var n=a("bd86"),i=(a("96cf"),a("3b8d")),r=a("75fc"),o=(a("7514"),a("07a4")),s=a("ce96"),c=a("ed08");function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d={getBaseLayerList:function(){var t=o["a"].getters.baseLayerList;return Object(c["b"])(t)},getDynamicLayerList:function(){var t=o["a"].getters.dynamicLayerList;return Object(c["b"])(t)},getDynamicLayerAsTreeSelect:function(){var t=d.getDynamicLayerList(),e=s["e"].recursiveTreeMapping(t,(function(t){return s["h"].isCategory(t)?t.layers=t.layers.filter((function(t){return s["h"].isLocalService(t)})):s["h"].isLocalService(t)||(t=null),t}));return e},getBasemapLayerAsTreeSelect:function(){var t=d.getBaseLayerList(),e=s["e"].recursiveTreeMapping(t);return e},getLayer:function(t){var e=d.getDynamicLayer(t);return e||(e=d.getBaseLayer(t)),e},getDynamicLayer:function(t){var e=d.getDynamicLayersWithoutCategory(),a=e.find((function(e){return e.id===t}));return a},getBaseLayer:function(t){var e=d.getBaseLayersWithoutCategory(),a=e.find((function(e){return e.id===t}));return a},getLayersWithoutCategory:function(){return[].concat(Object(r["a"])(this.getDynamicLayersWithoutCategory()),Object(r["a"])(this.getBaseLayersWithoutCategory()))},getBaseLayersWithoutCategory:function(){var t=[];return s["e"].recursiveLayerMapping(d.getBaseLayerList(),(function(e){t.push(e)})),t},getDynamicLayersWithoutCategory:function(t){var e=[];return s["e"].recursiveLayerMapping(d.getDynamicLayerList(),(function(a){var n=!t||s["h"].isDynamicFromLocal(a);n&&e.push(a)})),e},getSelectedBasemaps:function(){var t=d.getBaseLayersWithoutCategory().filter((function(t){return t.isSelected}));return t},getSelectedDyanmics:function(){var t=d.getDynamicLayersWithoutCategory().filter((function(t){return t.isSelected}));return t},getSelectedLayers:function(){var t=[].concat(Object(r["a"])(d.getSelectedDyanmics()),Object(r["a"])(d.getSelectedBasemaps()));return t},getExtentCoordinates:function(t){var e=d.getDynamicLayer(t);return e.query.extentCoordinates},getLayerColorOrderList:function(){return o["a"].getters.layerColorOrderList},getFavoriteBaseLayerIds:function(){return o["a"].getters.favoriteBaseLayerIds},getFavoriteDynamicLayerIds:function(){return o["a"].getters.favoriteDynamicLayerIds},getDefaultDynamicLayerIds:function(){return o["a"].getters.defaultDynamicLayerIds},getDefaultBaseLayerIds:function(){return o["a"].getters.defaultBaseLayerIds}},p={setSelected:function(t,e){var a=[];s["h"].isDynamic(t)?(a=d.getDynamicLayerList(),a=s["e"].recursiveLayerMapping(a,function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(n){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:null!=n&&n.id==t.id&&(n.isSelected=e,e&&s["h"].isDynamicFromArcgis(n)&&(n.layers=t.layers.map((function(t){return s["e"].subLayerMapping(t,t)}))));case 1:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()),p.setDynamicLayerList(a)):s["h"].isBasemap(t)&&(a=s["e"].recursiveLayerMapping(d.getBaseLayerList(),function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(n){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:null!=n&&n.id==t.id&&(n.isSelected=e);case 1:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()),p.setBaseLayerList(a))},setColor:function(t,e,a){var n=s["e"].recursiveLayerMapping(d.getDynamicLayerList(),function(){var n=Object(i["a"])(regeneratorRuntime.mark((function n(i){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:null!=i&&i.id==t.id&&(a&&"default"!==a.code?(r=i.layerColor.conditions.find((function(t){return t.id==parseInt(a.code)})),r&&(r.fillColor=e.fillColor,r.borderColor=e.borderColor)):i.color=e);case 1:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}());p.setDynamicLayerList(n)},setQuery:function(t,e){var a=s["e"].recursiveLayerMapping(d.getDynamicLayerList(),function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(n){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:null!=n&&n.id==t.id&&(n.query.where=e);case 1:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}());p.setDynamicLayerList(a)},setExtentCoordinates:function(t,e){var a=s["e"].recursiveLayerMapping(d.getDynamicLayerList(),function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(n){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:null!=n&&n.id==t.id&&(n.query.extentCoordinates=e);case 1:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}());p.setDynamicLayerList(a)},setBaseLayerList:function(t){o["a"].dispatch("saveBaseLayerList",t)},setDynamicLayerList:function(t){o["a"].dispatch("saveDynamicLayerList",t)},setLayerColorOrderList:function(t){o["a"].dispatch("SAVE_LAYER_COLOR_ORDER_LIST",t)},setFavoriteDynamicLayerIds:function(t){o["a"].dispatch("saveFavoriteDyanmicLayerIds",t)},setFavoriteBaseLayerIds:function(t){o["a"].dispatch("saveFavoriteBaseLayerIds",t)},setDefaultDynamicLayerIds:function(t){o["a"].dispatch("saveDefaultDynamicLayerIds",t)},setDefaultBaseLayerIds:function(t){o["a"].dispatch("saveDefaultBaseLayerIds",t)}},f={},m=u({},d,{},p,{},f),h=(a("28a5"),a("7f7f"),a("9923")),g=a("0962"),b=a("778c"),v=a("36d6"),y=a("b85b"),C=new y["y"]({stroke:new y["x"]({color:"rgba(200,20,20,1)",width:1}),fill:new y["g"]({color:"rgba(200,20,20,0.4)"})}),_=new y["y"]({fill:new y["g"]({color:"#00000000"}),stroke:new y["x"]({color:"#C672F5",width:2}),image:new y["b"]({radius:7,fill:new y["g"]({color:"#00000000"})})}),O=new y["y"]({image:new y["l"]({anchor:[.5,46],size:[48,48],anchorXUnits:"fraction",anchorYUnits:"pixels",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAD2ElEQVRogdWaQYgcRRSGv2724HER8eBBFhHJWSWB6ClEood+5pyzJ3P1Ih5EwjKERUQPopJDlICYg4R6IQQMXkxEPETwoBAWWYLIIrIsYQ9xWaY8TPdsbU3XdFV1z5j8UPSb1139/lf16vWr7imstTzOKIDy/ybRB4W1lqIoSmvteKr0fqdARI4BrwMngDVgFRgDO8AfwB3ghqr+1dhw7SXLZMyAtXZcFMWRflVVnQXeA16MvM0t4IKq3k6176LouwZE5BngS+B05i2+As4bY/ZyOh8JIfcIk5GG9ukriqKsquo4oMBTmeQb3APOqOp9107DwZfda7IXcVVVJ4HvgCd6km+wDbyiqlspnbJCSETWgF+YLNAhcQ94KSWcSjicLvfoLlJXFpEV4BuGJw/wAvC5z2GePBM+PvGWjm8BxzuI/A38BGwCe8ABsAtsAQ87+p4TkVdDfPyLV+BwsXblfhEpgXcjyD9dNxerHM7amPlr731r7WsddrDWjo+ETgROA8/OOX/ALPE2dNk7JSJrUSHUFjKhBrzZYXglgnwMSiZP82AINXJprR27ITSvAS8PRDAGJ7r4zISQf/S9BZ5bogPPJ4VQKJV6+ieX6MCqyyckl7HhU1+XVaFmopPPNIR8r0JTBjxYogO7XaMPEAyhgLy5YNIuthq78wa2jJkmJ4R61e6J+CE7C/k6R//1ksjvA9eSQsg9GXJIVe+ynFm4oqo7bXyCIQTRmejCgsmPgVFsWCeFUD0Lt4C7C3TgW2PMZoiPL7dmoa6MBIwWRh9GsXuBoijK7E29iPwOHBuKdY2bxpg3UjoEy2l/V+bqa3Eji+J8jGJHvpFnp8Qj3qavj1eAPwck/2Pzjigm9rNqIbcZY/YZdhbWUzkEa6GQruX8F8A/A5D/1RhzI6djMAt1rv5JSt0HPh7AgZFvN7Yl1UKBB9sn9KtSN4GrufajdmQu/JkwxjxgEkq52FDV6b2Ts1AbsTaiIcdq3YdMCrBUbAOX/XunyNO3CE028uHqQzKwLSKXgLcTHdios1k2knZkbc8IlwyT90Kx2AE+yx35Rk7dkU1l3ylVvQ9cTXDgU1V9GLpfrNw7C3kZaZ24jf8e8NEQNrNrobYRMcb8BlyPcOCSqu72Hf2+tRABeb2D/AGTrJWdeVx5xdqjn20GwM8i8j1wKnD+sjFmsCKwby0UwgcB/T5wMZpdBBb2obuqqovAO45qDJxX1T5P7Rn0/sw6DyJyEjgD/Atcqxf5sKgdKNuObc295lGQp9+JA87NfKP15TkD03nNEGj9r8TjhMFqoa5sNUTOb5P/A8dYOKnlHRBqAAAAAElFTkSuQmCC"})}),E=new y["y"]({fill:new y["g"]({color:"#00000000"}),stroke:new y["x"]({color:"#00000000",width:2})}),S=a("dde5"),w=a("ee13"),T={defaultUnit:"km",conversions:[{from:"km",to:"m",value:1e3},{from:"m",to:"km",value:.001},{from:"cm",to:"km",value:1e-5}]};function L(t,e,a){if(t===T.defaultUnit&&e===T.defaultUnit)return a;var n=T.conversions.find((function(a){return a.from==t&&a.to==e}));return n?a*n.value:0}var k=a("2b0e");function I(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function A(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?I(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var x=new k["default"],D={showSumResultModal:function(){x.$moodal.sumResultModal.show()},showFilterModal:function(){x.$moodal.filterModal.show()},hideFilterModal:function(){x.$moodal.filterModal.hide()},showNdviAssessmentModal:function(){x.$moodal.ndviAssessmentModal.show()},hideNdviAssessmentModal:function(){x.$moodal.ndviAssessmentModal.hide()},showDataAddEditModal:function(){x.$moodal.dataAddEditModal.show()},hideDataAddEditModal:function(){x.$moodal.dataAddEditModal.hide()},showGeometryModal:function(){x.$moodal.geometryModal.show()},hideGeometryModal:function(){x.$moodal.geometryModal.hide()},showColorPickerModal:function(){x.$moodal.colorPickerModal.show()},hideImageUploadModal:function(){x.$moodal.imageUploadModal.hide()},showImageUploadModal:function(){x.$moodal.imageUploadModal.show()},hideProfileModalModal:function(){x.$moodal.profileModal.hide()},showProfileModalModal:function(){x.$moodal.profileModal.show()},hideFavoriteQueryModal:function(){x.$moodal.favoriteQueryModal.hide()},showFavoriteQueryModal:function(){x.$moodal.favoriteQueryModal.show()},hideServiceSelectionModal:function(){x.$moodal.serviceSelectionModal.hide()},showServiceSelectionModal:function(){x.$moodal.serviceSelectionModal.show()},hideDataModal:function(){x.$moodal.dataModal.hide()},showDataModal:function(){x.$moodal.dataModal.show()},hideBlindSpotModal:function(){x.$moodal.blindSpotModal.hide()},showBlindSpotModal:function(){x.$moodal.blindSpotModal.show()},hideComparerModal:function(){x.$moodal.comparerModal.hide()},showComparerModal:function(){x.$moodal.comparerModal.show()},hideChangeDetectionModal:function(){x.$moodal.changeDetectionModal.hide()},showChangeDetectionModal:function(){x.$moodal.changeDetectionModal.show()},hidePrintModal:function(){x.$moodal.printModal.hide()},showPrintModal:function(){x.$moodal.printModal.show()},hideColorConditionInfoModal:function(){x.$moodal.colorConditionInfoModal.hide()},showColorConditionInfoModal:function(){x.$moodal.colorConditionInfoModal.show()}},j={getMoodal:function(){return o["a"].getters.vm.$moodal}},P={setSumResultVisibility:function(t){o["a"].dispatch("saveSumResultModalVisibility",t)}},M=A({},D,{},j,{},P);function R(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function B(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?R(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var F=10,N={addService:function(t){t=yt.getServiceByObj(t);var e=N.buildLayer(t),a=yt.getZIndex(t);e.setZIndex(a);var n=V.getMap();n.addLayer(e),G.setMap(n)},focusToServicePolygon:function(t,e){var a=V.getLayer(t);a.getFeatures(e).then((function(t){document.querySelectorAll('canvas[width="256"][height="256"]').forEach((function(t){return t.remove()}));var e=V.getSelectionLayer();if(!t.length)return G.setSelectedFeatureId(0),void e.changed();var a=t[0];if(a){var n=a.getId();G.setSelectedFeatureId(n),e.changed()}}))},buildSelectionLayer:function(t){var e=V.getLayer(t),a=e.getSource(),n=new y["I"]({map:V.getMap(),renderMode:"vector",source:a,style:function(t){if(null!=t&&t.getId()==V.getSelectedFeatureId())return C}});G.setSelectionLayer(n)},resetSelectionLayer:function(){G.setSelectionLayer(null),G.setSelectedFeatureId(0)},deleteService:function(t){var e=V.getLayer(t);N.removeLayer(e)},refreshService:function(t){N.deleteService(t),N.addService(t)},removeLayer:function(t){var e=V.getMap();e.removeLayer(t),G.setMap(e)},removeDrawPolygons:function(){var t=V.getMap();t.getLayers().forEach((function(t){"draw"===t.get("type")&&N.removeLayer(t)})),G.setMap(t)},focusToGeometry:function(t){var e=[];if(void 0!==t.x?e=[t.x,t.y]:void 0!==t.rings&&(e=t.rings[0]),e.length>0){e=e.map((function(t,e){return Object(y["U"])(t,"EPSG:4326","EPSG:3857")}));var a=new y["v"]([e]),n=V.getMap();n.getView().fit(a,{padding:[-50,50,30,150],size:[50,100],maxZoom:16}),G.setMap(n)}},fitView:function(t){var e=V.getMap();e.getView().fit(t),G.setMap(e)},buildLayer:function(t){t=yt.getServiceByObj(t);var e,a=S["c"].getToken(),n=B({id:t.id,name:t.name},V.getResolutionOptions(t),{type:t.type}),i=s["h"].isLayer(t);if(i){var r=s["h"].isDynamic(t);e=r?s["h"].isLocalService(t)?new y["I"](B({},n,{declutter:!0,source:new y["J"]({format:new y["q"]({idProperty:"gid",geometryName:"geom"}),url:s["i"].buildTileUrl(t,g["g"].LOCAL_MVT)}),style:function(e){var a=t.layerColor,n=null,i=null,r=!1;if(a)for(var o=a.column,c=e.get(o),l=a.conditions,u=0;u<l.length;u++){var d=l[u],p=Object(w["b"])(d.operator),f=s["c"].parseByTypeString(a.columnDataType,d.value),m=s["c"].checkStringArithmeticOperation(c,f,p);if(m){r=!0,n=d.borderColor,i=d.fillColor;break}}return a&&r||(n=t.color.borderColor,i=t.color.fillColor),s["b"].buildVectorStyle(n,i)}})):new y["n"](B({},n,{source:new y["m"]({url:s["i"].buildTileUrl(t,g["g"].IMAGE_ARCGIS_REST),crossOrigin:"Anonymous",params:{token:a,layers:s["e"].renderArcgisSublayerConfig(t),dynamicLayers:s["e"].renderSubLayersColorString(t)}})})):s["h"].isGeowebcacheService(t)?new y["D"](B({},n,{source:new y["E"]({url:s["i"].buildTileUrl(t,g["g"].WMS),params:{LAYERS:t.name,TILED:!0,transparent:!0,format:"image/png",srs:"EPSG:3857",WIDTH:256,HEIGHT:256}})})):s["h"].isGeoserverService(t)?new y["D"](B({},n,{source:new y["E"]({url:s["i"].buildTileUrl(t,g["g"].WMS),params:{LAYER:t.name,TILED:!0,format:"image/png"},serverType:"geoserver"})})):s["h"].isGeoserverGwsService(t)?new y["D"](B({},n,{source:new y["E"]({url:s["i"].buildTileUrl(t,g["g"].WMS),params:{LAYERS:t.name,TILED:!0,format:"image/png",srs:"EPSG:3857"}})})):3857===t.spatial?new y["D"](B({},n,{source:new y["L"]({url:s["i"].buildTileUrl(t,g["g"].XYZ),projection:"EPSG:3857",crossOrigin:"Anonymous"})})):new y["D"](B({},n,{source:new y["A"]({url:s["i"].buildTileUrl(t,g["g"].TILE_ARCGIS_REST),crossOrigin:"Anonymous",params:{token:a,FORMAT:"png8"}})}))}else e=new y["I"](B({},n,{source:new y["J"]({format:new y["q"]({geometryName:"geom"}),url:s["i"].buildTileUrl(t,g["g"].LOCAL_MVT)}),style:function(e){var a=e.get("layerId"),n=t.layers.map((function(t){return t.id})),i=n.indexOf(a),r=v["a"][i],o={border:{hex8:r},fill:{hex8:"#FFFFFF00"}};return s["b"].buildVectorStyle(o)}}));return e}},$={onMapClick:function(t){var e=Object(y["U"])(t.coordinate,"EPSG:3857","EPSG:4326");if(G.setClickedCoordinate(e),G.setClickedPixel(t.pixel),pt.getRemoveStatus()){var a=V.getMap();a.forEachFeatureAtPixel(t.pixel,(function(t,e){try{var a=V.getDrawSource();a.removeFeature(t);var n=document.getElementsByClassName("feature-".concat(t.get("id")));n[0].remove(),G.setDrawSource(a)}catch(i){}}))}else if(pt.getColorPickStatus()){a=V.getMap();a.forEachFeatureAtPixel(t.pixel,(function(t,e){try{var a=new y["y"]({fill:new y["g"]({color:self.shapeFillColor.hex8}),stroke:new y["x"]({color:self.shapeBorderColor.hex8,width:2}),image:new y["b"]({radius:7,fill:new y["g"]({color:self.shapeFillColor.hex8})})});t.setStyle(a)}catch(n){}})),G.setMap(a)}else pt.getInteractionStatus()||M.showServiceSelectionModal()}},G={setMap:function(t){o["a"].dispatch("saveMap",t)},setSelectionLayer:function(t){o["a"].dispatch("saveSelectionLayer",t)},setSelectedFeatureId:function(t){o["a"].dispatch("saveSelectedFeatureId",t)},setDrawSource:function(t){o["a"].dispatch("saveDrawSource",t)},setSketch:function(t){o["a"].dispatch("saveSketch",t)},setZIndex:function(t){var e=V.getMap();e.getLayers().forEach((function(e){void 0!=e.get("id")&&e.get("id")===t.id&&e.setZIndex(yt.getZIndex(t))}))},setCurrentResolution:function(t){var e=V.getMap(),a=e.getView();a.setResolution(t*F),G.setMap(e)},setBaseLayout:function(t){var e=V.getMap(),a=e.getLayers().getArray();a[0].setSource(V.getBaseLayouts()[t].layout),G.setMap(e)},setZoomLevel:function(t){var e=V.getMap();e.getView().setZoom(t),G.setMap(e)},setCenter:function(t,e){var a=V.getMap();e&&e==g["a"].GEOGRAPHIC&&(t=Object(y["U"])(t,"EPSG:4326","EPSG:3857")),a.getView().setCenter(t),G.setMap(a)},setColorsArray:function(t){o["a"].dispatch("SAVE_COLOR_PICKER_DYNAMIC_COLORS",t)},setClickedCoordinate:function(t){o["a"].dispatch("saveClickedCoordinate",t)},setClickedPixel:function(t){o["a"].dispatch("saveClickedPixel",t)}},V={getMap:function(){return o["a"].getters.mapLayer},getCurrentZoomLevel:function(){var t=V.getMap(),e=t.getView(),a=e.getZoom();return a},getCurrentExtent:function(){var t=V.getMap(),e=t.getView().calculateExtent(t.getSize());return Object(y["V"])(e,"EPSG:3857","EPSG:4326")},getCurrentResolution:function(){var t=V.getMap(),e=t.getView(),a=e.getResolution()/F;return a},getCurrentCenter:function(t){var e=V.getMap(),a=e.getView(),n=a.getCenter();return t&&t==g["a"].GEOGRAPHIC&&(n=Object(y["U"])(n,"EPSG:3857","EPSG:4326")),n},getCurrentRotation:function(){var t=V.getMap(),e=t.getView(),a=e.getRotation();return a},getSelectionLayer:function(){return o["a"].getters.selectionLayer},getScaleLineOptions:function(){var t=o["a"].getters.scaleOptions,e=0,a="km",n=62;if(t){var i=t.renderedHTML_.split(" ");e=i[0],a=i[1],n=t.renderedWidth_}return{value:e,unit:a,width:n}},getSelectedFeatureId:function(){return o["a"].getters.selectedFeatureId},getDrawSource:function(){return o["a"].getters.drawSource},getSketch:function(){return o["a"].getters.sketch},getClickedCoordinate:function(){return o["a"].getters.clickedCoordinate},getClickedPixel:function(){return o["a"].getters.clickedPixel},getLayer:function(t){var e=V.getMap(),a=null;return e.getLayers().forEach((function(e){var n=e.get("id");void 0!==n&&n===t&&(a=e)})),a},getBaseLayouts:function(){var t=[{name:h["a"].t("menu.baseLayouts.options.none"),layout:new y["L"]({crossOrigin:"Anonymous",url:""})},{name:h["a"].t("menu.baseLayouts.options.satellite"),layout:new y["L"]({name:"sat",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"})},{name:h["a"].t("menu.baseLayouts.options.street"),layout:new y["L"]({url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}"})},{name:h["a"].t("menu.baseLayouts.options.gray"),layout:new y["L"]({crossOrigin:"Anonymous",url:"https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}"})}];return t},getActiveDynamicLayersColorsGetter:function(){return o["a"].getters.activeDynamicLayersColors},getResolutionOptions:function(t){var e=t.resolutionOption;if(e&&s["h"].isLayer(t)){var a=e.maxResolution,n=e.minResolution;if(e.type==g["d"].ZOOM)return{maxResolution:1.01*Object(y["O"])().getResolution(n),minResolution:Object(y["O"])().getResolution(a)};var i=e.scaleUnit,r=Object(w["a"])(i);return a=L(r,"km",a),n=L(r,"km",n),{maxResolution:a*F,minResolution:n*F}}return{maxResolution:1.01*Object(y["O"])().getResolution(b["b"].minZoomLevel),minResolution:Object(y["O"])().getResolution(b["b"].maxZoomLevel)}}},U=B({},N,{},V,{},G,{},$);function H(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function z(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?H(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):H(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var q={get:function(){return o["a"].getters.bunchLayerList},set:function(t){o["a"].dispatch("saveBunchLayerList",t)}},Q={add:function(t){var e=q.get();t=s["a"].bunchMapper(t),e.push(t),q.set(e)},remove:function(t){for(var e=q.get(),a=0;a<e.length;a++){var n=e[a];if(n.id===t){var i=e.indexOf(n);e.splice(i,1)}}q.set(e)}},Y={getBunchLayerList:function(){var t=q.get();return Object(c["b"])(t)},getBunch:function(t){var e=q.get().find((function(e){return e.id==t}));return e},getBunchLayer:function(t,e){var a=Y.getBunch(t),n=a.layers.find((function(t){return t.id===e}));return n},getExtentCoordinates:function(t){var e=[],a=Y.getBunch(t);return a.layers.forEach((function(t){e.push(t.query.extentCoordinates)})),e}},Z={setBunchLayerList:function(t){o["a"].dispatch("saveBunchLayerList",t)},setSelected:function(t,e){var a=q.get();a=a.map((function(a,n){return a.id===t.id&&(a.isSelected=e),a})),q.set(a)},setColor:function(t,e){var a=q.get();a=a.map((function(a,n){return a.id===t&&(a.color=e),a})),q.set(a)},setQuery:function(t,e,a){var n=q.get();n=n.map((function(n,i){if(n.id===t.id){var r=t.layers;r.map((function(t){return t.id===e&&(t.query.where=a),t}))}return n})),q.set(n)},setExtentCoordinates:function(t,e){var a=q.get();a=a.map((function(a,n){if(a.id===t.id){var i=t.layers;i.forEach((function(t){t.query.extentCoordinates=e}))}return a})),q.set(a)}},W=z({},Z,{},Q,{},Y),K=a("7540");function X(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function J(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?X(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):X(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var tt={buildTableData:function(t,e){var a=t,n=a.fieldAliases,i=a.fieldAliases,r=a.fieldAliases,o=[],s=r.map((function(t,e){return e}));r=r.map((function(t,e){var a=t;for(var i in n)"function"!==typeof n[i]&&t===i&&(a=n[i]);return a}));var c={totalCount:a.totalCount,tableName:e.name,tableHeaders:r,tableStackedHeaders:Object.keys(i),tableHeadersWithAlias:i,features:a.features,filterValues:[],target:n,checkedColumnsData:o,checkedColumns:s},l=et.getDefaultPagingOptions();at.setTableData(c),at.setTablePaging(l)},getTable:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a,n,i,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=m.getDynamicLayer(e.id),at.setTableVisible(),at.setTableLoading(!0),t.next=5,tt.getTableResponse(e);case 5:if(a=t.sent,n=et.getIsSumFilter(),i=s["h"].isLayer(e),r=s["h"].isLocalService(e),o=s["h"].isBunch(e),(r||o)&&(n&&i&&!o&&(at.setSumData(a.data.result),M.showSumResultModal()),xt.getIsRequiredServiceRefresh()&&U.refreshService(e)),void 0===a.data.error){t.next=13;break}return t.abrupt("return");case 13:n||(at.setTableUnvisible(),tt.buildTableData(a.data,e),at.setTableVisible()),at.setTableActiveService(e),at.setIsSumFilter(!1),at.setTableLoading(!1);case 17:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),getTableResponse:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a,n,i,r,o,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n={},i=S["c"].getToken(),r=et.getDefaultPagingOptions(),et.getTableActiveService(),o=s["h"].isArcgisService(e),!o){t.next=12;break}return n=J({token:i,name:e.name,layer:e.id},e.query),t.next=9,K["a"].getTableData(n);case 9:a=t.sent,t.next=33;break;case 12:if(c=s["h"].isBunch(e),!c){t.next=20;break}return n=e.layers.map((function(t,e){return{layerId:t.id,query:J({},t.query)}})),t.next=17,K["a"].getIntersectLocalTableData(e.id,{layerQueries:n,paging:r});case 17:a=t.sent,t.next=33;break;case 20:if(n=J({layerId:e.id},e.query,{paging:r,returnGeom:!0}),l=et.getIsSumFilter(),!l){t.next=30;break}return n.isSum=l,n.ArithmeticColumnName=et.getSumFilterColumn(),t.next=27,K["a"].getLocalArithmeticData(n);case 27:a=t.sent,t.next=33;break;case 30:return t.next=32,K["a"].getLocalTableData(n);case 32:a=t.sent;case 33:return t.abrupt("return",a);case 34:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),getGeometryData:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,a){var n,i,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=null,i=null,r=m.getDynamicLayer(e),!s["h"].isLayer(r)){t.next=17;break}if(!s["h"].isDynamicFromArcgis(r)){t.next=12;break}return i=a[0]+","+a[1],o={token:S["c"].getToken(),name:r.name,layer:r.name,where:r.query.where,geometry:i},t.next=9,K["a"].getGeometryData(o);case 9:n=t.sent,t.next=16;break;case 12:return o={layerId:r.id,where:r.query.where,geometry:a[0]+","+a[1]},t.next=15,K["a"].getLocalTableData(o);case 15:n=t.sent;case 16:return t.abrupt("return",n);case 17:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}()},et={getTableData:function(){return o["a"].getters.tableData},getTablePaging:function(){return o["a"].getters.tablePaging},getServiceData:function(t){var e=et.getTableData(),a=e.find((function(e){return e.service.id===t}));return a},getTableActiveService:function(){return o["a"].getters.tableActiveService},getDefaultPagingOptions:function(){return{page:1,limit:25,isBusy:!1}},getIsSumFilter:function(){return o["a"].getters.isSumFilter},getSumFilterColumn:function(){return o["a"].getters.sumFilterColumn},getTableVisibility:function(){return o["a"].getters.dataTableVisibleStatus},getTableLoadingStatus:function(){return o["a"].getters.dataTableLoading},getIsEditData:function(){return o["a"].getters.isEditData},getEditDataGid:function(){return o["a"].getters.editDataGid},getInfoData:function(){return o["a"].getters.infoData}},at={setTableData:function(t){o["a"].dispatch("SAVE_DATATABLE",t)},setIsEditData:function(t){o["a"].dispatch("saveIsEditData",t)},setEditDataGid:function(t){o["a"].dispatch("saveEditDataGid",t)},setTableActiveService:function(t){o["a"].dispatch("saveTableActiveService",t)},setTableTabs:function(t){o["a"].dispatch("SAVE_DATATABLE_TABS",t)},setTableVisible:function(){o["a"].dispatch("SAVE_DATATABLE_VISIBLE",!0)},setTableUnvisible:function(){o["a"].dispatch("SAVE_DATATABLE_VISIBLE",!1)},setTableLoading:function(t){o["a"].dispatch("SAVE_DATATABLE_LOADING",t)},setIsSumFilter:function(t){o["a"].dispatch("saveIsSumFilter",t)},setSumFilterColumn:function(t){o["a"].dispatch("saveSumFilterColumn",t)},setSumData:function(t){o["a"].dispatch("saveSumData",t)},setTablePaging:function(t){o["a"].dispatch("saveDataTablePaging",t)},setInfoData:function(t){o["a"].dispatch("saveInfoData",t)}},nt=J({},tt,{},et,{},at),it=(a("20d6"),a("f2ef")),rt=(a("4917"),a("c5f6"),a("21a6"));function ot(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function st(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ot(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var ct=null,lt={pickDrawType:function(t,e,a){var n=U.getMap();dt.setDrawType(t),n.removeInteraction(ut.getDraw()),dt.setColorPickStatus(!1),dt.setMarkerStatus(!1),dt.setRemoveStatus(!1),t!==g["b"].NONE?(dt.setInteractionStatus(!0),lt.addInteraction(t,e,a)):dt.setInteractionStatus(!1),dt.addFeatureIdCounter(10),document.body.style.cursor="default"},buildGeometryFunction:function(t){var e=null;if(t!==g["b"].NONE)switch(t){case g["b"].SQUARE:e=Object(y["N"])(4);break;case g["b"].BOX:e=Object(y["M"])();break;case g["b"].CIRCLE:e=Object(y["N"])(120);break}return e},deleteFeature:function(){lt.pickDrawType(g["b"].NONE),dt.setRemoveStatus(!0)},eyeDropper:function(){lt.pickDrawType(g["b"].NONE),M.showColorPickerModal(),dt.setColorPickStatus(!0)},resetFeatures:function(){lt.pickDrawType(g["b"].NONE),document.querySelectorAll(".maptooltip").forEach((function(t){return t.remove()}));var t=U.getDrawSource();t.clear(),U.setDrawSource(t)},exportData:function(){var t=U.getDrawSource();U.setDrawSource(t.clear());var e=t.getFeatures(),a=new y["o"]({maxDepth:10,extractStyles:!0,featureProjection:"EPSG:3857"}).writeFeatures(e,{featureProjection:"EPSG:3857"}),n=new Blob([a],{type:"text/plain"}),i=document.createEvent("MouseEvents"),r=document.createElement("a");r.download="shapes.kml",r.href=window.URL.createObjectURL(n),r.dataset.downloadurl=["text/json",r.download,r.href].join(":"),i.initEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(i)},deleteFeatureTooltip:function(t){var e=document.getElementsByClassName("feature-".concat(t));e[0].remove()},deleteServiceFeatures:function(t){var e=m.getLayer(t);if(e){var a={id:e.id,type:e.type};lt.deleteFeatureByCallback((function(t){var e=t.get("forService"),n=it["a"].isMatch(e,a);return n&&lt.deleteFeatureTooltip(t.get("id")),n}))}},deleteFeatureByName:function(t){lt.deleteFeatureByCallback((function(e){var a=e.get("name"),n=a==t;return n}))},deleteFeatureByCallback:function(t){var e=U.getDrawSource(),a=e.getFeatures();if(!it["a"].isUndefined(t)&&it["a"].isFunction(t)){for(var n=it["a"].filter(a,(function(e){return t(e)})),i=0;i<n.length;i++){var r=n[i];e.removeFeature(r)}U.setDrawSource(e)}},addText:function(t,e){var a="normal",n="14px",i=1,r="Arial",o=a+" "+n+"/"+i+" "+r,s=new y["f"]({geometry:new y["u"](Object(y["R"])([e[0],e[1]]))});s.setStyle(new y["y"]({image:new y["b"]({radius:10,fill:new y["g"]({color:"#00000000"}),stroke:new y["x"]({color:"#00000000",width:1})}),text:new y["z"]({textAlign:"center",textBaseline:"middle",font:o,text:Object(c["f"])(t,16,"\n"),fill:new y["g"]({color:"#aa3300"}),stroke:new y["x"]({color:"#ffffff",width:3}),offsetX:0,offsetY:0,placement:"point"})}));var l=U.getDrawSource();l.addFeature(s),U.setDrawSource(l)},addInteraction:function(t,e,a){dt.setColorPickStatus(!1),dt.setMarkerStatus(!1),dt.setRemoveStatus(!1);var n=lt.buildGeometryFunction(t),i=t;switch(t){case g["b"].SQUARE:i=g["b"].CIRCLE;break;case g["b"].BOX:i=g["b"].CIRCLE;break;case g["b"].TEXT:i=g["b"].POINT;break}var r={source:U.getDrawSource(),type:i,freehandCondition:y["T"],condition:function(t){return 1===t.pointerEvent.buttons}};n&&(r.geometryFunction=n);var o=new y["e"](r);dt.setDraw(o);var c,l=U.getMap();l.addInteraction(o),U.setMap(l),lt.createMeasuremaptooltip(),lt.createHelpmaptooltip(),U.setSketch(null),o.on("drawstart",(function(t){U.setSketch(t.feature);var e=t.coordinate,a=U.getSketch();c=a.getGeometry().on("change",(function(t){var a,n=t.target;n instanceof y["v"]?(a=s["f"].formatArea(n),e=n.getInteriorPoint().getCoordinates()):n instanceof y["p"]?(a=s["f"].formatLength(n),e=n.getLastCoordinate()):n instanceof y["a"]&&(a=s["f"].formatCircleRadius(n),e=n.getLastCoordinate());var i=ut.getMeasureMapTooltipElement(),r=ut.getMeasureMapTooltip();try{i.innerHTML=a,r.setPosition(e)}catch(o){lt.createMeasuremaptooltip(),i.innerHTML=a,r.setPosition(e)}}))}),this),document.removeEventListener("mousedown",ct),ct=function(t){3==t.which&&o.removeLastPoint()},document.addEventListener("mousedown",ct),o.on("drawend",(function(n){var r=ut.getMeasureMapTooltipElement(),o=ut.getMeasureMapTooltip();try{r.className="maptooltip maptooltip-static feature-".concat(ut.getFeatureIdCounter()),o.setOffset([0,-7]);var s=[];n.feature.getGeometry().getType();if(i==g["b"].POINT)s=n.feature.getGeometry().getCoordinates(),s=Object(y["U"])(s,"EPSG:3857","EPSG:4326");else if(i==g["b"].LINESTRING){s=n.feature.getGeometry().getCoordinates();for(var l=0;l<s.length;l++)s[l]=Object(y["U"])(s[l],"EPSG:3857","EPSG:4326")}else{s=n.feature.getGeometry().getCoordinates()[0];for(l=0;l<s.length;l++)s[l]=Object(y["U"])(s[l],"EPSG:3857","EPSG:4326")}dt.setBbox(s)}catch(n){lt.createMeasuremaptooltip(),r.className="maptooltip maptooltip-static feature-".concat(ut.getFeatureIdCounter()),o.setOffset([0,-7])}U.setSketch(null),r=null,Object(y["W"])(c);var u={id:ut.getFeatureIdCounter(),name:""};!it["a"].isUndefined(a)&&it["a"].isObject(a)&&(u=Object.assign(u,a)),n.feature.setProperties(u),t!==g["b"].TEXT?t!==g["b"].POINT?n.feature.setStyle(_):t===g["b"].POINT&&n.feature.setStyle(O):n.feature.setStyle(E),dt.addFeatureIdCounter(10),!it["a"].isUndefined(e)&&it["a"].isFunction(e)&&e(n)}),this)},createHelpmaptooltip:function(){var t=ut.getHelpMapTooltipElement();t&&t.parentNode&&(t.parentNode.removeChild(t),dt.setHelpMapTooltipElement(t));var e=document.createElement("div");e.className="maptooltip hidden";var a=new y["t"]({element:e,offset:[15,0],positioning:"center-left"});dt.setHelpMapTooltipElement(e),dt.setHelpMapTooltip(a);var n=U.getMap();n.addOverlay(a),U.setMap(n)},createMeasuremaptooltip:function(){var t=ut.getMeasureMapTooltipElement();t&&t.parentNode&&(t.parentNode.removeChild(t),dt.setMeasureMapTooltipElement(t));var e=document.createElement("div");e.className="maptooltip maptooltip-measure";var a=new y["t"]({element:e,offset:[0,-15],positioning:"bottom-center"});dt.setMeasureMapTooltipElement(e),dt.setMeasureMapTooltip(a);var n=U.getMap();n.addOverlay(a),U.setMap(n)},pngExport:function(){var t=U.getMap();t.once("rendercomplete",(function(){var e=document.createElement("canvas"),a=t.getSize();e.width=a[0],e.height=a[1];var n=e.getContext("2d");Array.prototype.forEach.call(document.querySelectorAll(".ol-layer canvas"),(function(t){if(t.width>0){var e=t.parentNode.style.opacity;n.globalAlpha=""===e?1:Number(e);var a=t.style.transform,i=a.match(/^matrix\(([^\(]*)\)$/)[1].split(",").map(Number);CanvasRenderingContext2D.prototype.setTransform.apply(n,i),n.drawImage(t,0,0)}})),navigator.msSaveBlob?navigator.msSaveBlob(canvas.msToBlob(),"map.png"):e.toBlob((function(t){Object(rt["saveAs"])(t,"map.png")}))})),t.renderSync()},addGraticule:function(){if(ut.getGraticuleVisibility()){var t=ut.getGraticuleLayer();t.setMap(null),dt.setGraticuleLayer(t),dt.setGraticuleVisibility(!1)}else{var e=U.getMap(),a=new y["j"]({strokeStyle:new y["x"]({color:"rgba(255,120,0,0.9)",width:2,lineDash:[.5,4]}),showLabels:!0,map:e});dt.setGraticuleLayer(a),dt.setGraticuleVisibility(!0)}},addPlace:function(){lt.pickDrawType(g["b"].NONE),dt.setMarkerStatus(!0)},addPoint:function(t,e){var a=new y["f"]({geometry:new y["u"](Object(y["R"])([t[0],t[1]]))}),n={id:ut.getFeatureIdCounter()};!it["a"].isUndefined(e)&&it["a"].isObject(e)&&(n=Object.assign(n,e)),a.setStyle(O),a.setProperties(n);var i=U.getDrawSource();i.addFeature(a),U.setDrawSource(i)},fullScreen:function(){if(window.fullScreen||window.innerWidth==screen.width&&window.innerHeight==screen.height)document.exitFullscreen();else{var t=document.querySelector("body");t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}},showMapTextInput:function(t){var e=U.getMap(),a=t.target.sketchCoords_,n=document.querySelector(".map-text"),i=document.querySelector(".map-text__action--close"),r=new y["t"]({element:n});i.addEventListener("click",(function(){return r.setPosition(void 0),n.blur(),!1})),r.setPosition(a),e.addOverlay(r)}},ut={getGraticuleVisibility:function(){return o["a"].getters.graticuleVisibility},getGraticuleLayer:function(){return o["a"].getters.graticuleLayer},getDraw:function(){return o["a"].getters.draw},getBbox:function(){return o["a"].getters.bbox},getDrawType:function(){return o["a"].getters.drawType},getColorPickStatus:function(){return o["a"].getters.isColorPick},getMarkerStatus:function(){return o["a"].getters.isMarker},getInteractionStatus:function(){return o["a"].getters.isInteraction},getRemoveStatus:function(){return o["a"].getters.isRemove},getFeatureIdCounter:function(){return o["a"].getters.featureIdCounter},getDrawForChangeDetectionStatus:function(){return o["a"].getters.isDrawForChangeDetection},getMeasureMapTooltipElement:function(){return o["a"].getters.measuremaptooltipElement},getMeasureMapTooltip:function(){return o["a"].getters.measuremaptooltip},getHelpMapTooltipElement:function(){return o["a"].getters.helpmaptooltipElement},getHelpMapTooltip:function(){return o["a"].getters.helpmaptooltip}},dt={setGraticuleVisibility:function(t){o["a"].dispatch("saveGraticuleVisibility",t)},setGraticuleLayer:function(t){o["a"].dispatch("saveGraticule",t)},setDrawForChangeDetectionStatus:function(t){o["a"].dispatch("saveDrawForChangeDetectionStatus",t)},setDraw:function(t){o["a"].dispatch("saveDraw",t)},setBbox:function(t){o["a"].dispatch("saveBbox",t)},setColorPickStatus:function(t){o["a"].dispatch("saveColorPickStatus",t)},setMarkerStatus:function(t){o["a"].dispatch("saveMarkerStatus",t)},setInteractionStatus:function(t){o["a"].dispatch("saveInteractionStatus",t)},setRemoveStatus:function(t){o["a"].dispatch("saveRemoveStatus",t)},setDrawType:function(t){o["a"].dispatch("saveDrawType",t)},setFeatureIdCounter:function(t){o["a"].dispatch("saveFeatureIdCounter",t)},addFeatureIdCounter:function(t){t+=ut.getFeatureIdCounter(),dt.setFeatureIdCounter(t)},setMeasureMapTooltipElement:function(t){o["a"].dispatch("saveMeasuremapTooltipElement",t)},setMeasureMapTooltip:function(t){o["a"].dispatch("saveMeasuremapTooltip",t)},setHelpMapTooltipElement:function(t){o["a"].dispatch("saveHelpmapTooltipElement",t)},setHelpMapTooltip:function(t){o["a"].dispatch("saveHelpmapTooltip",t)}},pt=st({},lt,{},ut,{},dt);function ft(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function mt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ft(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var ht={addLayerColorIndex:function(t){var e=m.getLayerColorOrderList(),a=e.findIndex((function(t){return 0===t}));e[a]=t},getLayerColorIndex:function(t){var e=m.getLayerColorOrderList(),a=e.findIndex((function(e){return e===t}));return a},getServiceByObj:function(t){var e=s["h"].isLayer(t),a=s["h"].isBunch(t);return e?m.getLayer(t.id):a?W.getBunch(t.id):void 0},removeLayerColorIndex:function(t){var e=m.getLayerColorOrderList(),a=e.findIndex((function(e){return e===t}));e[a]=0},selectService:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,a){var n,i,r,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e||e.isSelected==a){t.next=31;break}if(a||U.removeDrawPolygons(),n=nt.getTableActiveService(),!a&&n&&s["h"].isEqual(e,n)&&nt.setTableUnvisible(),!s["h"].isLayer(e)){t.next=13;break}if(!a||!s["h"].isDynamicFromArcgis(e)){t.next=10;break}return t.next=8,ht.getResponseDynamic(e);case 8:i=t.sent,e.layers=i.data.layers;case 10:m.setSelected(e,a),t.next=14;break;case 13:W.setSelected(e,a);case 14:if(U.resetSelectionLayer(),!a){t.next=26;break}return ht.addLayerColorIndex(e.id),r=ht.getLayerColorIndex(e.id),o=s["b"].getColorByIndex(r),c=s["b"].buildColorObject(o),t.next=22,ht.saveColor(e,c);case 22:U.addService(e),s["h"].isDynamicFromLocal(e)&&U.buildSelectionLayer(e.id),t.next=30;break;case 26:ht.removeLayerColorIndex(e.id),U.deleteService(e.id),ht.resetQuery(e.id),pt.deleteServiceFeatures(e.id);case 30:S["b"].updateHash();case 31:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}(),setServicesStatusByIds:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,n){e&&e.length>0&&e.forEach(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=m.getLayer(e),t.next=3,ht.selectService(n,a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t()}));case 2:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}(),getResponseDynamic:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=null,!s["h"].isDynamicFromArcgis(e)){t.next=5;break}return t.next=4,K["a"].getDynamicLayers({token:S["c"].getToken(),name:e.name});case 4:a=t.sent;case 5:return t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),dynamicLayersReset:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,a){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!s["h"].isDynamicFromArcgis(e)){t.next=6;break}return t.next=3,s["h"].isLayerColorEnabled(e);case 3:n=t.sent,r=s["e"].recursiveLayerMapping(m.getDynamicLayerList(),function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:null!=a&&a.id==e.id&&void 0!==a.layers&&null!==a.layers&&(a.layers=a.layers.map((function(t,e){return mt({},t,{isColorEnabled:n})})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),m.setDynamicLayerList(r);case 6:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}(),selectSubService:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,a,n,r){var o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o=r.target.checked,c=s["e"].recursiveLayerMapping(m.getDynamicLayerList(),function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:null!=a&&a.id==e.id&&(i=a.layers.find((function(t){return t.id==n})),i.isSelected=o);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),m.setDynamicLayerList(c),ht.dynamicLayersReset(e,o),U.refreshService(e.id);case 5:case"end":return t.stop()}}),t)})));function e(e,a,n,i){return t.apply(this,arguments)}return e}(),saveColor:function(t,e,a){var n=s["h"].isLayer(t),i=s["h"].isBunch(t);return new Promise((function(r){n?m.setColor(t,e,a):i&&W.setColor(t.id,e),r()}))},resetQuery:function(t){var e=m.getLayer(t),a=s["h"].isBunch(e),n=s["h"].isDynamic(e)&&s["h"].isLayer(e);if(a){var i=e.layers;i.forEach((function(t){var a=!it["a"].isUndefined(t.id);a&&(bt.setQuery(e,"",t.id),bt.setExtentCoordinates(e,""))}))}else n&&(bt.setQuery(e,""),bt.setExtentCoordinates(e,""))}},gt={onDraggableMoveCallback:function(t){switch(t){case g["f"].DYNAMIC_LAYER:var e=m.getDynamicLayerList();e.map((function(t,e){U.setZIndex(t)})),m.setDynamicLayerList(e);break;case g["f"].BASE_LAYER:e=m.getBaseLayerList();e.map((function(t,e){U.setZIndex(t)})),m.setBaseLayerList(e);break;case g["f"].BUNCH:e=W.getBunchLayerList();e.map((function(t,e){U.setZIndex(t)})),W.setBunchLayerList(e);break}}},bt={setQuery:function(t,e,a){var n=s["h"].isBunch(t),i=s["h"].isDynamic(t)&&s["h"].isLayer(t),r=!it["a"].isUndefined(a);n&&r?W.setQuery(t,a,e):i&&m.setQuery(t,e)},setExtentCoordinates:function(t,e){var a=s["h"].isBunch(t),n=s["h"].isDynamic(t)&&s["h"].isLayer(t);a?W.setExtentCoordinates(t,e):n&&m.setExtentCoordinates(t,e)}},vt={getDynamicService:function(t,e){var a=s["h"].isBunch(t),n=s["h"].isDynamic(t)&&s["h"].isLayer(t),i=!it["a"].isUndefined(e),r=null;return a&&i?r=W.getBunchLayer(t.id,e):n&&(r=m.getDynamicLayer(t.id)),r},getZIndex:function(t){var e=0,a=0;return s["h"].isLayer(t)?s["h"].isDynamic(t)?(e=b["c"].dynamicZIndex,a=vt.getOrderNumber(m.getDynamicLayerList(),t)):(e=b["c"].basemapZIndex,a=vt.getOrderNumber(m.getBaseLayerList(),t)):(e=b["c"].bunchZIndex,a=vt.getOrderNumber(W.getBunchLayerList(),t)),e-a},getOrderNumber:function(t,e){var a=0,n=0;return s["e"].recursiveLayerMapping(t,(function(t){a++,t.name==e.name&&(n=a)})),n}},yt=mt({},ht,{},vt,{},bt,{},gt),Ct=a("aa3f");function _t(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Ot(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?_t(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):_t(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Et={getToolList:function(){return[{key:"mouse",label:h["a"].t("menu.tool.mouse"),image:Ct["b"].mouse,click:function(){return pt.pickDrawType(g["b"].NONE)}},{key:"addText",label:h["a"].t("menu.tool.addText"),image:Ct["b"].text,click:function(){var t=function(t){pt.showMapTextInput(t)};pt.pickDrawType(g["b"].TEXT,t)}},{key:"addPoint",label:h["a"].t("menu.tool.addPoint"),image:Ct["b"].point,click:function(){return pt.pickDrawType(g["b"].POINT)}},{key:"rectangle",label:h["a"].t("menu.tool.rectangle"),image:Ct["b"].rectangle,click:function(){return pt.pickDrawType(g["b"].BOX)}},{key:"square",label:h["a"].t("menu.tool.square"),image:Ct["b"].square,click:function(){return pt.pickDrawType(g["b"].SQUARE)}},{key:"circle",label:h["a"].t("menu.tool.circle"),image:Ct["b"].circle,click:function(){return pt.pickDrawType(g["b"].CIRCLE)}},{key:"polygon",label:h["a"].t("menu.tool.polygon"),image:Ct["b"].polygon,click:function(){return pt.pickDrawType(g["b"].POLYGON)}},{key:"line",label:h["a"].t("menu.tool.line"),image:Ct["b"].line,click:function(){return pt.pickDrawType(g["b"].LINESTRING)}},{key:"addPlace",label:h["a"].t("menu.tool.addPlace"),image:Ct["b"].place,click:function(){}},{key:"reset",label:h["a"].t("menu.tool.reset"),image:Ct["b"].reset,click:pt.resetFeatures},{key:"delete",label:h["a"].t("menu.tool.delete"),image:Ct["b"].delete,click:pt.deleteFeature},{key:"pickColor",label:h["a"].t("menu.tool.pickColor"),image:Ct["b"].color_picker,click:pt.eyeDropper},{key:"changeDetection",label:h["a"].t("menu.tool.changeDetection"),image:Ct["b"].world,click:function(){var t=function(){M.showChangeDetectionModal()};pt.pickDrawType(g["b"].BOX,t)}},{key:"graticule",label:h["a"].t("menu.tool.graticule"),image:Ct["b"].grid,click:pt.addGraticule},{key:"ndviAssessment",label:h["a"].t("menu.tool.ndviAssesment"),image:Ct["b"].ndvi,click:function(){var t=function(){M.showNdviAssessmentModal()};pt.pickDrawType(g["b"].BOX,t)}},{key:"blindSpot",label:h["a"].t("menu.tool.blindSpotDetection"),image:Ct["b"].blindSpot,click:function(){var t=function(){M.showBlindSpotModal()};pt.pickDrawType(g["b"].LINESTRING,t)}},{key:"swap",label:h["a"].t("menu.tool.swapImage"),image:Ct["b"].swap,click:function(){M.showComparerModal()}},{key:"print",label:h["a"].t("menu.tool.print"),image:Ct["b"].ndvi,click:function(){M.showPrintModal()}}]},getBottomMenu:function(){return[{key:"information",label:h["a"].t("menu.information.title"),image:Ct["b"].information,click:St.setInformationModalVisible},{key:g["c"].BASE_MAP_TYPE,label:h["a"].t("menu.baseLayouts.title"),image:Ct["b"].hamburger,click:function(){St.setActiveMenuTab(g["c"].BASE_MAP_TYPE)}},{key:"exportPNG",label:h["a"].t("menu.exportPng"),image:Ct["b"].picture,click:pt.pngExport},{key:"exportGeojson",label:h["a"].t("menu.exportGeojson"),image:Ct["b"].file_download,click:pt.exportData},{key:"fullscreen",label:h["a"].t("menu.fullscreen"),image:Ct["b"].fullscreen,click:pt.fullScreen}]},getTopMenu:function(){return[{key:g["c"].PROFILE,label:h["a"].t("menu.profile.title"),image:Ct["b"].user,click:function(){St.setActiveMenuTab(g["c"].PROFILE)}},{key:g["c"].TOOL,label:h["a"].t("menu.tool.title"),image:Ct["b"].pencil,click:function(){St.setActiveMenuTab(g["c"].TOOL)}},{key:g["c"].DYNAMIC_LAYER,label:h["a"].t("menu.dynamicLayers"),image:Ct["b"].layer,click:function(){St.setActiveMenuTab(g["c"].DYNAMIC_LAYER)}},{key:g["c"].BASE_LAYER,label:h["a"].t("menu.baseLayers"),image:Ct["b"].map,click:function(){St.setActiveMenuTab(g["c"].BASE_LAYER)}}]},getActiveMenuTab:function(){return o["a"].getters.activeMenuTab},getNotificationCount:function(){return o["a"].getters.notificationCount}},St={setActiveMenuTab:function(t){t===Et.getActiveMenuTab()&&(t=""),o["a"].dispatch("saveActiveMenuTab",t)},setInformationModalVisible:function(){o["a"].dispatch("saveInformationModalVisibility",!0)},setInformationModalUnvisible:function(){o["a"].dispatch("saveInformationModalVisibility",!1)},setNotificationCount:function(){o["a"].dispatch("saveNotificationCount",!1)}},wt=Ot({},Et,{},St);a("6762"),a("2fdb");function Tt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Lt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Tt(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Tt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var kt={},It={getFilterColumnValues:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,a){var n,i,r,o,c,l,u,d,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=m.getDynamicLayer(e),i=[],r={id:e},!s["h"].isLocalService(n)){t.next=11;break}return t.next=6,K["a"].getLayerColumnsDistinctData(r);case 6:o=t.sent,c=o.data.result,i=c[Object.keys(c).find((function(t){return t.toLowerCase()===a.toLowerCase()}))],t.next=22;break;case 11:l=nt.getTableData(),u=Object.keys(l.tableHeadersWithAlias),d=0;case 14:if(!(d<u.length)){t.next=21;break}if(l.tableHeadersWithAlias[u[d]]!==a){t.next=18;break}return a=u[d],t.abrupt("break",21);case 18:d++,t.next=14;break;case 21:for(p=0;p<l.features.length;p++)i.includes(l.features[p].attributes[a])||i.push(l.features[p].attributes[a]);case 22:return t.abrupt("return",i);case 23:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}(),getIsRequiredServiceRefresh:function(){return o["a"].getters.isRequiredServiceRefresh}},At={setIsRequiredServiceRefresh:function(t){o["a"].dispatch("saveIsRequiredServiceRefreshStatus",t)}},xt=Lt({},kt,{},It,{},At);function Dt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function jt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Dt(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Dt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Pt={historyBack:function(){Rt.setHistoryIsNeedUpdate(!1);var t=Mt.getHistoryIndex();t-=1,Rt.setHistoryIndex(t);var e=Mt.getHistory(),a=e[t-1],n=U.getMap();n.getView().setCenter(a.center),n.getView().setZoom(a.zoom),n.getView().setRotation(a.rotation),U.setMap(n),Rt.setHistoryIsNextExist(!0),1===t&&Rt.setHistoryIsPreviousExist(!1)},historyNext:function(){var t=Mt.getHistory(),e=Mt.getHistoryIndex();e+1===t.length&&Rt.setHistoryIsNextExist(!1),Rt.setHistoryIsPreviousExist(!0),Rt.setHistoryIsNeedUpdate(!1),e+=1,Rt.setHistoryIndex(e);var a=t[e-1],n=U.getMap();n.getView().setCenter(a.center),n.getView().setZoom(a.zoom),n.getView().setRotation(a.rotation),U.setMap(n)},updateHistoryMap:function(){var t=Mt.getHistoryIsNeedUpdate();if(t){var e=U.getMap(),a=e.getView(),n={zoom:a.getZoom(),center:a.getCenter(),rotation:a.getRotation()};S["b"].updateHash(),Pt.addHistory(n);var i=Mt.getHistory();Rt.setHistoryIndex(i.length),Rt.setHistoryIsNextExist(!1),1!==Mt.getHistoryIndex()&&Rt.setHistoryIsPreviousExist(!0)}else Rt.setHistoryIsNeedUpdate(!0)},addHistory:function(t){var e=Mt.getHistory();e.push(t),Rt.setHistory(e)}},Mt={getHistory:function(){return o["a"].getters.history},getHistoryIndex:function(){return o["a"].getters.historyIndex},getHistoryIsNeedUpdate:function(){return o["a"].getters.historyIsNeedUpdate},getHistoryIsNextExist:function(){return o["a"].getters.historyIsNextExist},getHistoryIsPreviousExist:function(){return o["a"].getters.historyIsPreviousExist}},Rt={setHistory:function(t){o["a"].dispatch("saveHistory",t)},setHistoryIsNeedUpdate:function(t){o["a"].dispatch("saveHistoryIsNeedUpdate",t)},setHistoryIndex:function(t){o["a"].dispatch("saveHistoryIndex",t)},setHistoryIsNextExist:function(t){o["a"].dispatch("saveHistoryIsNextExist",t)},setHistoryIsPreviousExist:function(t){o["a"].dispatch("saveHistoryIsPreviousExist",t)}},Bt=jt({},Mt,{},Rt,{},Pt);function Ft(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Nt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ft(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ft(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var $t={},Gt={getNdviExtent:function(){return o["a"].getters.ndviExtent}},Vt={setNdviExtent:function(t){o["a"].dispatch("saveNdviExtent",t)}},Ut=Nt({},$t,{},Gt,{},Vt);function Ht(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function zt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ht(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ht(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var qt={},Qt={getRoles:function(){return o["a"].getters.roles},getDirectivePermissions:function(){return o["a"].getters.directivePermissions},getUserInfo:function(){return o["a"].getters.userInfo}},Yt={setRoles:function(t){o["a"].dispatch("saveRoles",t)},setDirectivePermissions:function(t){o["a"].dispatch("saveDirectivePermissions",t)},setUserInfo:function(t){o["a"].dispatch("saveUserInfo",t)}},Zt=zt({},qt,{},Qt,{},Yt)},"72e4":function(t,e,a){},7540:function(t,e,a){"use strict";a("7f7f");var n=a("b775"),i=a("78a3");e["a"]={getUserRelatedLayers:function(){return n["a"].get(i["m"]+"/api/userlayer/getuserlayers")},getLayers:function(){return n["a"].get(i["j"].GET_ALL)},getData:function(t,e){return n["a"].get(t,{params:e})},postData:function(t,e){return n["a"].post(t,e)},getLayerColumnsDistinctData:function(t){return n["a"].get(i["m"]+"/api/DataTable/GetDistinctValues/"+t.id,{params:{f:"json"}})},getLayersWithFullData:function(t){return n["a"].get("/",{params:{token:t.token,f:"json",option:"footprints"}})},getLayersWithFullDataFromServer:function(t){return n["a"].get(i["m"]+"/api/Map/GetLayers")},getLayerDynamic:function(t){return n["a"].get(i["m"]+"/api/map/service/"+t.name+"/MapServer/layers",{params:{f:"json",token:t.token}})},getDynamicLayers:function(t){return n["a"].get(i["m"]+"/api/map/service/"+t.name+"/MapServer/",{params:{token:t.token,f:"json"}})},getLocalTableData:function(t){return n["a"].get(i["m"]+"/api/datatable/GetDatas/"+t.layerId+"/",{params:t})},getIntersectLocalTableData:function(t,e){return n["a"].get(i["m"]+"/api/datatable/Intersect/GetData/"+t+"/",{params:e})},getLocalArithmeticData:function(t){return n["a"].get(i["m"]+"/api/datatable/GetArithmeticData/"+t.layerId+"/",{params:t})},getTableHeaders:function(t){return n["a"].get(i["d"].GET_TABLE_INFO+"/".concat(t))}}},7576:function(t,e,a){t.exports=a.p+"img/pencil.4d095ce0.svg"},"778c":function(t,e,a){"use strict";a.d(e,"c",(function(){return n})),a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return r}));var n={dynamicZIndex:2e3,basemapZIndex:1e3,bunchZIndex:3e3},i={minZoomLevel:0,maxZoomLevel:20},r={f:"image",format:"png",transparent:"true",size:"1024,1024",bbox:null,bboxsr:"4326",imagesr:"4326",dpi:"90"}},"78a3":function(t,e,a){"use strict";a.d(e,"p",(function(){return o})),a.d(e,"m",(function(){return s})),a.d(e,"i",(function(){return C})),a.d(e,"n",(function(){return c})),a.d(e,"h",(function(){return u})),a.d(e,"g",(function(){return p})),a.d(e,"e",(function(){return h})),a.d(e,"f",(function(){return f})),a.d(e,"l",(function(){return g})),a.d(e,"o",(function(){return m})),a.d(e,"c",(function(){return d})),a.d(e,"a",(function(){return l})),a.d(e,"j",(function(){return v})),a.d(e,"d",(function(){return y})),a.d(e,"k",(function(){return b})),a.d(e,"b",(function(){return _}));var n=a("ce96"),i=window.location,r=i.protocol+"//webgis.azercosmos.az",o=r,s=i.protocol+"//webgis.azercosmos.az";console.log("URL",s);var c={GET_INFO_URL:s+"/api/user/GetInfo",GET_URL:s+"/api/user/Get"},l={LOGIN_URL:s+"/api/account/gettoken"},u={GET_LANGUAGE:s+"/api/language/getlanguages"},d={ADD:s+"/api/bunch/add",EDIT:s+"/api/bunch/edit",DELETE:s+"/api/bunch/delete",GET:s+"/api/bunch/get",GET_ALL:s+"/api/bunch/getall"},p={ADD:s+"/api/favoritequery/add",EDIT:s+"/api/favoritequery/edit",DELETE:s+"/api/favoritequery/delete",GET:s+"/api/favoritequery/get",GET_ALL:s+"/api/favoritequery/getall"},f={SET:s+"/api/favoritelayer/set",GET_ALL:s+"/api/favoritelayer/getall"},m={SET:s+"/api/workspace/set",GET:s+"/api/workspace/get",DELETE:s+"/api/workspace/delete"},h={SET:s+"/api/defaultlayer/set",GET_ALL:s+"/api/defaultlayer/getall"},g={GET_ALL:s+"/api/notification/getall",SET_READED:s+"/api/notification/setreaded",GET_UNREAD_NOTIFICATION_COUNT:s+"/api/notification/GetUnreadNotificationCount"},b={GET_ALL:s+"/api/ndviassessment/getall"},v={GET_ALL:s+"/api/Map/GetLayers"},y={GET_TABLE_INFO:s+"/api/datatable/GetTableInfo",ADD_OR_EDIT:s+"/api/datatable/AddOrEdit",GET_ITEM:s+"/api/datatable/GetItem"},C={GET:s+"/api/layerdataimage/Get",GET_ALL:s+"/api/layerdataimage/GetAll",ADD:s+"/api/layerdataimage/Add",GET_BASE64_FILE:s+"/api/layerdataimage/GetBase64File",DELETE:s+"/api/layerdataimage/Delete"},_={EXPORT_IMAGE_URL:function(t,e){var a=s+"/api/service/arcgis/"+t+"/?"+n["i"].formatQueryString(e);return a},SERVICE_URl:s+"/api/service/arcgis"}},7936:function(t,e,a){t.exports=a.p+"img/home.75d8bae7.svg"},"7b02":function(t,e,a){"use strict";var n=a("e6e1"),i=a.n(n);i.a},"7b30":function(t,e,a){t.exports=a.p+"img/picture.60b5cd0c.svg"},"89e4":function(t,e,a){},"8ae2":function(t,e,a){"use strict";var n=a("b775"),i=a("78a3");e["a"]={getAll:function(){return n["a"].get(i["e"].GET_ALL)},set:function(t){return n["a"].post(i["e"].SET,t)}}},"8bb0":function(t,e,a){"use strict";var n=a("b775"),i=a("78a3");e["a"]={get:function(t){return n["a"].post(i["c"].ADD,t)},getAll:function(){return n["a"].get(i["c"].GET_ALL)},add:function(t){return n["a"].post(i["c"].ADD,t)},edit:function(t){return n["a"].post(i["c"].ADD,t)},remove:function(t){return n["a"].delete(i["c"].DELETE+"/"+t)}}},"91a5":function(t,e,a){},9490:function(t,e,a){"use strict";var n=a("ed13"),i=a.n(n);i.a},9560:function(t,e,a){},9565:function(t,e,a){t.exports=a.p+"img/file_download.1e64a110.svg"},"96ca":function(t,e,a){},"979e":function(t,e,a){t.exports=a.p+"img/swap.a401f5ac.svg"},9923:function(t,e,a){"use strict";a.d(e,"b",(function(){return o}));a("ac6a"),a("456d");var n=a("2b0e"),i=a("a925");n["default"].use(i["a"]);var r={};function o(){var t=localStorage.getItem("language");if(t)return t;for(var e=(navigator.language||navigator.browserLanguage).toLowerCase(),a=Object.keys(r),n=0,i=a;n<i.length;n++){var o=i[n];if(e.indexOf(o)>-1)return o}return"az-AZ"}var s=new i["a"]({locale:o(),messages:r});e["a"]=s},"99ac":function(t,e,a){"use strict";var n=a("9ae1"),i=a.n(n);i.a},"9ae1":function(t,e,a){},"9cda":function(t,e,a){},"9d64":function(t,e,a){t.exports=a.p+"img/logo.584423f0.png"},"9f3c":function(t,e,a){t.exports=a.p+"img/color_fill.2ff7c080.svg"},a373:function(t,e,a){t.exports=a.p+"img/hamburger.84eb1648.svg"},a8b1:function(t,e,a){"use strict";var n=a("3f02"),i=a.n(n);i.a},a91f:function(t,e,a){t.exports=a.p+"img/delete.65895fc9.svg"},a93e:function(t,e,a){t.exports=a.p+"img/list.d1087ea1.svg"},aa3f:function(t,e,a){"use strict";function n(t){return a("5981")("./".concat(t,".svg"))}a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return r}));var i=a("9d64"),r=a("3077"),o={arrow_down:n("arrow_down"),arrow_left:n("arrow_left"),arrow_right:n("arrow_right"),arrow_up:n("arrow_up"),circle:n("circle"),color_fill:n("color_fill"),color_picker:n("color_picker"),compass:n("compass"),delete:n("delete"),diagonal_arrow:n("diagonal_arrow"),file_download:n("file_download"),fullscreen:n("fullscreen"),grid:n("grid"),hamburger:n("hamburger"),home:n("home"),information:n("information"),layer:n("layer"),line:n("line"),list:n("list"),map:n("map"),minus:n("minus"),mouse:n("mouse"),pencil:n("pencil"),picture:n("picture"),place:n("place"),plus:n("plus"),point:n("point"),polygon:n("polygon"),rectangle:n("rectangle"),reset:n("reset"),search:n("search"),square:n("square"),user:n("user"),world:n("world"),ndvi:n("ndvi"),swap:n("swap"),text:n("text"),blindSpot:n("blindSpot"),send:n("send")}},adc4:function(t,e,a){t.exports=a.p+"img/arrow_right.75ea6b99.svg"},afa4:function(t,e,a){t.exports=a.p+"img/user.1b45938d.svg"},b007:function(t,e,a){},b42e:function(t,e,a){"use strict";var n=a("fbfa"),i=a.n(n);i.a},b49e:function(t,e,a){t.exports=a.p+"img/compass.a04074c1.svg"},b775:function(t,e,a){"use strict";var n=a("bc3a"),i=a.n(n),r=a("78a3"),o=a("dde5"),s=a("ce96"),c=a("9923"),l=i.a.create({baseURL:"".concat(r["p"],"/arcgis/rest/services"),withCredentials:!1,returnFullResponse:!1,popupErrorMessage:!0,paramsSerializer:function(t){return s["i"].formatQueryString(t)}});l.interceptors.request.use((function(t){return t.headers["Authorization"]="Bearer "+o["c"].getToken(),t.headers["Accept-Language"]=Object(c["b"])(),t}),(function(t){return Promise.reject(t)})),l.interceptors.response.use((function(t){return t}),(function(t){return Promise.resolve(t.response)})),e["a"]=l},b85b:function(t,e,a){"use strict";var n=a("5eee");a.d(e,"r",(function(){return n["a"]}));var i=a("a2c7");a.d(e,"K",(function(){return i["a"]}));var r=a("0710");a.d(e,"t",(function(){return r["a"]}));var o=a("4cdf");a.d(e,"f",(function(){return o["default"]}));var s=a("7a09");a.d(e,"p",(function(){return s["a"]}));var c=a("5bc3");a.d(e,"v",(function(){return c["b"]}));var l=a("f822");a.d(e,"a",(function(){return l["a"]}));var u=a("f403");a.d(e,"u",(function(){return u["default"]}));var d=a("c807");a.d(e,"s",(function(){return d["a"]}));var p=a("3a39");a.d(e,"Q",(function(){return p["a"]}));var f=a("d946");a.d(e,"d",(function(){return f["a"]}));var m=a("88df");a.d(e,"c",(function(){return m["a"]}));var h=a("793c");a.d(e,"B",(function(){return h["a"]}));var g=a("ce2c");a.d(e,"b",(function(){return g["a"]}));var b=a("8295");a.d(e,"z",(function(){return b["a"]}));var v=a("83a6");a.d(e,"g",(function(){return v["a"]}));var y=a("8682");a.d(e,"x",(function(){return y["a"]}));var C=a("6c77");a.d(e,"y",(function(){return C["default"]}));var _=a("6cbf");a.d(e,"l",(function(){return _["default"]}));var O=a("480c");a.d(e,"D",(function(){return O["a"]}));var E=a("3e6b");a.d(e,"G",(function(){return E["default"]}));var S=a("c810");a.d(e,"n",(function(){return S["a"]}));var w=a("97e6");a.d(e,"I",(function(){return w["a"]}));var T=a("78db2");a.d(e,"J",(function(){return T["a"]}));var L=a("fdb7");a.d(e,"q",(function(){return L["a"]}));var k=a("089b");a.d(e,"O",(function(){return k["b"]}));var I=a("78db");a.d(e,"C",(function(){return I["a"]}));var A=a("5043");a.d(e,"A",(function(){return A["a"]}));var x=a("5831");a.d(e,"H",(function(){return x["default"]}));var D=a("b090");a.d(e,"m",(function(){return D["a"]}));var j=a("256f");a.d(e,"R",(function(){return j["fromLonLat"]})),a.d(e,"U",(function(){return j["transform"]})),a.d(e,"V",(function(){return j["transformExtent"]})),a.d(e,"S",(function(){return j["get"]}));var P=a("2ef1");a.d(e,"L",(function(){return P["a"]}));var M=a("9d47");a.d(e,"w",(function(){return M["a"]}));var R=a("21bc");a.d(e,"P",(function(){return R["a"]}));var B=a("cbcb");a.d(e,"h",(function(){return B["a"]}));var F=a("a2e1");a.d(e,"i",(function(){return F["a"]}));var N=a("8083");a.d(e,"k",(function(){return N["a"]}));var $=a("1ab5");a.d(e,"o",(function(){return $["a"]}));var G=a("b168");a.d(e,"F",(function(){return G["a"]}));var V=a("962d");a.d(e,"j",(function(){return V["a"]}));var U=a("06f8");a.d(e,"T",(function(){return U["i"]}));var H=a("ac29");a.d(e,"e",(function(){return H["c"]})),a.d(e,"N",(function(){return H["b"]})),a.d(e,"M",(function(){return H["a"]}));var z=a("35a7");a.d(e,"W",(function(){return z["b"]}));var q=a("f2f0");a.d(e,"E",(function(){return q["a"]}))},bb3b:function(t,e,a){},bd51:function(t){t.exports=JSON.parse('{"key":"6LfKrcUZAAAAADyuK78vK0GngnWGbFMuBQ2TsKkS"}')},bec2:function(t,e,a){"use strict";var n=a("3520"),i=a.n(n);i.a},bf17:function(t,e,a){"use strict";var n=a("16d2"),i=a.n(n);i.a},bfac:function(t,e,a){"use strict";var n=a("d01b"),i=a.n(n);i.a},c132:function(t,e,a){"use strict";var n=a("ced0"),i=a.n(n);i.a},c5b8:function(t,e,a){t.exports=a.p+"img/world.19e26a6b.svg"},c8ca:function(t,e,a){t.exports=a.p+"img/logo-en.584423f0.png"},ccd8:function(t,e,a){t.exports=a.p+"img/arrow_down.525f9aba.svg"},ccfe:function(t,e,a){"use strict";var n=a("3ed9"),i=a.n(n);i.a},ce96:function(t,e,a){"use strict";a.d(e,"f",(function(){return l})),a.d(e,"b",(function(){return b})),a.d(e,"e",(function(){return S})),a.d(e,"d",(function(){return L})),a.d(e,"a",(function(){return x})),a.d(e,"h",(function(){return F})),a.d(e,"i",(function(){return q})),a.d(e,"c",(function(){return W})),a.d(e,"j",(function(){return tt})),a.d(e,"g",(function(){return it}));a("8e6e"),a("ac6a"),a("456d");var n=a("bd86"),i=a("790a"),r=a("b85b");function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function s(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var c={bboxToExtent:function(t){var e=new r["v"]([t]).getExtent();return e},formatArea:function(t){var e,a=Object(i["a"])(t);return e=a>1e4?Math.round(a/1e6*100)/100+" km<sup>2</sup>":Math.round(100*a)/100+" m<sup>2</sup>",e},formatLength:function(t){var e,a=Object(i["c"])(t);return e=a>100?Math.round(a/1e3*100)/100+" km":Math.round(100*a)/100+" m",e},formatCircleRadius:function(t){var e,a=t.getRadius()*METERS_PER_UNIT["m"];return e=a>100?Math.round(a/1e3*100)/100+" km":Math.round(100*a)/100+" m",e}},l=s({},c),u=a("07a4"),d=a("36d6"),p=a("f2ef");function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?f(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var h={renderColor:function(t,e,a){var n=[],i=[];n[0]=e.rgba.r,n[1]=e.rgba.g,n[2]=e.rgba.b,n[3]=255*e.rgba.a,i[0]=a.rgba.r,i[1]=a.rgba.g,i[2]=a.rgba.b,i[3]=255*a.rgba.a;var r="["+n[0]+","+n[1]+","+n[2]+","+n[3]+"]",o="["+i[0]+","+i[1]+","+i[2]+","+i[3]+"]",s='{"id":'+t+',"name":"","source":{"type":"mapLayer","mapLayerId": '+t+'},"drawingInfo":{"renderer":{"type":"simple","label":"","description":"","symbol":{"color":'+r+',"outline":{"color":'+o+',"width":1.0,"type":"esriSLS","style":"esriSLSSolid"},"type":"esriSFS","style":"esriSFSSolid"}}},"minScale":0,"maxScale":0}';return s},buildVectorStyle:function(t,e){(p["a"].isNull(t)||p["a"].isUndefined(t))&&(t=g.getDefaultColorObject().borderColor),(p["a"].isNull(e)||p["a"].isUndefined(e))&&(e=g.getDefaultColorObject().fillColor);var a=new r["y"]({fill:new r["g"]({color:e}),stroke:new r["x"]({color:t,width:.5}),image:new r["b"]({radius:7,fill:new r["g"]({color:e}),stroke:new r["x"]({color:t,width:.5})})});return a},buildColorObject:function(t,e){var a=g.getDefaultColorObject();return(p["a"].isUndefined(t)||p["a"].isNull(t))&&(t=a.borderColor),(p["a"].isUndefined(e)||p["a"].isNull(e))&&(e=a.fillColor),{borderColor:t,fillColor:e}}},g={getDefaultColorObject:function(){var t=u["a"].state.colorPicker.defaultFillColor,e=u["a"].state.colorPicker.defaultBorderColor;return{fillColor:t,borderColor:e}},getColorByIndex:function(t){var e=d["a"].length;return e-1<t?d["a"][0]:d["a"][t]}},b=m({},h,{},g),v=(a("6762"),a("2fdb"),a("6c7b"),a("75fc")),y=(a("7f7f"),a("6b54"),a("0962"));function C(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function _(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?C(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var O={basemapMapping:function(t){return{id:t.id,name:t.label,showingLabel:t.showingLabel,spatial:t.spatial,minZoomLevel:t.minZoomLevel,maxZoomLevel:t.maxZoomLevel,extent:t.extent,resolutionOption:t.resolutionOption,resourceType:t.resourceTypeId,mapType:t.mapTypeId,type:y["f"].LAYER,isDisabled:t.isDisabled,isSelected:!1,layers:null,sourceUrl:t.sourceUrl}},dynamicMapping:function(t){return _({id:t.id,name:t.label,showingLabel:t.showingLabel,minZoomLevel:t.minZoomLevel,maxZoomLevel:t.maxZoomLevel,extent:t.extent,spatial:t.spatial,resolutionOption:t.resolutionOption,resourceType:t.resourceTypeId,mapType:t.mapTypeId,type:y["f"].LAYER,isDisabled:t.isDisabled,isSelected:!1,isColorEnabled:!0,sourceUrl:t.sourceUrl},"local"===t.resourceTypeId&&{color:null,layerColor:t.layerColor},{query:{where:"",extentCoordinates:""},layers:null})},recursiveMap:function(t){if(void 0!==t.layers){var e={id:t.id,name:t.label,mapTypeId:t.mapTypeId,children:t.children.map((function(t,e){return O.recursiveMap(t)})),type:y["f"].CATEGORY,layers:t.layers.map((function(e,a){return F.isBasemap(t.mapTypeId)?O.basemapMapping(e):O.dynamicMapping(e)}))};return e}return F.isBasemap(t.mapTypeId)?O.basemapMapping(t):O.dynamicMapping(t)},subLayerMapping:function(t,e){return t.color=null,t.type=y["f"].SUBLAYER,t.isSelected=!0,t.uid=parseInt(e.id.toString()+t.id.toString()),t.parent=e,t},mapLayers:function(t){var e=t.filter((function(t){return"basemap"===t.mapTypeId})).map((function(t){return O.recursiveMap(t)})),a=t.filter((function(t){return"dynamic"===t.mapTypeId})).map((function(t){return O.recursiveMap(t)})),n={baseLayers:e,dynamicLayers:a};return n},recursiveLayerMapping:function(t,e){for(var a=0;a<t.length;a++){var n=t[a];O.recursiveMapping(n,e)}return t},recursiveMapping:function(t,e){var a=F.isCategory(t);if(a){if(t.children&&t.children.length>0)for(var n=0;n<t.children.length;n++){var i=t.children[n];O.recursiveMapping(i,e)}if(t.layers&&t.layers.length>0)for(n=0;n<t.layers.length;n++){var r=t.layers[n];O.recursiveMapping(r,e)}}else e&&"function"===typeof e&&e(t)},recursiveTreeMapping:function(t,e){for(var a=[],n=0;n<t.length;n++){var i=t[n];i=O.recursiveTreeSelectMapping(i,e);i&&a.push(i)}return a},recursiveTreeSelectMapping:function(t,e){if(e&&"function"===typeof e&&(t=e(t)),!t)return t;var a=F.isCategory(t);if(a){for(var n={id:t.id,label:t.name,children:[].concat(Object(v["a"])(t.children),Object(v["a"])(t.layers))},i=0;i<n.children.length;i++)n.children[i]=O.recursiveTreeSelectMapping(n.children[i],e);return n}return{id:t.id,label:t.name}}},E={renderArcgisSublayerConfig:function(t){var e=t.layers,a=e.filter((function(t){return t.isSelected})).map((function(t,e){return t.id})),n=e.filter((function(t){return!t.isSelected})).map((function(t,e){return t.id})),i="";return i=a.length>0?"show:"+a.join(" , "):"hide:"+n.join(" , "),i},renderSubLayersColorString:function(t){for(var e=[],a=0;a<t.layers.length;a++){var n=t.layers[a];if(void 0!==n.color&&null!==n.color){var i=b.renderColor(n.id,n.color.fill,n.color.border);e.push(i)}}var r="";return e.length>0&&(r="["+e.join(" , ")+"]"),r},treeFilter:function(t,e){var a=t.filter((function(t){if(F.isCategory(t)){t.children=E.treeFilter(t.children,e);var a=t.layers.some((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));return t.layers&&(t.layers=t.layers.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))),a||t.children.length>0}return t.name.toLowerCase().includes(e.toLowerCase())}));return a}},S=_({},E,{},O),w=a("5a0c"),T=a.n(w),L={formatDate:function(t){return T()(t).format("D MMMM YYYY")},formatDateTime:function(t){return T()(t).format("HH:mm D MMMM YYYY")}};a("0d96");function k(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function I(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?k(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var A={bunchMapper:function(t){var e={id:t.id,name:t.label,layers:t.layers.map((function(t){return S.dynamicMapping(t)})),type:"bunch",isActive:t.isActive,color:null,isSelected:!1,isColorEnabled:!0};return e},mapBunchs:function(t){var e=t.map((function(t){return A.bunchMapper(t)}));return e}},x=I({},A),D=(a("96cf"),a("3b8d")),j=a("dde5"),P=a("7540");function M(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function R(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?M(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var B={isLocalService:function(t){return t&&"local"===t.resourceType},isArcgisService:function(t){return t&&"azcArcgis"===t.resourceType},isGeoserverService:function(t){return t&&"geoserver"===t.resourceType},isGeoserverGwsService:function(t){return t&&"geoserverGws"===t.resourceType},isGeowebcacheService:function(t){return t&&"geowebcache"===t.resourceType},isDynamic:function(t){return t&&"dynamic"==t.mapType},isBasemap:function(t){return t&&"basemap"==t.mapType},isDynamicFromArcgis:function(t){return t&&B.isArcgisService(t)&&B.isDynamic(t)},isDynamicFromLocal:function(t){return t&&B.isLocalService(t)&&B.isDynamic(t)},isCategory:function(t){return t&&t.type===y["f"].CATEGORY},isLayer:function(t){return t&&t.type===y["f"].LAYER},isSublayer:function(t){return t&&t.type===y["f"].SUBLAYER},isBunch:function(t){return t&&t.type===y["f"].BUNCH},isEqual:function(t,e){return t&&e&&t.id==e.id&&t.type==e.type},isQueryExist:function(t){return B.isLayer(t)?t.query&&(t.query.where&&""!==t.query.where&&"1=1"!==t.query.where.trim()||t.query.extentCoordinates&&""!==t.query.extentCoordinates&&"1=1"!==t.query.extentCoordinates.trim()):!!B.isBunch(t)&&t.layers.some((function(t){return B.isQueryExist(t)}))},isLayerColorEnabled:function(){var t=Object(D["a"])(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=!1,!B.isDynamicFromArcgis()){t.next=8;break}return t.next=4,P["a"].getLayerDynamic({token:j["c"].getToken(),name:e.name});case 4:n=t.sent,void 0!==n.data.layers[0].drawingInfo&&void 0!==n.data.layers[0].drawingInfo.renderer.symbol&&void 0!==n.data.layers[0].drawingInfo.renderer.symbol.color&&(a=!0),t.next=9;break;case 8:B.isDynamicFromLocal()&&(a=!0);case 9:return t.abrupt("return",a);case 10:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},F=R({},B),N=a("78a3"),$=a("778c"),G=a("4328"),V=a.n(G);function U(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function H(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?U(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):U(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var z={formatQueryString:function(t){return V.a.stringify(t,{arrayFormat:"indices",allowDots:!0})},checkImageExists:function(t){var e=new XMLHttpRequest;return e.open("HEAD",t,!1),e.send(),404!=e.status},buildTileUrl:function(t,e){var a="",n=j["c"].getToken(),i=y["g"].LOCAL_MVT,r=y["g"].XYZ,o=y["g"].TILE_ARCGIS_REST,s=y["g"].IMAGE_ARCGIS_REST,c=y["g"].WMS;switch(e){case i:if(F.isLayer(t)){var l=t.query,u=z.formatQueryString(l);a="".concat(N["m"],"/api/service/webgis/").concat(t.name,"/mvt/{z}/{x}/{y}/?").concat(u)}else{var d=t.layers.map((function(t,e){var a={layerId:t.id};return F.isQueryExist(t)&&(a.query=t.query),a})),p=z.formatQueryString({queries:d});a="".concat(N["m"],"/api/service/webgis/").concat(t.name,"/intersect/mvt/{z}/{x}/{y}/?").concat(p)}break;case r:a="".concat(N["m"],"/api/service/arcgis/").concat(t.name,"/{z}/{y}/{x}?token=").concat(n);break;case o:a="".concat(N["m"],"/api/service/arcgis/").concat(t.name,"/");break;case s:a="".concat(N["m"],"/api/service/arcgis/").concat(t.name,"/");break;case c:F.isGeoserverService(t)?a="".concat(N["m"],"/api/service/geoserver/").concat(t.name,"/"):F.isGeoserverGwsService(t)?a="".concat(N["m"],"/api/service/geoserver/").concat(t.name,"/gwc/"):F.isGeowebcacheService(t)&&(a="".concat(N["m"],"/api/service/geowebcache/").concat(t.name,"/"));break}return a},getImageUrl:function(t,e,a){var n=j["c"].getToken(),i=e.toString();if(a==y["e"].ARCGIS){var r=$["a"];r["token"]=n,r["bbox"]=i;var o=N["b"].EXPORT_IMAGE_URL(t,r);return o}return""}},q=H({},z);function Q(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Y(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Q(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Z={checkStringArithmeticOperation:function(t,e,a){switch(a){case"=":return t===e;case">":return t>e;case"<":return t<e;case">=":return t>=e;case"<=":return t<=e;default:return t===e}},parseByTypeString:function(t,e){switch(t){case"int":return parseInt(e);case"double":return parseFloat(e);case"string":return e.toString();default:return parseInt(e)}}},W=Y({},Z);function K(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function X(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?K(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):K(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var J={mapRoleObj:function(t){var e=t.map((function(t){var e=t.name.toLowerCase(),a=[];return t.permissions&&t.permissions.length>0&&(a=t.permissions.map((function(t){return"".concat(t.category.label,"_").concat(t.permission.label).toLowerCase()}))),{name:e,permissions:a}}));return e},mapPermissionObj:function(t){return t&&t.length>0?t.map((function(t){return t.label.toLowerCase()})):[]},mapUserInfo:function(t){var e=t.userName,a=t.email,n=t.id;return{userName:e,email:a,id:n}}},tt=X({},J);function et(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function at(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?et(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):et(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var nt={getRolePermissions:function(t){var e=[];return t.forEach((function(t){e=e.concat(t.permissions)})),e},getRoleNames:function(t){return t.map((function(t){return t.name}))}},it=at({},nt),rt=a("2b0e");function ot(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function st(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ot(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var ct=new rt["default"],lt={showSuccess:function(t){p["a"].isUndefined(t)&&(t="Success"),ct.$toasted.show(t,{icon:{name:"fas fa-check"}})},showError:function(t){p["a"].isUndefined(t)&&(t="Failed!"),ct.$toasted.show(t,{theme:"bubble",icon:{name:"fas fa-check"}})}};st({},lt)},ced0:function(t,e,a){},cee41:function(t,e,a){t.exports=a.p+"img/arrow_left.bd19434f.svg"},d01b:function(t,e,a){},d2f3:function(t,e,a){t.exports=a.p+"img/diagonal_arrow.d85732ef.svg"},d6c2:function(t,e,a){"use strict";var n=a("9cda"),i=a.n(n);i.a},dcbe:function(t,e,a){"use strict";var n=a("6e73"),i=a.n(n);i.a},dddc:function(t,e,a){},dde5:function(t,e,a){"use strict";a.d(e,"a",(function(){return c})),a.d(e,"c",(function(){return i})),a.d(e,"d",(function(){return f})),a.d(e,"b",(function(){return m}));var n="token",i={getToken:function(){return localStorage.getItem(n)},setToken:function(t){localStorage.setItem(n,t)},removeToken:function(){localStorage.removeItem(n)}},r=a("7055"),o=a("07a4"),s="loginFailedAttemptCount",c={logout:function(){r["l"].setRoles([]),r["l"].setDirectivePermissions([]),r["l"].setUserInfo({}),o["a"].dispatch("SAVE_AUTH_TOKEN",""),i.removeToken()},getFailedAttemptCount:function(){var t=localStorage.getItem(s);return t?parseInt(t):(this.resetFailedAttemptCount(),this.getFailedAttemptCount())},increaseFailedAttempCount:function(){var t=this.getFailedAttemptCount();localStorage.setItem(s,parseInt(t)+1)},setFailedAttempCount:function(t){localStorage.setItem(s,t)},resetFailedAttemptCount:function(){localStorage.setItem(s,0)}},l=a("b775"),u=a("78a3"),d={getInfo:function(){return Object(l["a"])({url:u["n"].GET_URL,method:"get"})}},p=a("ce96"),f=(a("41cb"),{getInfo:function(){return new Promise((function(t,e){d.getInfo().then((function(a){a||e("Verification failed, please Login again.");var n=a.data,i=n.roles,o=n.directivePermissions;(!i||i.length<=0)&&(i=[{name:"none",permissions:[]}]),(!i||i.length<=0)&&e("getInfo: roles must be a non-null array!");var s=p["j"].mapRoleObj(i),c=p["j"].mapPermissionObj(o);r["l"].setRoles(s),r["l"].setDirectivePermissions(c),r["l"].setUserInfo(p["j"].mapUserInfo(a.data)),t(a)})).catch((function(t){e(t)}))}))}}),m=(a("c5f6"),a("28a5"),a("a481"),{resolveHash:function(){var t=window.location.hash;if(""!==t){var e=t.replace("#shareMap=",""),a=e.split("&");if(4===a.length){var n=parseFloat(a[0],10),i=[parseFloat(a[1]),parseFloat(a[2])],r=[],o=a[3].split(",");return o&&""!=o&&(r=o.map(Number)),{zoom:n,center:i,selectedLayers:r}}}return null},setHashSelectedServices:function(){if(null!==this.hashResolveResult){var t=this.hashResolveResult.selectedLayers;if(t)for(var e=0;e<t.length;e++){var a=t[e],n=r["d"].getLayer(a);n&&serviceController.selectService(n,!0)}}},updateHash:function(){var t=r["e"].getMap(),e=t.getView(),a={zoom:e.getZoom(),center:e.getCenter(),rotation:e.getRotation()},n=r["d"].getSelectedLayers(),i=n.map((function(t){return t.id})),o="#shareMap="+e.getZoom()+"&"+Math.round(100*e.getCenter()[0])/100+"&"+Math.round(100*e.getCenter()[1])/100+"&"+i;window.history.pushState(a,"map",o)}})},de50:function(t,e,a){"use strict";var n=a("bb3b"),i=a.n(n);i.a},df19:function(t,e,a){t.exports=a.p+"img/map.1a740cbd.svg"},e332:function(t,e,a){},e6e1:function(t,e,a){},ebd0:function(t,e,a){"use strict";var n=a("03fd"),i=a.n(n);i.a},ed08:function(t,e,a){"use strict";a.d(e,"e",(function(){return r})),a.d(e,"c",(function(){return o})),a.d(e,"d",(function(){return s})),a.d(e,"f",(function(){return c})),a.d(e,"b",(function(){return l})),a.d(e,"a",(function(){return u}));var n=a("7618"),i=(a("34ef"),a("6b54"),a("a481"),a("ac6a"),a("456d"),a("f2ef"));function r(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e?1e3:1024;if(Math.abs(t)<n)return t+" B";var i=e?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],r=-1,o=Math.pow(10,a);do{t/=n,++r}while(Math.round(Math.abs(t)*o)/o>=n&&r<i.length-1);return t.toFixed(a)+" "+i[r]}function o(t){var e=[];if(200!==t)if(t.data){if(i["a"].isString(t.data))e.push({key:"general",message:t.data});else if(i["a"].isObject(t.data)){var a=Object.keys(t.data);a.forEach((function(a){e.push({key:a,message:t.data[a][0]})}))}}else e.push({key:"general",message:"Error"});return e}function s(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(t){return(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)}))}function c(t,e,a){if(t.length>e){var n=e;while(n>0&&" "!=t[n]&&"-"!=t[n])n--;if(n>0){var i;i="-"==t.substring(n,n+1)?t.substring(0,n+1):t.substring(0,n);var r=t.substring(n+1);return i+a+c(r,e,a)}}return t}function l(t){if(!t&&"object"!==Object(n["a"])(t))throw new Error("error arguments","deepClone");var e=t.constructor===Array?[]:{};return Object.keys(t).forEach((function(a){t[a]&&"object"===Object(n["a"])(t[a])?e[a]=l(t[a]):e[a]=t[a]})),e}function u(t){return t.charAt(0).toUpperCase()+t.slice(1)}},ed13:function(t,e,a){},ed85:function(t,e,a){t.exports=a.p+"img/line.96dbd02a.svg"},ee13:function(t,e,a){"use strict";function n(t){switch(t){case 1:return"=";case 2:return">";case 3:return"<";case 4:return">=";case 5:return"<="}}function i(t){switch(t){case 1:return"km";case 2:return"m";case 3:return"cm";default:return"km"}}a.d(e,"b",(function(){return n})),a.d(e,"a",(function(){return i}))},ee24:function(t,e,a){},ee46:function(t,e,a){"use strict";var n=a("16d6"),i=a.n(n);i.a},eeec:function(t,e,a){t.exports=a.p+"img/arrow_up.b54cfac9.svg"},f035:function(t,e,a){"use strict";var n=a("89e4"),i=a.n(n);i.a},f11b:function(t,e,a){t.exports=a.p+"img/minus.7dc2f5e2.svg"},f1f5:function(t,e,a){t.exports=a.p+"img/text.edff9ac3.svg"},f919:function(t,e,a){t.exports=a.p+"img/search.e990092e.svg"},fafe:function(t,e,a){},fb04:function(t,e,a){t.exports=a.p+"img/layer.a6f973ff.svg"},fbfa:function(t,e,a){},fcd6:function(t,e,a){t.exports=a.p+"img/circle.ca606f64.svg"},fd79:function(t,e,a){t.exports=a.p+"img/square.0fe06184.svg"},fe1b:function(t,e,a){},fefb:function(t,e,a){},ff9f:function(t,e,a){}});
//# sourceMappingURL=app.0980604e.js.map