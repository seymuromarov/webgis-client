(function(e){function t(t){for(var n,o,s=t[0],c=t[1],l=t[2],d=0,p=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,s=1;s<a.length;s++){var c=a[s];0!==i[c]&&(n=!1)}n&&(r.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},i={app:0},r=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0075":function(e,t,a){var n={"./arrow_down.svg":"ccd8","./arrow_left.svg":"cee4","./arrow_right.svg":"adc4","./arrow_up.svg":"eeec","./circle.svg":"fcd6","./color_fill.svg":"9f3c","./color_picker.svg":"1616","./delete.svg":"a91f","./file_download.svg":"9565","./fullscreen.svg":"3dd2","./grid.svg":"5113","./hamburger.svg":"a373","./home.svg":"7936","./information.svg":"4386","./layer.svg":"fb04","./line.svg":"ed85","./list.svg":"a93e","./map.svg":"df19","./minus.svg":"f11b","./mouse.svg":"1959","./pencil.svg":"7576","./picture.svg":"7b30","./place.svg":"10e6","./plus.svg":"6cf9","./point.svg":"4ec0","./polygon.svg":"5d2b","./rectangle.svg":"16ab","./reset.svg":"473a","./search.svg":"f919","./square.svg":"fd79","./user.svg":"afa4","./world.svg":"c5b8"};function i(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=r,e.exports=i,i.id="0075"},"03fd":function(e,t,a){},"0923":function(e,t,a){"use strict";var n=a("2f60"),i=a.n(n);i.a},"0955":function(e,t,a){},"0d96":function(e,t){},"10e6":function(e,t,a){e.exports=a.p+"img/place.17b1465c.svg"},1616:function(e,t,a){e.exports=a.p+"img/color_picker.f11e40bf.svg"},"16ab":function(e,t,a){e.exports=a.p+"img/rectangle.dfb475bd.svg"},"16d2":function(e,t,a){},"16f4":function(e,t,a){"use strict";var n=a("470d"),i=a.n(n);i.a},1959:function(e,t,a){e.exports=a.p+"img/mouse.0a006fb9.svg"},2303:function(e,t,a){},"293c":function(e,t,a){e.exports=a.p+"img/ac_logo.d0e36a51.svg"},"2f5f":function(e,t,a){},"2f60":function(e,t,a){},"3b25":function(e){e.exports=JSON.parse('[{"city":"Baku","admin":"Bakı","country":"Azerbaijan","population_proper":"1892000","iso2":"AZ","capital":"primary","lat":"40.395278","lng":"49.882222","population":"2122300"},{"city":"Gəncə","admin":"Gəncə","country":"Azerbaijan","population_proper":"300131","iso2":"AZ","capital":"admin","lat":"40.682778","lng":"46.360556","population":"303268"},{"city":"Sumqayıt","admin":"Sumqayıt","country":"Azerbaijan","population_proper":"265150","iso2":"AZ","capital":"admin","lat":"40.589722","lng":"49.668611","population":"279159"},{"city":"Hacıvar","admin":"Babək","country":"Azerbaijan","population_proper":"64754","iso2":"AZ","capital":"","lat":"39.208067","lng":"45.446038","population":"94788"},{"city":"Şəki","admin":"Şəki","country":"Azerbaijan","population_proper":"62191","iso2":"AZ","capital":"admin","lat":"41.191944","lng":"47.170556","population":"64968"},{"city":"Lənkəran","admin":"Lənkəran","country":"Azerbaijan","population_proper":"60180","iso2":"AZ","capital":"admin","lat":"38.755947","lng":"48.84715","population":"60180"},{"city":"Yevlax","admin":"Yevlax","country":"Azerbaijan","population_proper":"46312","iso2":"AZ","capital":"admin","lat":"40.612732","lng":"47.142329","population":"53716"},{"city":"Göyçay","admin":"Göyçay","country":"Azerbaijan","population_proper":"34715","iso2":"AZ","capital":"admin","lat":"40.650555","lng":"47.74219","population":"35348"},{"city":"Tovuz","admin":"Tovuz","country":"Azerbaijan","population_proper":"12626","iso2":"AZ","capital":"admin","lat":"40.992487","lng":"45.628384","population":"12626"},{"city":"Qəbələ","admin":"Qəbələ","country":"Azerbaijan","population_proper":"11867","iso2":"AZ","capital":"admin","lat":"40.982474","lng":"47.849092","population":"11867"},{"city":"Gədəbəy","admin":"Gədəbəy","country":"Azerbaijan","population_proper":"8657","iso2":"AZ","capital":"admin","lat":"40.570551","lng":"45.812288","population":"8657"},{"city":"Goranboy","admin":"Goranboy","country":"Azerbaijan","population_proper":"7333","iso2":"AZ","capital":"admin","lat":"40.610278","lng":"46.789722","population":"7333"},{"city":"Oğuz","admin":"Oğuz","country":"Azerbaijan","population_proper":"6876","iso2":"AZ","capital":"admin","lat":"41.07128","lng":"47.465284","population":"6876"},{"city":"Zaqatala","admin":"Zaqatala","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"41.631596","lng":"46.644791","population":""},{"city":"Mingəçevir","admin":"Mingəçevir","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.763947","lng":"47.059533","population":""},{"city":"Xızı","admin":"Xızı","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.905761","lng":"49.081268","population":""},{"city":"Xırdalan","admin":"Abşeron","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.448085","lng":"49.755022","population":""},{"city":"Heydərabad","admin":"Sədərək","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.722857","lng":"44.848458","population":""},{"city":"Zəngilan","admin":"Zəngilan","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.088401","lng":"46.6513","population":""},{"city":"Ağstafa","admin":"Ağstafa","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"41.114834","lng":"45.446825","population":""},{"city":"Ucar","admin":"Ucar","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.515671","lng":"47.654648","population":""},{"city":"Göygöl","admin":"Göygöl","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.585838","lng":"46.318897","population":""},{"city":"Xocavənd","admin":"Xocavənd","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.795464","lng":"47.109891","population":""},{"city":"Xaçmaz","admin":"Xaçmaz","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"41.464258","lng":"48.805652","population":""},{"city":"Kəlbəcər","admin":"Kəlbəcər","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.109842","lng":"46.04446","population":""},{"city":"Yardımlı","admin":"Yardımlı","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"38.907711","lng":"48.240521","population":""},{"city":"Daşkəsən","admin":"Daşkəsən","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.523932","lng":"46.081863","population":""},{"city":"Kürdəmir","admin":"Kürdəmir","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.345318","lng":"48.150847","population":""},{"city":"Hacıqabul","admin":"Hacıqabul","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.038743","lng":"48.942865","population":""},{"city":"Qax","admin":"Qax","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"41.418259","lng":"46.92043","population":""},{"city":"Qazax","admin":"Qazax","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"41.09246","lng":"45.365608","population":""},{"city":"Tərtər","admin":"Tərtər","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.341794","lng":"46.932418","population":""},{"city":"Biləsuvar","admin":"Biləsuvar","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.458333","lng":"48.545","population":""},{"city":"Şəmkir","admin":"Şəmkir","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.82975","lng":"46.017804","population":""},{"city":"Qubadlı","admin":"Qubadlı","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.344407","lng":"46.581834","population":""},{"city":"Quba","admin":"Quba","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"41.361077","lng":"48.513411","population":""},{"city":"Qusar","admin":"Qusar","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"41.427496","lng":"48.4302","population":""},{"city":"Babək","admin":"Babək","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"minor","lat":"39.154592","lng":"45.442825","population":""},{"city":"Füzuli","admin":"Füzuli","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.60094","lng":"47.14529","population":""},{"city":"Cəbrayıl","admin":"Cəbrayıl","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.399173","lng":"47.028345","population":""},{"city":"Salyan","admin":"Salyan","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.596214","lng":"48.984786","population":""},{"city":"Xocalı","admin":"Xocalı","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.912973","lng":"46.790284","population":""},{"city":"Astara","admin":"Astara","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"38.455977","lng":"48.87498","population":""},{"city":"Culfa","admin":"Culfa","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"minor","lat":"38.95397","lng":"45.62961","population":""},{"city":"Ağdaş","admin":"Ağdaş","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.646987","lng":"47.473803","population":""},{"city":"Lerik","admin":"Lerik","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"38.773883","lng":"48.414969","population":""},{"city":"Masallı","admin":"Masallı","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.027781","lng":"48.670276","population":""},{"city":"Ağdam","admin":"Tovuz","country":"Azerbaijan","population_proper":"0","iso2":"AZ","capital":"","lat":"40.908483","lng":"45.554269","population":"0"},{"city":"Beyləqan","admin":"Beyləqan","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.775556","lng":"47.618611","population":""},{"city":"Ağsu","admin":"Ağsu","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.569167","lng":"48.396476","population":""},{"city":"Qobustan","admin":"Qobustan","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.533601","lng":"48.928193","population":""},{"city":"Bərdə","admin":"Bərdə","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.375768","lng":"47.126191","population":""},{"city":"Ordubad","admin":"Ordubad","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"38.90961","lng":"46.022737","population":""},{"city":"Balakən","admin":"Balakən","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"41.726258","lng":"46.40478","population":""},{"city":"İsmayıllı","admin":"İsmayıllı","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.784846","lng":"48.151409","population":""},{"city":"Şuşa","admin":"Şuşa","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.760057","lng":"46.749893","population":""},{"city":"Samux","admin":"Samux","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.764854","lng":"46.408678","population":""},{"city":"Ağcabədi","admin":"Ağcabədi","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.050146","lng":"47.459367","population":""},{"city":"Ağdam","admin":"Ağdam","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.99096","lng":"46.927356","population":""},{"city":"Dəvəçi","admin":"Şabran","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"41.201166","lng":"48.987117","population":""},{"city":"İmişli","admin":"İmişli","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.872398","lng":"48.064928","population":""},{"city":"Saatlı","admin":"Saatlı","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.932137","lng":"48.368919","population":""},{"city":"Naxçıvan","admin":"Naxçıvan","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.208846","lng":"45.411887","population":""},{"city":"Siyəzən","admin":"Siyəzən","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"41.077538","lng":"49.112573","population":""},{"city":"Şahbuz","admin":"Şahbuz","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.407222","lng":"45.573889","population":""},{"city":"Cəlilabad","admin":"Cəlilabad","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.209633","lng":"48.491862","population":""},{"city":"Sabirabad","admin":"Sabirabad","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.008688","lng":"48.47701","population":""},{"city":"Neftçala","admin":"Neftçala","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.376798","lng":"49.246998","population":""},{"city":"Laçın","admin":"Laçın","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.643401","lng":"46.546206","population":""},{"city":"Naftalan","admin":"Naftalan","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.508208","lng":"46.820302","population":""},{"city":"Zərdab","admin":"Zərdab","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"40.219906","lng":"47.709968","population":""},{"city":"Şərur","admin":"Şərur","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.554358","lng":"44.982597","population":""},{"city":"Qıvraq","admin":"Kəngərli","country":"Azerbaijan","population_proper":"","iso2":"AZ","capital":"admin","lat":"39.399389","lng":"45.11513","population":""}]')},"3dd2":function(e,t,a){e.exports=a.p+"img/fullscreen.c7944bd6.svg"},"3e33":function(e,t,a){"use strict";var n=a("0955"),i=a.n(n);i.a},4045:function(e,t,a){e.exports=a.p+"img/loading.759ce13d.svg"},4386:function(e,t,a){e.exports=a.p+"img/information.03558777.svg"},4397:function(e,t,a){"use strict";var n=a("44be"),i=a.n(n);i.a},"44be":function(e,t,a){},"470d":function(e,t,a){},"473a":function(e,t,a){e.exports=a.p+"img/reset.6c5cc106.svg"},"4a27":function(e,t,a){"use strict";var n=a("c1c2"),i=a.n(n);i.a},"4c8e":function(e,t,a){},"4ec0":function(e,t,a){e.exports=a.p+"img/point.52b8e62a.svg"},5113:function(e,t,a){e.exports=a.p+"img/grid.283f34a6.svg"},5477:function(e,t,a){"use strict";var n=a("72e4"),i=a.n(n);i.a},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),i=a("00e7"),r=a.n(i),o=a("1bdd"),s=a("1881"),c=a.n(s),l=a("a65d"),u=a.n(l),d=a("5886"),p=a("f213"),m=a("953d"),f=a.n(m),h=a("9d79"),b=(a("e7b5"),a("8c4f")),g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row container-fluid padding-0"},[a("div",{staticClass:"padding-0 map-layout"},[a("div",{attrs:{id:"map"}},[a("MapControls",{attrs:{map:e.mapLayer,mapHelpers:e.mapHelper,nextHistoryEvent:e.nextHistoryEvent,previousHistoryEvent:e.previousHistoryEvent}}),a("Sidebar")],1)]),a("DataTable",{ref:"dataTable",on:{mapSetCenter:e.mapSetCenter}}),a("CustomModal",{attrs:{name:"sumResultModal",maxWidth:600}},[a("Report",{attrs:{result:e.sumData}})],1),a("FilterModal"),a("CustomModal",{attrs:{name:"colorPickerModal",title:"Color picker",minWidth:300}},[a("ShapeColorPicker",{on:{setShapeColor:e.setShapeColor}})],1),a("detector-modal",e._b({attrs:{visible:e.bbox.length>0&&e.isDrawnShapeForDetection},on:{close:function(t){e.bbox=[],e.isDrawnShapeForDetection=!1}}},"detector-modal",{bbox:e.bbox,token:e.token},!1)),a("InfoModal",{attrs:{isOpen:e.isInformationModalVisible},on:{close:function(t){e.isInformationModalVisible=!1}}}),a("ComputedLayersModal")],1)},v=[],y=(a("7f7f"),a("96cf"),a("3b8d")),_=(a("c5f6"),a("28a5"),a("a481"),a("6b54"),a("5eee")),C=a("a2c7"),S=a("0710"),T=a("4cdf"),L=a("7a09"),E=a("5bc3"),A=a("f822"),O=a("f403"),w=a("c807"),I=a("3a39"),k=a("d946"),D=a("88df"),j=a("793c"),P=a("ce2c"),M=a("83a6"),x=a("8682"),R=a("6c77"),B=a("6cbf"),V=a("480c"),F=a("3e6b"),N=a("c810"),H=a("97e6"),z=a("78db"),$=a("fdb7"),Z=a("089b"),G=a("d0e9"),U=a("5043"),Y=a("5831"),Q=a("b090"),q=a("256f"),K=a("2ef1"),W=a("cbcb"),X=a("a2e1"),J=a("8083"),ee=a("1ab5"),te=a("b168"),ae=a("962d"),ne=a("06f8"),ie=a("ac29"),re=a("790a"),oe=a("35a7"),se=(a("a79f"),a("8e5f")),ce=a.n(se),le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"colorPickers  colorPickers--dark"},[a("ul",{staticClass:"nav"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:!e.isBorder},attrs:{href:"#"},on:{click:function(t){return e.borderClick(!1)}}},[e._v("Fill Color")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:e.isBorder},attrs:{href:"#"},on:{click:function(t){return e.borderClick(!0)}}},[e._v("Border Color")])])]),e.isBorder?a("ColorScheme",{model:{value:e.borderColor,callback:function(t){e.borderColor=t},expression:"borderColor"}}):a("ColorScheme",{model:{value:e.fillColor,callback:function(t){e.fillColor=t},expression:"fillColor"}}),a("div",{staticClass:"colorPickerButton"},[a("button",{staticClass:"btn btn-sm btn--cancel",attrs:{type:"button"},on:{click:e.onClose}},[e._v("\n      Close\n    ")]),a("button",{staticClass:"btn btn-sm btn--save",attrs:{type:"button"},on:{click:e.onSave}},[e._v("\n      Save\n    ")])])],1)},ue=[],de=a("c345"),pe={name:"color",props:{},components:{ColorScheme:de["Chrome"]},mounted:function(){},data:function(){return{isBorder:!1,borderColor:{hsl:{h:0,s:0,l:0,a:1},hex:"#000000",hex8:"#000000FF",rgba:{r:0,g:0,b:0,a:1},hsv:{h:0,s:0,v:0,a:1},oldHue:0,source:"hex",a:1},fillColor:{hsl:{h:0,s:0,l:0,a:1},hex:"#000000",hex8:"#000000FF",rgba:{r:0,g:0,b:0,a:1},hsv:{h:0,s:0,v:0,a:1},oldHue:0,source:"hex",a:1}}},methods:{borderClick:function(e){this.isBorder=e},onSave:function(){var e="#22222222";e=this.borderColor.hex8;var t={hex8:e};e=this.fillColor.hex8;var a={hex8:e},n={borderColor:t,fillColor:a};console.log("onSave -> colorObj",n),this.$emit("onSave",n)},onClose:function(){this.$emit("onClose")}}},me=pe,fe=a("2877"),he=Object(fe["a"])(me,le,ue,!1,null,null,null),be=he.exports,ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"colorPickers colorPickers--light"},[a("ul",{staticClass:"nav"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:!e.isBorder},attrs:{href:"#"},on:{click:function(t){return e.borderClick(!1)}}},[e._v("Fill Color")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:e.isBorder},attrs:{href:"#"},on:{click:function(t){return e.borderClick(!0)}}},[e._v("Border Color")])])]),a("div",{staticClass:"colorPicker"},[e.isBorder?a("ColorScheme",{model:{value:e.borderColor,callback:function(t){e.borderColor=t},expression:"borderColor"}}):a("ColorScheme",{model:{value:e.fillColor,callback:function(t){e.fillColor=t},expression:"fillColor"}})],1),a("div",{staticClass:"colorPickerButton"},[a("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:e.save}},[e._v("\n            Save\n        ")])])])},ve=[],ye={name:"color",props:{},components:{ColorScheme:de["Chrome"]},mounted:function(){},data:function(){return{isBorder:!1,borderColor:{hex8:"#000000",rgba:{r:255,g:255,b:255,a:1}},fillColor:{hex8:"#00000000",rgba:{r:255,g:255,b:255,a:1}}}},methods:{borderClick:function(e){this.isBorder=e},save:function(){this.$store.dispatch("SAVE_COLORPICKER_SHAPEFILLCOLOR",this.fillColor),this.$store.dispatch("SAVE_COLORPICKER_SHAPEBORDERCOLOR",this.borderColor),this.$emit("setShapeColor")}},computed:{}},_e=ye,Ce=Object(fe["a"])(_e,ge,ve,!1,null,null,null),Se=Ce.exports,Te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.isVisible,expression:"isVisible"}],staticClass:"table-wrapper"},[n("Resizable",{ref:"resizable",staticClass:"resizable",attrs:{active:e.resize.handlers,"fit-parent":e.resize.fit,"max-width":e._f("checkEmpty")(e.resize.maxW),"max-height":e._f("checkEmpty")(e.resize.maxH),"min-width":e._f("checkEmpty")(e.resize.minW),"min-height":e._f("checkEmpty")(e.resize.minH),width:e.resize.width,height:e.resize.height,left:e.resize.left,top:e.resize.top},on:{mount:e.resizeHandler,"resize:move":e.resizeHandler,"resize:start":e.resizeHandler,"resize:end":e.resizeHandler,"drag:move":e.resizeHandler,"drag:start":e.resizeHandler,"drag:end":e.resizeHandler}},[n("div",{staticClass:"tableDiv howMuchWidthHaveMap"},[n("div",{staticClass:"tableHeader"},[n("div",{staticClass:"table__tabs"},e._l(e.tabs,(function(t){return n("div",{key:t.id,staticClass:"table__tab",class:{"table__tab--active":t.id==e.currentTabId},on:{click:function(a){return e.setActiveTab(t.id)}}},[e._v("\n            "+e._s(t.name)+"\n          ")])})),0),n("div",{staticClass:"table__operations"},[e.tableHeaders?n("download-excel",{attrs:{fetch:e.fetchFullData,fields:e.checkedColumnsToExcel(),type:"xls",name:"test_report.xls"}},[n("i",{staticClass:"fas fa-file-excel icon excelDataIcon excelIcon makeMePoint",attrs:{title:"Export As Excel"}})]):e._e(),n("i",{staticClass:"fas fa-filter tableFilter makeMePoint icon",attrs:{title:"Filter"},on:{click:e.showFilterModal}}),n("i",{staticClass:"fas fa-columns tableColumns makeMePoint icon",attrs:{title:"Show/Hide Table Columns"},on:{click:e.togglePopup}}),n("i",{staticClass:"fas fa-times tableClose makeMePoint icon",attrs:{title:"Close"},on:{click:e.toggleIsVisible}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isColumnPopupShowing,expression:"isColumnPopupShowing"}],staticClass:"tableShowColumns custom-scrollbar",attrs:{id:"table-columns"}},[n("div",{staticClass:"columnsDiv"},e._l(e.tableHeaders,(function(t,a){return n("div",{key:a,staticClass:"table__column"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedColumns,expression:"checkedColumns"}],staticClass:"column__checkbox",attrs:{type:"checkbox",id:t,checked:"checked"},domProps:{value:t,checked:Array.isArray(e.checkedColumns)?e._i(e.checkedColumns,t)>-1:e.checkedColumns},on:{click:function(n){return e.selectColumns(t,a,n)},change:function(a){var n=e.checkedColumns,i=a.target,r=!!i.checked;if(Array.isArray(n)){var o=t,s=e._i(n,o);i.checked?s<0&&(e.checkedColumns=n.concat([o])):s>-1&&(e.checkedColumns=n.slice(0,s).concat(n.slice(s+1)))}else e.checkedColumns=r}}}),n("label",{staticClass:"column__name"},[e._v("\n                  "+e._s(t)+"\n                ")])])})),0)])],1)]),n("div",{ref:"dataTableContent",staticClass:"tableContent custom-scrollbar",attrs:{id:"dataTable"}},[e.loading?n("div",{staticClass:"loader"},[n("img",{attrs:{src:a("4045"),alt:""}})]):n("table",{staticClass:"selfTable table"},[n("thead",[n("tr",e._l(e.tableHeaders,(function(t,a){return n("th",{directives:[{name:"show",rawName:"v-show",value:e.checkedColumns.includes(t),expression:"checkedColumns.includes(alias)"}],key:a},[e._v("\n                "+e._s(t)+"\n              ")])})),0)]),n("tbody",{staticClass:"tableBody custom-scrollbar"},e._l(e.activeTableData.tableData,(function(t,a){return n("tr",{key:a},e._l(t.attributes,(function(a,i){return n("td",{directives:[{name:"show",rawName:"v-show",value:e.checkedColumnsData.includes(i),expression:"checkedColumnsData.includes(key)"}],key:i,staticClass:"makeMePoint",on:{click:function(a){return e.fitToPolygon(t)}}},[e._v("\n                "+e._s(a)+"\n              ")])})),0)})),0)])])])]),n("CustomModal",{attrs:{name:"dataModal",minWidth:200,minHeight:200}},[n("p",{staticClass:"tableModalHeader"},[e._v(e._s(e.tableName))]),n("div",{staticClass:"row",staticStyle:{overflow:"auto"}},[n("table",{staticClass:"table popupTable"},[n("thead",[n("tr",{staticClass:"fields"},[n("th",{staticClass:"paddingLeft"},[e._v("Field")]),n("th",{staticClass:"paddingRight"},[e._v("Value")])])]),n("tbody",{staticClass:"popupTableBody"},e._l(e.selectedData,(function(t,a){return n("tr",{key:a},[n("td",{staticClass:"paddingLeft"},[e._v("\n              "+e._s(a)+"\n            ")]),n("td",{staticClass:"paddingRight"},[e._v(e._s(t))])])})),0)])])])],1)},Le=[],Ee=(a("8e6e"),a("7514"),a("20d6"),a("ac6a"),a("456d"),a("6762"),a("2fdb"),a("75fc")),Ae=a("bd86"),Oe=a("d225"),we=a("b0b4"),Ie=function(){function e(t){Object(Oe["a"])(this,e),this.data=t}return Object(we["a"])(e,[{key:"setLatLongShowForm",value:function(){this.data.latLongFormShow=!this.data.latLongFormShow}},{key:"cityInputToggle",value:function(){this.data.citySearchInputShow=!this.data.citySearchInputShow}},{key:"showColumnsChange",value:function(){this.data.showColumnsBoolean=!this.data.showColumnsBoolean}}]),e}(),ke=Ie,De=a("2f62"),je={token:null,username:null,authError:null},Pe={SET_AUTH_TOKEN:function(e,t){e.token=t}},Me={SAVE_AUTH_TOKEN:function(e,t){e.commit("SET_AUTH_TOKEN",t)}},xe={token:function(e){return e.token},username:function(e){return e.username}},Re={state:je,mutations:Pe,actions:Me,getters:xe},Be={sumData:{},data:[],tabs:[],activeTabId:null,activeService:null,isVisible:!1,loading:!1},Ve={SET_DATATABLE:function(e,t){e.data=t},SET_DATATABLE_TABS:function(e,t){e.tabs=t},SET_DATATABLE_ACTIVE_TAB_ID:function(e,t){e.activeTabId=t},SET_DATATABLE_ACTIVE_SERVICE:function(e,t){e.activeService=t},SET_DATATABLE_CHECKED_COLUMNS:function(e,t){var a=t.id,n=t.value;e.data.find((function(e){return e.service.id===a})).data.checkedColumnsData=n},SET_DATATABLE_CHECKED_COLUMNS_DATA:function(e,t){var a=t.id,n=t.value;e.data.find((function(e){return e.service.id===a})).data.checkedColumns=n},SET_DATATABLE_FILTER_VALUES:function(e,t){var a=t.id,n=t.value;e.data.find((function(e){return e.service.id===a})).data.filterValues=n},SET_DATATABLE_VISIBLE:function(e,t){e.isVisible=t},SET_DATATABLE_LOADING:function(e,t){e.loading=t},SET_DATATABLE_PAGING:function(e,t){e.paging=t},SET_SUM_DATA:function(e,t){e.sumData=t}},Fe={dataTableLoading:function(e){return e.loading},tableData:function(e){return e.data},sumData:function(e){return e.sumData},tableActiveService:function(e){return e.activeService},activeTableData:function(e){var t=e.data.find((function(t){return t.service.id===e.activeTabId}));return t?t.data:{}},activeTableService:function(e){var t=e.data.find((function(t){return t.service.id===e.activeTabId}));return t?t.data:{}}},Ne={SAVE_DATATABLE:function(e,t){e.commit("SET_DATATABLE",t)},SAVE_DATATABLE_TABS:function(e,t){e.commit("SET_DATATABLE_TABS",t),e.commit("SET_DATATABLE_ACTIVE_TAB_ID",t.length?t[0].id:null)},SAVE_DATATABLE_ACTIVE_TAB_ID:function(e,t){e.commit("SET_DATATABLE_ACTIVE_TAB_ID",t)},saveTableActiveService:function(e,t){e.commit("SET_DATATABLE_ACTIVE_SERVICE",t)},SAVE_DATATABLE_CHECKED_COLUMNS:function(e,t){var a=t.id,n=t.value;e.commit("SET_DATATABLE_CHECKED_COLUMNS",{id:a,value:n})},SAVE_DATATABLE_CHECKED_COLUMNS_DATA:function(e,t){var a=t.id,n=t.value;e.commit("SET_DATATABLE_CHECKED_COLUMNS_DATA",{id:a,value:n})},SAVE_DATATABLE_FILTER_VALUES:function(e,t){var a=t.id,n=t.value;e.commit("SET_DATATABLE_FILTER_VALUES",{id:a,value:n})},SAVE_DATATABLE_VISIBLE:function(e,t){e.commit("SET_DATATABLE_VISIBLE",t)},SAVE_DATATABLE_LOADING:function(e,t){e.commit("SET_DATATABLE_LOADING",t)},SAVE_DATATABLE_PAGING:function(e,t){e.commit("SET_DATATABLE_PAGING",t)},RESET_DATATABLE:function(e){e.dispatch("SAVE_DATATABLE",[]),e.dispatch("SAVE_DATATABLE_TABS",[])},saveSumData:function(e,t){e.commit("SET_SUM_DATA",t)}},He={state:Be,mutations:Ve,actions:Ne,getters:Fe},ze={fill:{hex8:"#FFFFFF00"},border:{hex8:"#F44336FF"},shapeFillColor:{hex8:"var(--transparent)",rgba:{r:255,g:255,b:255,a:1}},shapeBorderColor:{hex8:"#000000",rgba:{r:255,g:255,b:255,a:1}},colorPicker:{visibility:!1,layer:null,borderTab:!0},activeColorPickerId:null},$e={colorPicker:function(e){return e.colorPicker},activeColorPickerId:function(e){return e.activeColorPickerId}},Ze={SET_COLORPICKER:function(e,t){e.colorPicker=t},SET_COLORPICKER_BORDER_TAB:function(e,t){e.colorPicker.borderTab=t},SET_COLORPICKER_LAYER:function(e,t){e.colorPicker.layer=t},SET_COLORPICKER_VISIBILITY:function(e,t){e.colorPicker.visibility=t},SET_COLORPICKER_FILLCOLOR:function(e,t){e.fillColor=t},SET_COLORPICKER_BORDERCOLOR:function(e,t){e.borderColor=t},SET_COLORPICKER_SHAPEBORDERCOLOR:function(e,t){e.shapeBorderColor=t},SET_COLORPICKER_SHAPEFILLCOLOR:function(e,t){e.shapeFillColor=t},SET_ACTIVE_COLOR_PICKER_ID:function(e,t){e.activeColorPickerId=t}},Ge={SAVE_COLORPICKER:function(e,t){e.commit("SET_COLORPICKER",t)},SAVE_COLORPICKER_BORDER_TAB:function(e,t){e.commit("SET_COLORPICKER_BORDER_TAB",t)},SAVE_COLORPICKER_VISIBILITY:function(e,t){e.commit("SET_COLORPICKER_VISIBILITY",t)},SAVE_COLORPICKER_LAYER:function(e,t){e.commit("SET_COLORPICKER_LAYER",t)},SAVE_COLORPICKER_FILLCOLOR:function(e,t){e.commit("SET_COLORPICKER_FILLCOLOR",t)},SAVE_COLORPICKER_BORDERCOLOR:function(e,t){e.commit("SET_COLORPICKER_BORDERCOLOR",t)},SAVE_COLORPICKER_SHAPEFILLCOLOR:function(e,t){e.commit("SET_COLORPICKER_SHAPEFILLCOLOR",t)},SAVE_COLORPICKER_SHAPEBORDERCOLOR:function(e,t){e.commit("SET_COLORPICKER_SHAPEBORDERCOLOR",t)},SAVE_ACTIVE_COLOR_PICKER_ID:function(e,t){e.commit("SET_ACTIVE_COLOR_PICKER_ID",t)}},Ue={state:ze,mutations:Ze,actions:Ge,getters:$e},Ye={faq:{data:[]},releaseNotes:{data:[]}},Qe={SET_FAQ_DATA:function(e,t){e.faq.data=t},SET_RELEASE_NOTES_DATA:function(e,t){e.releaseNotes.data=t}},qe={state:Ye,mutations:Qe};function Ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function We(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(a),!0).forEach((function(t){Object(Ae["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ke(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Xe={issueList:{open:[],closed:[]},issueCount:{open:null,closed:null},activeTab:1,activeCategoryId:0,openIssue:null,categories:[]},Je={SET_OPEN_ISSUES:function(e,t){e.issueList=We({},e.issueList,{open:t})},SET_CLOSED_ISSUES:function(e,t){e.issueList=We({},e.issueList,{closed:t})},SET_ISSUE_COUNT:function(e,t){e.issueCount=t},SET_OPEN_ISSUE:function(e,t){e.openIssue=t},SET_CATEGORIES:function(e,t){e.categories=t},SET_ACTIVE_TAB:function(e,t){e.activeTab=t},SET_ACTIVE_CATEGORY_ID:function(e,t){e.activeCategoryId=t}},et={state:Xe,mutations:Je},tt={dynamicLayerList:[],baseLayerList:[],bunchLayerList:[],focusedPolygonVector:null},at={SET_FOCUSED_POLYGON_VECTOR:function(e,t){e.focusedPolygonVector=t},SET_DYNAMIC_LAYER_LIST:function(e,t){e.dynamicLayerList=t},SET_BASE_LAYER_LIST:function(e,t){e.baseLayerList=t},SET_BUNCH_LAYER_LIST:function(e,t){e.bunchLayerList=t}},nt={saveFocusePolygonVector:function(e,t){e.commit("SET_FOCUSED_POLYGON_VECTOR",t)},saveDynamicLayerList:function(e,t){e.commit("SET_DYNAMIC_LAYER_LIST",t)},saveBaseLayerList:function(e,t){e.commit("SET_BASE_LAYER_LIST",t)},saveBunchLayerList:function(e,t){e.commit("SET_BUNCH_LAYER_LIST",t)}},it={dynamicLayerList:function(e){return e.dynamicLayerList},baseLayerList:function(e){return e.baseLayerList},bunchLayerList:function(e){return e.bunchLayerList}},rt={state:tt,mutations:at,actions:nt,getters:it},ot={isSumFilter:!1,sumFilterColumn:""},st={SET_IS_SUM_FILTER:function(e,t){e.isSumFilter=t},SET_SUM_FILTER_COLUMN:function(e,t){e.filterQueryArithmeticColumn=t}},ct={saveIsSumFilter:function(e,t){e.commit("SET_IS_SUM_FILTER",t)},saveSumFilterColumn:function(e,t){e.commit("SET_SUM_FILTER_COLUMN",t)}},lt={state:ot,mutations:st,actions:ct},ut={mapLayer:null,graticuleLayer:null,selectionLayer:null,selectedFeatureId:0,draw:null,drawSource:null,sketch:null},dt={SET_MAP:function(e,t){e.mapLayer=t},SET_GRATICULE:function(e,t){e.graticuleLayer=t},SET_DRAW:function(e,t){e.draw=t},SET_DRAW_SOURCE:function(e,t){e.drawSource=t},SET_SELECTION_LAYER:function(e,t){e.selectionLayer=t},SET_SELECTED_FEATURE_ID:function(e,t){e.selectedFeatureId=t},SET_SKETCH:function(e,t){e.sketch=t}},pt={saveMap:function(e,t){e.commit("SET_MAP",t)},saveGraticule:function(e,t){e.commit("SET_GRATICULE",t)},saveDraw:function(e,t){e.commit("SET_DRAW",t)},saveDrawSource:function(e,t){e.commit("SET_DRAW_SOURCE",t)},saveSelectionLayer:function(e,t){e.commit("SET_SELECTION_LAYER",t)},saveSelectedFeatureId:function(e,t){e.commit("SET_SELECTED_FEATURE_ID",t)},saveSketch:function(e,t){e.commit("SET_SKETCH",t)}},mt={mapLayer:function(e){return e.mapLayer},graticuleLayer:function(e){return e.graticuleLayer},draw:function(e){return e.draw},drawSource:function(e){return e.drawSource},selectionLayer:function(e){return e.selectionLayer},selectedFeatureId:function(e){return e.selectedFeatureId},sketch:function(e){return e.sketch}},ft={state:ut,mutations:dt,actions:pt,getters:mt},ht={LOCAL_MVT:1,XYZ:2,TILE_ARCGIS_REST:3,IMAGE_ARCGIS_REST:4},bt=ht,gt={CATEGORY:"category",LAYER:"layer",SUBLAYER:"subLayer",BUNCH:"bunch",DYNAMIC_LAYER:"dynamic",BASE_LAYER:"base"},vt=gt,yt={NONE:"None",SQUARE:"Square",BOX:"Box",CIRCLE:"Circle",LINESTRING:"LineString",POLYGON:"Polygon"},_t=yt,Ct={PROFILE:"profile",TOOL:"tool",DYNAMIC_LAYER:"dynamicLayer",BUNC_LAYER:"bunchLayer",BASE_LAYER:"baseLayer",BASE_MAP_TYPE:"baseMapType"},St=Ct,Tt={graticuleVisibility:!1,isColorPick:!1,isMarker:!1,isRemove:!1,isDrawForChangeDetection:!1,isDrawForTable:!1,drawType:_t.NONE,featureIdCounter:0,bbox:[],measuremaptooltipElement:null,measuremaptooltip:null,helpmaptooltipElement:null,helpmaptooltip:null},Lt={SET_GRATICULE_VISIBILITY:function(e,t){e.graticuleVisibility=t},SET_COLOR_PICK_STATUS:function(e,t){e.isColorPick=t},SET_MARKER_STATUS:function(e,t){e.isMarker=t},SET_DRAW_FOR_CHANGE_DETECTION_STATUS:function(e,t){e.isDrawForChangeDetection=t},SET_REMOVE_STATUS:function(e,t){e.isRemove=t},SET_DRAW_TYPE:function(e,t){e.drawType=t},SET_FEATURE_ID_COUNTER:function(e,t){e.featureIdCounter=t},SET_BBOX:function(e,t){e.bbox=t},SET_MEASUREMAP_TOOLTIP_ELEMENT:function(e,t){e.measuremaptooltipElement=t},SET_MEASUREMAP_TOOLTIP:function(e,t){e.measuremaptooltip=t},SET_HELPMAP_TOOLTIP_ELEMENT:function(e,t){e.helpmaptooltipElement=t},SET_HELPMAP_TOOLTIP:function(e,t){e.helpmaptooltip=t}},Et={saveGraticuleVisibility:function(e,t){e.commit("SET_GRATICULE_VISIBILITY",t)},saveColorPickStatus:function(e,t){e.commit("SET_COLOR_PICK_STATUS",t)},saveMarkerStatus:function(e,t){e.commit("SET_MARKER_STATUS",t)},saveDrawForChangeDetectionStatus:function(e,t){e.commit("SET_DRAW_FOR_CHANGE_DETECTION_STATUS",t)},saveRemoveStatus:function(e,t){e.commit("SET_REMOVE_STATUS",t)},saveDrawType:function(e,t){e.commit("SET_DRAW_TYPE",t)},saveFeatureIdCounter:function(e,t){e.commit("SET_FEATURE_ID_COUNTER",t)},saveBbox:function(e,t){e.commit("SET_BBOX",t)},saveMeasuremapTooltipElement:function(e,t){e.commit("SET_MEASUREMAP_TOOLTIP_ELEMENT",t)},saveMeasuremapTooltip:function(e,t){e.commit("SET_MEASUREMAP_TOOLTIP",t)},saveHelpmapTooltipElement:function(e,t){e.commit("SET_HELPMAP_TOOLTIP_ELEMENT",t)},saveHelpmapTooltip:function(e,t){e.commit("SET_HELPMAP_TOOLTIP",t)}},At={graticuleVisibility:function(e){return e.graticuleVisibility},isColorPick:function(e){return e.isColorPick},isMarker:function(e){return e.isMarker},isRemove:function(e){return e.isRemove},isDrawForChangeDetection:function(e){return e.isDrawForChangeDetection},drawType:function(e){return e.drawType},featureIdCounter:function(e){return e.featureIdCounter},bbox:function(e){return e.bbox},measuremaptooltipElement:function(e){return e.measuremaptooltipElement},measuremaptooltip:function(e){return e.measuremaptooltip},helpmaptooltipElement:function(e){return e.helpmaptooltipElement},helpmaptooltip:function(e){return e.helpmaptooltip}},Ot={state:Tt,mutations:Lt,actions:Et,getters:At},wt={activeMenuTab:"",isInformationModalVisible:!1},It={SET_ACTIVE_MENU_TAB:function(e,t){e.activeMenuTab=t},SET_INFORMATION_MODAL_VISIBILITY:function(e,t){e.isInformationModalVisible=t}},kt={saveInformationModalVisibility:function(e,t){e.commit("SET_INFORMATION_MODAL_VISIBILITY",t)},saveActiveMenuTab:function(e,t){e.commit("SET_ACTIVE_MENU_TAB",t)}},Dt={activeMenuTab:function(e){return e.activeMenuTab},isInformationModalVisible:function(e){return e.isInformationModalVisible}},jt={state:wt,mutations:It,actions:kt,getters:Dt},Pt={moodal:null},Mt={SET_MOODAL:function(e,t){e.moodal=t}},xt={saveMoodal:function(e,t){e.commit("SET_MOODAL",t)}},Rt={moodal:function(e){return e.moodal}},Bt={state:Pt,mutations:Mt,actions:xt,getters:Rt},Vt={auth:Re,dataTable:He,colorPicker:Ue,information:qe,forum:et,layers:rt,filter:lt,map:ft,tool:Ot,menu:jt,modal:Bt},Ft=a("bc3a"),Nt=a.n(Ft),Ht=window.location,zt=Ht.protocol+"//webgis.azercosmos.az",$t=zt,Zt=Ht.protocol+"//webgis.azercosmos.az/emlak",Gt=Ht.protocol+"//webgis.azercosmos.az",Ut={LOGIN_URL:Gt+"/api/account/login"},Yt={ADD:Gt+"/api/bunch/add",EDIT:Gt+"/api/bunch/edit",DELETE:Gt+"/api/bunch/delete",GET:Gt+"/api/bunch/get",GET_ALL:Gt+"/api/bunch/getall"},Qt={GET_ALL:Gt+"/api/Map/GetLayers"},qt={MVT:"api/Tile/VectorAsMvt",GEOJSON:"api/Tile/VectorAsGeoJson"},Kt=Nt.a.create({baseURL:"".concat($t,"/arcgis/rest/services"),withCredentials:!1});Kt.interceptors.request.use((function(e){return e.headers["Authorization"]="Bearer "+ca.getToken(),e}),(function(e){return Promise.reject(e)})),Kt.interceptors.response.use((function(e){return e}),(function(e){return Promise.resolve(e.response)}));var Wt=Kt,Xt=function(){return Wt.get(Yt.GET_ALL)},Jt=function(e){return Wt.post(Yt.ADD,e)},ea=function(e){return Wt.delete(Yt.DELETE+"/"+e)},ta={add:Jt,getAll:Xt,remove:ea},aa=a("4328"),na=a.n(aa);function ia(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ra(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ia(Object(a),!0).forEach((function(t){Object(Ae["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ia(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var oa={getUserRelatedLayers:function(){return Wt.get(Gt+"/api/userlayer/getuserlayers")},getLayers:function(){return Wt.get(Qt.GET_ALL)},getData:function(e,t){return Wt.get(e,{params:t})},postData:function(e,t){return Wt.post(e,t)},getLayerColumnsDistinctData:function(e){return Wt.get(Gt+"/api/DataTable/GetDistinctValues/"+e.id,{params:{f:"json"}})},getLayersWithFullData:function(e){return Wt.get("/",{params:{token:e.token,f:"json",option:"footprints"}})},getLayersWithFullDataFromServer:function(e){return Wt.get(Gt+"/api/Map/GetLayers")},getLayerDynamic:function(e){return Wt.get(Gt+"/api/map/service/"+e.name+"/MapServer/layers",{params:{f:"json",token:e.token}})},getDynamicLayers:function(e){return Wt.get(Gt+"/api/map/service/"+e.name+"/MapServer/",{params:{token:e.token,f:"json"}})},getLayerForEmlakService:function(e){return Wt.get(Zt+"/arcgis/rest/services/AZERCOSMOS/"+e.name+"/MapServer",{params:{token:e.token,f:"json"}})},getLocalTableData:function(e){return Wt.get(Gt+"/api/datatable/GetDatas/"+e.layerId+"/",{params:e,paramsSerializer:function(e){return na.a.stringify(e,{arrayFormat:"indices",allowDots:!0})}})},getIntersectLocalTableData:function(e,t){return Wt.get(Gt+"/api/datatable/Intersect/GetDatas/"+e+"/",{params:t,paramsSerializer:function(e){return na.a.stringify(e,{arrayFormat:"indices",allowDots:!0})}})},getLocalArithmeticData:function(e){return Wt.get(Gt+"/api/datatable/GetArithmeticData/"+e.layerId+"/",{params:e})},getTableData:function(e){return Wt.get(Gt+"/api/data/get/"+e.name+"/MapServer/"+e.layer+"/query/",{params:ra({f:"json"},e,{returnGeometry:!0,outFields:"*"})})},getGeometryData:function(e){return Wt.get(Gt+"/api/data/get/"+e.name+"/MapServer/"+e.layer+"/query/",{params:{token:e.token,f:"json",where:e.where,returnGeometry:!0,geometryType:"esriGeometryPoint",geometry:e.geometry,outFields:"*"}})},getLocalGeometryData:function(e){return Wt.get(Gt+"/api/geo/vectordata/"+e.layerId+"/",{params:e})}},sa="token",ca={getToken:function(){return localStorage.getItem(sa)},setToken:function(e){localStorage.setItem(sa,e)},removeToken:function(){localStorage.removeItem(sa)}},la={login:function(e){var t=Wt.post(Ut.LOGIN_URL,e);return t}};n["default"].use(De["a"]);var ua=new De["a"].Store({state:{},getters:{},mutations:{deleteToken:function(e){e.token=null}},actions:{getLayers:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){var a,n,i,r,o,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.dispatch,e.next=3,oa.getLayers();case 3:return n=e.sent,i=Sa.mapLayers(n.data),r=i.baseLayers,o=i.dynamicLayers,a("saveDynamicLayerList",o),a("saveBaseLayerList",r),e.next=11,ta.getAll();case 11:s=e.sent,c=Ia.mapBunchs(s.data),a("saveBunchLayerList",c);case 14:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},modules:Vt}),da=function(){function e(t){Object(Oe["a"])(this,e),this.data=t}return Object(we["a"])(e,[{key:"historyBack",value:function(){this.data.historyUpdate=!1,this.data.historyEventsIndex-=1;var e=this.data.historyEvents[this.data.historyEventsIndex-1];this.data.mapLayer.getView().setCenter(e.center),this.data.mapLayer.getView().setZoom(e.zoom),this.data.mapLayer.getView().setRotation(e.rotation),this.data.nextHistoryEvent=!0,1===this.data.historyEventsIndex&&(this.data.previousHistoryEvent=!1)}},{key:"historyNext",value:function(){this.data.historyEventsIndex+1===this.data.historyEvents.length&&(this.data.nextHistoryEvent=!1),this.data.previousHistoryEvent=!0,this.data.historyUpdate=!1,this.data.historyEventsIndex+=1;var e=this.data.historyEvents[this.data.historyEventsIndex-1];this.data.mapLayer.getView().setCenter(e.center),this.data.mapLayer.getView().setZoom(e.zoom),this.data.mapLayer.getView().setRotation(e.rotation)}},{key:"exportData",value:function(){var e=this.data.source.getFeatures(),t=new ee["a"]({maxDepth:10,extractStyles:!0,featureProjection:"EPSG:3857"}).writeFeatures(e,{featureProjection:"EPSG:3857"}),a=new Blob([t],{type:"text/plain"}),n=document.createEvent("MouseEvents"),i=document.createElement("a");i.download="shapes.kml",i.href=window.URL.createObjectURL(a),i.dataset.downloadurl=["text/json",i.download,i.href].join(":"),n.initEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(n)}},{key:"addInteraction",value:function(){this.data.isMarker=!1,this.data.isRemove=!1,this.data.isColorPick=!1;var t,a,n=this.data.typeSelect;"None"!==n?("Square"===n?(n="Circle",t=Object(ie["b"])(4)):"Box"===n?(n="Circle",t=Object(ie["a"])()):"Circle"===n&&(t=Object(ie["b"])(120)),this.data.draw=new ie["c"]({source:this.data.source,type:n,geometryFunction:t,freehandCondition:ne["i"]}),this.data.mapLayer.addInteraction(this.data.draw)):(this.data.draw=new ie["c"]({source:this.data.source,type:this.data.typeSelect,freehandCondition:ne["i"]}),this.data.mapLayer.addInteraction(this.data.draw));this.createMeasuremaptooltip(),this.createHelpmaptooltip();var i=this;i.data.draw.on("drawstart",(function(t){i.data.sketch=t.feature;var n=t.coordinate;a=i.data.sketch.getGeometry().on("change",(function(t){var a,r=t.target;r instanceof E["b"]?(a=e.formatArea(r),n=r.getInteriorPoint().getCoordinates()):r instanceof L["a"]?(a=e.formatLength(r),n=r.getLastCoordinate()):r instanceof A["a"]&&(a=e.formatCircleRadius(r),n=r.getLastCoordinate());try{i.data.measuremaptooltipElement.innerHTML=a,i.data.measuremaptooltip.setPosition(n)}catch(o){i.createMeasuremaptooltip(),i.data.measuremaptooltipElement.innerHTML=a,i.data.measuremaptooltip.setPosition(n)}}))}),this),i.data.draw.on("drawend",(function(e){try{i.data.measuremaptooltipElement.className="maptooltip maptooltip-static "+i.data.featureIDSet,i.data.measuremaptooltip.setOffset([0,-7]);var t=e.feature.getGeometry().getExtent();ua.dispatch("SAVE_DRAW_BBOX",t)}catch(e){i.createMeasuremaptooltip(),i.data.measuremaptooltipElement.className="maptooltip maptooltip-static "+i.data.featureIDSet,i.data.measuremaptooltip.setOffset([0,-7])}i.data.sketch=null,i.data.measuremaptooltipElement=null,Object(oe["b"])(a),e.feature.setProperties({id:i.data.featureIDSet,name:""});var n=new R["default"]({fill:new M["a"]({color:"#00000000"}),stroke:new x["a"]({color:"#C672F5",width:2}),image:new P["a"]({radius:7,fill:new M["a"]({color:"#00000000"})})});"Point"!==i.data.typeSelect&&e.feature.setStyle(n),i.data.featureIDSet+=10}),this)}},{key:"renderPolygonVector",value:function(e){var t=new E["b"]([e]),a=new T["default"]({geometry:t}),n=new Y["default"];n.addFeature(a);var i=new R["default"]({stroke:new x["a"]({color:"#FF0000",width:3})}),r=new F["default"]({type:"draw",source:n,style:i});return r}},{key:"createHelpmaptooltip",value:function(){this.data.helpmaptooltipElement&&this.data.helpmaptooltipElement.parentNode.removeChild(this.data.helpmaptooltipElement),this.data.helpmaptooltipElement=document.createElement("div"),this.data.helpmaptooltipElement.className="maptooltip hidden",this.data.helpmaptooltip=new S["a"]({element:this.data.helpmaptooltipElement,offset:[15,0],positioning:"center-left"}),this.data.mapLayer.addOverlay(this.data.helpmaptooltip)}},{key:"createMeasuremaptooltip",value:function(){this.data.measuremaptooltipElement&&this.data.measuremaptooltipElement.parentNode.removeChild(this.data.measuremaptooltipElement),this.data.measuremaptooltipElement=document.createElement("div"),this.data.measuremaptooltipElement.className="maptooltip maptooltip-measure",this.data.measuremaptooltip=new S["a"]({element:this.data.measuremaptooltipElement,offset:[0,-15],positioning:"bottom-center"}),this.data.mapLayer.addOverlay(this.data.measuremaptooltip)}}],[{key:"formatArea",value:function(e){var t,a=Object(re["a"])(e);return t=a>1e4?Math.round(a/1e6*100)/100+" km<sup>2</sup>":Math.round(100*a)/100+" m<sup>2</sup>",t}},{key:"formatLength",value:function(e){var t,a=Object(re["c"])(e);return t=a>100?Math.round(a/1e3*100)/100+" km":Math.round(100*a)/100+" m",t}},{key:"formatCircleRadius",value:function(e){var t,a=e.getRadius()*METERS_PER_UNIT["m"];return t=a>100?Math.round(a/1e3*100)/100+" km":Math.round(100*a)/100+" m",t}}]),e}(),pa=da;a("6c7b");function ma(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function fa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ma(Object(a),!0).forEach((function(t){Object(Ae["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ma(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ha={renderColor:function(e,t,a){var n=[],i=[];n[0]=t.rgba.r,n[1]=t.rgba.g,n[2]=t.rgba.b,n[3]=255*t.rgba.a,i[0]=a.rgba.r,i[1]=a.rgba.g,i[2]=a.rgba.b,i[3]=255*a.rgba.a;var r="["+n[0]+","+n[1]+","+n[2]+","+n[3]+"]",o="["+i[0]+","+i[1]+","+i[2]+","+i[3]+"]",s='{"id":'+e+',"name":"","source":{"type":"mapLayer","mapLayerId": '+e+'},"drawingInfo":{"renderer":{"type":"simple","label":"","description":"","symbol":{"color":'+r+',"outline":{"color":'+o+',"width":1.0,"type":"esriSLS","style":"esriSLSSolid"},"type":"esriSFS","style":"esriSFSSolid"}}},"minScale":0,"maxScale":0}';return s},buildVectorStyle:function(e){null===e&&(e=ba.getDefaultColorObject());var t=new R["default"]({fill:new M["a"]({color:e.fill.hex8}),stroke:new x["a"]({color:e.border.hex8,width:.5}),image:new P["a"]({radius:7,fill:new M["a"]({color:e.fill.hex8}),stroke:new x["a"]({color:e.border.hex8,width:.5})})});return t}},ba={getDefaultColorObject:function(){var e=ua.state.colorPicker.fill,t=ua.state.colorPicker.border;return{fill:e,border:t}}},ga=fa({},ha,{},ba);function va(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ya(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?va(Object(a),!0).forEach((function(t){Object(Ae["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):va(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _a={basemapMapping:function(e){return{id:e.id,name:e.label,showingLabel:e.showingLabel,spatial:e.spatial,minZoomLevel:e.minZoomLevel,maxZoomLevel:e.maxZoomLevel,extent:e.extent,resourceType:e.resourceTypeId,mapType:e.mapTypeId,type:vt.LAYER,isDisabled:e.isDisabled,isSelected:!1,layersVisibility:!1,collapseVisibility:!1,unitedDynamicLayerName:null!=e.unitedDynamicLayer?_a.basemapMapping(e.unitedDynamicLayer):null,layers:null}},dynamicMapping:function(e){return ya({id:(e.resourceTypeId,e.id),name:e.label,showingLabel:e.showingLabel,minZoomLevel:e.minZoomLevel,maxZoomLevel:e.maxZoomLevel,extent:e.extent,resourceType:e.resourceTypeId,mapType:e.mapTypeId,type:vt.LAYER,isDisabled:e.isDisabled,isSelected:!1,isColorEnabled:!0},"local"===e.resourceTypeId&&{color:null},{layersVisibility:!1,collapseVisibility:!1,query:{where:""},layers:null,apiFrom:"internal"})},recursiveMap:function(e){return void 0!==e.layers?{id:e.id,name:e.label,mapTypeId:e.mapTypeId,children:e.children.map((function(e,t){return _a.recursiveMap(e)})),type:vt.CATEGORY,layers:e.layers.map((function(e,t){return"basemap"==e.mapTypeId?_a.basemapMapping(e):_a.dynamicMapping(e)}))}:"basemap"==e.mapTypeId?_a.basemapMapping(e):_a.dynamicMapping(e)},subLayerMapping:function(e,t){return e.color=null,e.type=vt.SUBLAYER,e.isSelected=!0,e.uid=parseInt(t.id.toString()+e.id.toString()),e.parent=t,e},mapLayers:function(e){var t=e.filter((function(e){return"basemap"===e.mapTypeId})).map((function(e){return _a.recursiveMap(e)})),a=e.filter((function(e){return"dynamic"===e.mapTypeId})).map((function(e){return _a.recursiveMap(e)})),n={baseLayers:t,dynamicLayers:a};return n},recursiveLayerMapping:function(e,t){for(var a=0;a<e.length;a++){var n=e[a];_a.recursiveMapping(n,t)}return e},recursiveMapping:function(e,t){var a=Pa.isCategory(e);if(a){if(e.children&&e.children.length>0)for(var n=0;n<e.children.length;n++){var i=e.children[n];_a.recursiveMapping(i,t)}if(e.layers&&e.layers.length>0)for(n=0;n<e.layers.length;n++){var r=e.layers[n];_a.recursiveMapping(r,t)}}else t&&"function"===typeof t&&t(e)},recursiveTreeMapping:function(e,t){for(var a=[],n=0;n<e.length;n++){var i=e[n];i=_a.recursiveTreeSelectMapping(i,t);i&&a.push(i)}return a},recursiveTreeSelectMapping:function(e,t){if(t&&"function"===typeof t&&(e=t(e)),!e)return e;var a=Pa.isCategory(e);if(a){for(var n={id:e.id,label:e.name,children:[].concat(Object(Ee["a"])(e.children),Object(Ee["a"])(e.layers))},i=0;i<n.children.length;i++)n.children[i]=_a.recursiveTreeSelectMapping(n.children[i],t);return n}return{id:e.id,label:e.name}}},Ca={renderArcgisSublayerConfig:function(e){var t=e.layers,a=t.filter((function(e){return e.isSelected})).map((function(e,t){return e.id})),n=t.filter((function(e){return!e.isSelected})).map((function(e,t){return e.id})),i="";return i=a.length>0?"show:"+a.join(" , "):"hide:"+n.join(" , "),i},renderSubLayersColorString:function(e){for(var t=[],a=0;a<e.layers.length;a++){var n=e.layers[a];if(void 0!==n.color&&null!==n.color){var i=ga.renderColor(n.id,n.color.fill,n.color.border);t.push(i)}}var r="";return t.length>0&&(r="["+t.join(" , ")+"]"),r}},Sa=ya({},Ca,{},_a),Ta=a("5a0c"),La=a.n(Ta),Ea={formatDate:function(e){return La()(e).format("D MMMM YYYY")},formatDateTime:function(e){return La()(e).format("HH:mm D MMMM YYYY")}};a("0d96");function Aa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Oa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Aa(Object(a),!0).forEach((function(t){Object(Ae["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Aa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var wa={bunchMapper:function(e){var t={id:e.id,name:e.label,layers:e.layers.map((function(e){return Sa.dynamicMapping(e)})),type:"bunch",isActive:e.isActive,color:null,isSelected:!1,isColorEnabled:!0};return t},mapBunchs:function(e){var t=e.map((function(e){return wa.bunchMapper(e)}));return t}},Ia=Oa({},wa);function ka(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Da(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ka(Object(a),!0).forEach((function(t){Object(Ae["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ka(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ja={isLocalService:function(e){return"local"===e.resourceType},isArcgisService:function(e){return"azcArcgis"===e.resourceType},isDynamic:function(e){return"dynamic"==e.mapType},isBasemap:function(e){return"basemap"==e.mapType},isDynamicFromArcgis:function(e){return ja.isArcgisService(e)&&ja.isDynamic(e)},isDynamicFromLocal:function(e){return ja.isLocalService(e)&&ja.isDynamic(e)},isCategory:function(e){return e.type===vt.CATEGORY},isLayer:function(e){return e.type===vt.LAYER},isSublayer:function(e){return e.type===vt.SUBLAYER},isBunch:function(e){return e.type===vt.BUNCH},isEqual:function(e,t){return e&&t&&e.id==t.id&&e.type==t.type},isQueryExist:function(e){return ja.isLayer(e)?e.query&&e.query.where&&""!==e.query.where&&"1=1"!==e.query.where.trim():!!ja.isBunch(e)&&e.layers.some((function(e){return ja.isQueryExist(e)}))},isLayerColorEnabled:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=!1,!ja.isDynamicFromArcgis()){e.next=8;break}return e.next=4,oa.getLayerDynamic({token:ca.getToken(),name:t.name});case 4:n=e.sent,void 0!==n.data.layers[0].drawingInfo&&void 0!==n.data.layers[0].drawingInfo.renderer.symbol&&void 0!==n.data.layers[0].drawingInfo.renderer.symbol.color&&(a=!0),e.next=9;break;case 8:ja.isDynamicFromLocal()&&(a=!0);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},Pa=Da({},ja);function Ma(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function xa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ma(Object(a),!0).forEach((function(t){Object(Ae["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ma(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ra={buildTileUrl:function(e,t){var a="",n=ca.getToken(),i=bt.LOCAL_MVT,r=bt.XYZ,o=bt.TILE_ARCGIS_REST,s=bt.IMAGE_ARCGIS_REST;switch(t){case i:if(Pa.isLayer(e)){var c=e.query,l=na.a.stringify(c,{arrayFormat:"indices",allowDots:!0});a="".concat(Gt,"/").concat(qt.MVT,"/").concat(e.id,"/{z}/{x}/{y}/?").concat(l)}else{var u=e.layers.map((function(e,t){var a={layerId:e.id};return e.query&&""!=e.query.where&&"1=1"!=e.query.where&&(a.query=e.query),a})),d=na.a.stringify({queries:u},{arrayFormat:"indices",allowDots:!0});a="".concat(Gt,"/api/Tile/Intersect/VectorAsMvt/").concat(e.id,"/{z}/{x}/{y}/?").concat(d)}break;case r:a="".concat(Gt,"/api/map/service/").concat(e.name,"/MapServer/tile/{z}/{y}/{x}?token=").concat(n);break;case o:a="".concat(Gt,"/api/map/service/").concat(e.name,"/MapServer/");break;case s:a="".concat(Gt,"/api/map/service/").concat(e.name,"/MapServer/");break}return a}},Ba=xa({},Ra),Va=a("4b7c"),Fa=a.n(Va),Na=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"fade"}},[e.isMounted?a("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"Modal modal--overlay",attrs:{id:e.name},on:{click:function(t){return t.target!==t.currentTarget?null:e.hide(t)}}},[a("div",{staticClass:"modal__content",style:e.contentStyle},[a("div",{staticClass:"modal__header"},[a("div",{staticClass:"header__title"},[e._v(e._s(e.title))]),a("div",{staticClass:"header__close"},[a("i",{staticClass:"fas fa-times",on:{click:e.hide}})])]),a("div",{staticClass:"modal__body custom-scrollbar"},[e._t("default")],2)])]):e._e()])},Ha=[],za={name:"Moodal",props:{name:{type:String},height:{type:[Number,String]},width:{type:[Number,String]},minHeight:{type:Number,default:100},minWidth:{type:Number,default:200},maxHeight:{type:Number,default:window.innerHeight},maxWidth:{type:Number,default:window.innerWidth},title:{type:String,default:""},mounted:{type:Boolean,default:!0}},data:function(){return{isMounted:this.mounted,visible:!1}},computed:{contentStyle:function(){var e=[];if(this.width){var t="";"number"===typeof this.width?t=this.width+"px":"string"===typeof this.width&&(t=this.width),e.push("width: ".concat(t,";"))}if(this.height){var a="";"number"===typeof this.height?a=this.height+"px":"string"===typeof this.height&&(a=this.height),e.push("height: ".concat(a,";"))}return this.minWidth&&e.push("min-width: ".concat(this.minWidth,"px;")),this.minHeight&&e.push("min-height: ".concat(this.minHeight,"px;")),this.maxWidth&&e.push("max-width: ".concat(this.maxWidth,"px;")),this.maxHeight&&e.push("max-height: ".concat(this.maxHeight<window.innerHeight,"px;")),e.join(" ")}},methods:{open:function(){this.$emit("beforeOpen"),this.isMounted=!0,this.show(),this.$emit("afterOpen")},close:function(){this.$emit("beforeClose"),this.isMounted=!1,this.hide(),this.$emit("afterClose")},show:function(){this.$emit("beforeShow"),this.visible=!0,this.$emit("afterShow")},hide:function(){this.$emit("beforeHide"),this.visible=!1,this.$emit("afterHide")}},created:function(){this.$moodal||(n["default"].prototype.$moodal={}),this.$moodal[this.name]=this}},$a=za,Za=(a("61d4"),Object(fe["a"])($a,Na,Ha,!1,null,null,null)),Ga=Za.exports;function Ua(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ya(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ua(Object(a),!0).forEach((function(t){Object(Ae["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ua(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Qa={get:function(){return ua.getters.baseLayerList},set:function(e){ua.dispatch("saveBaseLayerList",e)}},qa={get:function(){return ua.getters.dynamicLayerList},set:function(e){ua.dispatch("saveDynamicLayerList",e)}},Ka={getBaseLayerList:function(){var e=Qa.get();return e},getDynamicLayerList:function(){var e=qa.get();return e},getDynamicLayerAsTreeSelect:function(){var e=Ka.getDynamicLayerList(),t=Sa.recursiveTreeMapping(e,(function(e){return Pa.isCategory(e)?e.layers=e.layers.filter((function(e){return Pa.isLocalService(e)})):Pa.isLocalService(e)||(e=null),e}));return t},getBasemapLayerAsTreeSelect:function(){var e=Ka.getBaseLayerList(),t=Sa.recursiveTreeMapping(e);return t},getLayer:function(e){var t=Ka.getDynamicLayer(e);return t||(t=Ka.getBaseLayer(e)),t},getDynamicLayer:function(e){var t=Ka.getDynamicLayersWithoutCategory(),a=t.find((function(t){return t.id===e}));return a},getBaseLayer:function(e){var t=Ka.getBaseLayersWithoutCategory(),a=t.find((function(t){return t.id===e}));return a},getBaseLayersWithoutCategory:function(){var e=[];return Sa.recursiveLayerMapping(Qa.get(),(function(t){e.push(t)})),e},getDynamicLayersWithoutCategory:function(e){var t=[];return Sa.recursiveLayerMapping(qa.get(),(function(a){var n=!e||Pa.isDynamicFromLocal(a);n&&t.push(a)})),t},getSelectedBasemaps:function(){var e=[];return Sa.recursiveLayerMapping(Qa.get(),(function(t){t.isSelected&&e.push(t)})),e},getSelectedLayers:function(){var e=[],t=[].concat(Object(Ee["a"])(qa.get()),Object(Ee["a"])(Qa.get()));return Sa.recursiveLayerMapping(t,(function(t){t.isSelected&&e.push(t)})),e}},Wa={setSelected:function(e,t){var a=[];Pa.isDynamic(e)?(a=qa.get(),a=Sa.recursiveLayerMapping(a,function(){var a=Object(y["a"])(regeneratorRuntime.mark((function a(n){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:null!=n&&n.id==e.id&&(n.isSelected=t,t&&Pa.isDynamicFromArcgis(n)&&(n.layers=e.layers.map((function(e){return Sa.subLayerMapping(e,e)}))));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()),qa.set(a)):Pa.isBasemap(e)&&(a=Qa.get(),a=Sa.recursiveLayerMapping(a,function(){var a=Object(y["a"])(regeneratorRuntime.mark((function a(n){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:null!=n&&n.id==e.id&&(n.isSelected=t);case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()),Qa.set(a))},setColor:function(e,t,a){var n=Sa.recursiveLayerMapping(qa.get(),function(){var n=Object(y["a"])(regeneratorRuntime.mark((function n(i){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:null!=i&&i.id==e.id&&(a?i.layers=i.layers.map((function(a,n){return a.id==e.id&&(a.color=t),a})):i.color=t);case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());qa.set(n)},setQuery:function(e,t){var a=Sa.recursiveLayerMapping(qa.get(),function(){var a=Object(y["a"])(regeneratorRuntime.mark((function a(n){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:null!=n&&n.id==e.id&&(e.query.where=t);case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());qa.set(a)},setBaseLayerList:function(e){ua.dispatch("saveBaseLayerList",e)},setDynamicLayerList:function(e){ua.dispatch("saveDynamicLayerList",e)}},Xa={},Ja=Ya({},Ka,{},Wa,{},Xa),en={dynamicZIndex:2e3,basemapZIndex:1e3,bunchZIndex:3e3},tn={minZoomLevel:0,maxZoomLevel:20},an=["#2196F3","#f44336","#222222","#ffeb3b","#4caf50","#E91E63","#9c27b0","#673ab7"];function nn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function rn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(a),!0).forEach((function(t){Object(Ae["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):nn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var on=new R["default"]({stroke:new x["a"]({color:"rgba(200,20,20,1)",width:1}),fill:new M["a"]({color:"rgba(200,20,20,0.4)"})}),sn={none:new K["a"]({crossOrigin:"Anonymous",url:""}),satellite:new K["a"]({name:"sat",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"}),street:new K["a"]({url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}"}),gray:new K["a"]({crossOrigin:"Anonymous",url:"https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}"})},cn={get:function(){return ua.getters.mapLayer},set:function(e){ua.dispatch("saveMap",e)}},ln={addService:function(e){if(null!=e.extent){var t=e.extent,a=t.minX,n=t.minY,i=t.maxX,r=t.maxY,o=[a,n,i,r];ln.fitView(o)}var s=ln.buildLayer(e),c=Pn.getZIndex(e);s.setZIndex(c);var l=cn.get();l.addLayer(s),console.log("addService -> layer",s),cn.set(l)},focusToServicePolygon:function(e){var t=An.getTableActiveService(),a=dn.getLayer(t.id);a.getFeatures(e).then((function(e){document.querySelectorAll('canvas[width="256"][height="256"]').forEach((function(e){return e.remove()}));var t=dn.getSelectionLayer();if(!e.length)return un.setSelectedFeatureId(0),void t.changed();var a=e[0];if(a){var n=a.getId();un.setSelectedFeatureId(n),t.changed()}}))},buildSelectionLayer:function(e){var t=dn.getLayer(e.id),a=t.getSource(),n=new H["a"]({map:dn.getMap(),renderMode:"vector",source:a,style:function(e){if(null!=e&&e.getId()==dn.getSelectedFeatureId())return on}});un.setSelectionLayer(n)},resetSelectionLayer:function(){un.setSelectionLayer(null),un.setSelectedFeatureId(0)},deleteService:function(e){var t=dn.getLayer(e.id);ln.removeLayer(t)},refreshService:function(e){ln.deleteService(e,!1),ln.addService(e)},removeLayer:function(e){var t=cn.get();t.removeLayer(e),cn.set(t)},removeDrawPolygons:function(){var e=cn.get();e.getLayers().forEach((function(e){"draw"===e.get("type")&&ln.removeLayer(e)})),cn.set(e)},fitView:function(e){var t=cn.get();t.getView().fit(e),cn.set(t)},buildLayer:function(e){var t,a=ca.getToken(),n={id:e.id,name:e.name,zoomLevelProperties:dn.getZoomLevelOptions(e),type:e.type},i=Pa.isLayer(e);if(i){var r=Pa.isDynamic(e);r?t=Pa.isLocalService(e)?new H["a"](rn({},n,{declutter:!0,source:new z["a"]({format:new $["a"]({idProperty:"gid",geometryName:"geom"}),url:Ba.buildTileUrl(e,bt.LOCAL_MVT)}),style:ga.buildVectorStyle(e.color)})):new N["a"](rn({},n,{source:new Q["a"]({url:Ba.buildTileUrl(e,bt.IMAGE_ARCGIS_REST),crossOrigin:"Anonymous",params:{token:a,layers:Sa.renderArcgisSublayerConfig(e),dynamicLayers:Sa.renderSubLayersColorString(e)}})})):(t=3857===e.spatial?new V["a"](rn({},n,{source:new K["a"]({url:Ba.buildTileUrl(e,bt.XYZ),projection:"EPSG:3857",crossOrigin:"Anonymous"})})):new V["a"]({source:new U["a"]({url:Ba.buildTileUrl(e,bt.TILE_ARCGIS_REST),crossOrigin:"Anonymous",params:{token:a,FORMAT:"png8"}})}),console.log(t))}else t=new H["a"](rn({},n,{source:new z["a"]({format:new $["a"]({geometryName:"geom"}),url:Ba.buildTileUrl(e,bt.LOCAL_MVT)}),style:function(t){var a=t.get("layerId"),n=e.layers.map((function(e){return e.id})),i=n.indexOf(a),r=an[i],o={border:{hex8:r},fill:{hex8:"#FFFFFF00"}};return ga.buildVectorStyle(o)}}));return t}},un={setMap:function(e){ua.dispatch("saveMap",e)},setSelectionLayer:function(e){ua.dispatch("saveSelectionLayer",e)},setSelectedFeatureId:function(e){ua.dispatch("saveSelectedFeatureId",e)},setDrawSource:function(e){ua.dispatch("saveDrawSource",e)},setSketch:function(e){ua.dispatch("saveSketch",e)},setZIndex:function(e){var t=cn.get();t.getLayers().forEach((function(t){void 0!=t.get("id")&&t.get("id")===e.id&&t.setZIndex(Pn.calculateZIndex(e))}))},setBaseLayout:function(e){var t=cn.get(),a=t.getLayers().getArray();a[0].setSource(sn[e]),un.setMap(t)}},dn={getMap:function(){return ua.getters.mapLayer},getSelectionLayer:function(){return ua.getters.selectionLayer},getSelectedFeatureId:function(){return ua.getters.selectedFeatureId},getDrawSource:function(){return ua.getters.drawSource},getSketch:function(){return ua.getters.sketch},getLayer:function(e){var t=cn.get(),a=null;return t.getLayers().forEach((function(t){var n=t.values_.id;void 0!==n&&n===e&&(a=t)})),a},getBaseMaps:function(){return sn},getZoomLevelOptions:function(e){var t,a;return Pa.isLayer(e)?(t=e.minZoomLevel,a=e.maxZoomLevel):(t=tn.minZoomLevel,a=tn.maxZoomLevel),{maxResolution:1.01*Object(Z["b"])().getResolution(t),minResolution:Object(Z["b"])().getResolution(a)}}},pn=rn({},ln,{},dn,{},un);function mn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function fn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(a),!0).forEach((function(t){Object(Ae["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):mn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var hn={get:function(){return ua.getters.bunchLayerList},set:function(e){ua.dispatch("saveBunchLayerList",e)}},bn={add:function(e){var t=hn.get();e=Ia.bunchMapper(e),t.push(e),hn.set(t)},remove:function(e){for(var t=hn.get(),a=0;a<t.length;a++){var n=t[a];if(n.id===e){var i=t.indexOf(n);t.splice(i,1)}}hn.set(t)}},gn={getBunchLayerList:function(){var e=hn.get();return e},getBunch:function(e){var t=hn.get().find((function(t){return t.id==e}));return t},getBunchLayer:function(e,t){var a=gn.getBunch(e),n=a.layers.find((function(e){return e.id===t}));return n}},vn={setBunchLayerList:function(e){ua.dispatch("saveBunchLayerList",e)},setSelected:function(e,t){var a=hn.get();a=a.map((function(a,n){return a.id===e.id&&(a.isSelected=t),a})),hn.set(a)},setColor:function(e,t){var a=hn.get();a=a.map((function(a,n){return a.id===e&&(a.color=t),a})),hn.set(a)},setQuery:function(e,t,a){var n=hn.get();n=n.map((function(n,i){if(n.id===e.id){var r=e.layers;r.map((function(e){return e.id===t&&(e.query.where=a),e}))}return n})),hn.set(n)}},yn=fn({},vn,{},bn,{},gn);function _n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Cn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(a),!0).forEach((function(t){Object(Ae["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Sn={get:function(){return ua.getters.tableData},set:function(e){ua.dispatch("SAVE_DATATABLE",e)}},Tn={buildTableData:function(e,t){for(var a=[],n=function(t){var n=e[t],i=n.fieldAliases,r=n.fieldAliases,o=Object.keys(r),s=[],c=[],l=["OBJECTID","Shape_Length","Shape_Area"];for(var u in o)l.includes(o[u])||(s.push(o[u]),c.push(o[u]));o=o.map((function(e,t){var a=e;for(var n in i)"function"!==typeof i[n]&&e===n&&(a=i[n]);return a})),c=c.map((function(e,t){return r[e]})),a.push({service:n.service,data:{totalCount:n.totalCount,tableName:n.service.name,tableHeaders:o,tableStackedHeaders:Object.keys(r),tableHeadersWithAlias:r,tableData:n.features,filterValues:[],target:i,checkedColumnsData:s,checkedColumns:c},paging:Ln.getDefaultPagingOptions()})},i=0;i<e.length;i++)n(i);var r=Ln.getTableData(),o=Ln.getTableActiveService();if(Pa.isBunch(t)&&Pa.isEqual(t,o))for(var s=function(e){var t=a[e],n=r.some((function(e){return e.service.id===t.service.id}));n?r=r.map((function(e){var a=t.service,n=t.data;return e.service.id===t.service.id&&(e.service=a,e.data=n),e})):r.push(t)},c=0;c<a.length;c++)s(c);else r=a;var l=r.map((function(e,t){return{id:e.service.id,name:e.service.name}}));En.setTableData(r),En.setTableTabs(l)},getTable:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){var a,n,i,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return En.setTableVisible(),En.setTableLoading(!0),e.next=4,Tn.getTableResponse(t);case 4:if(a=e.sent,n=Ln.getIsSumFilter(),i=Pa.isLayer(t),r=Pa.isLocalService(t),r&&(n&&i&&(En.setSumData(a.data.result),Kn.showSumResultModal()),Pa.isQueryExist(t)&&pn.refreshService(t)),o=[],Array.isArray(a.data)?o=a.data:(a.data["service"]=t,o=[a.data]),void 0===a.data.error){e.next=13;break}return e.abrupt("return");case 13:n||(En.setUnvisible(),Tn.buildTableData(o,t),En.setTableVisible()),En.setTableActiveService(t),En.setIsSumFilter(!1),En.setTableLoading(!1);case 17:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),getTableResponse:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){var a,n,i,r,o,s,c,l,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n={},i=ca.getToken(),r=Ln.getDefaultPagingOptions(),o=Ln.getTableActiveService(),s=Pa.isArcgisService(t),!s){e.next=12;break}return n=Cn({token:i,name:t.name,layer:t.id},t.query),e.next=9,oa.getTableData(n);case 9:a=e.sent,e.next=36;break;case 12:if(c=Pa.isBunch(t),!c){e.next=23;break}return l=Pa.isEqual(t,o),u=l?[{layerId:t.id,query:Cn({},t.query,{paging:r})}]:t.layers.map((function(e,t){return{layerId:e.id,query:Cn({},e.query,{paging:r})}})),n={layerQueries:u},e.next=19,oa.getIntersectLocalTableData(t.id,n);case 19:a=e.sent,a.data=a.data.map((function(e){return e.service=Sa.dynamicMapping(e.service),e})),e.next=36;break;case 23:if(n=Cn({layerId:t.id},t.query,{paging:r}),d=Ln.getIsSumFilter(),!d){e.next=33;break}return n.isSum=d,n.ArithmeticColumnName=Ln.getSumFilterColumn(),e.next=30,oa.getLocalArithmeticData(n);case 30:a=e.sent,e.next=36;break;case 33:return e.next=35,oa.getLocalTableData(n);case 35:a=e.sent;case 36:return e.abrupt("return",a);case 37:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},Ln={getTableData:function(){return ua.getters.tableData},getServiceData:function(e){var t=Ln.getTableData(),a=t.find((function(t){return t.service.id===e}));return a},getTableActiveService:function(){return ua.getters.tableActiveService},getDefaultPagingOptions:function(){return{page:1,limit:25,isBusy:!1}},getIsSumFilter:function(){return ua.getters.isSumFilter},getSumFilterColumn:function(){return ua.getters.sumFilterColumn},getTableVisibility:function(){return ua.getters.sumFilterColumn}},En={setTableData:function(e){ua.dispatch("SAVE_DATATABLE",e)},setTableActiveService:function(e){ua.dispatch("saveTableActiveService",e)},setTableTabs:function(e){ua.dispatch("SAVE_DATATABLE_TABS",e)},setTableVisible:function(){ua.dispatch("SAVE_DATATABLE_VISIBLE",!0)},setUnvisible:function(){ua.dispatch("SAVE_DATATABLE_VISIBLE",!1)},setTableLoading:function(e){ua.dispatch("SAVE_DATATABLE_LOADING",e)},setIsSumFilter:function(e){ua.dispatch("saveIsSumFilter",e)},setSumFilterColumn:function(e){ua.dispatch("saveSumFilterColumn",e)},setSumData:function(e){ua.dispatch("saveSumData",e)},setPaging:function(e,t){var a=Sn.get();a=a.map((function(a){return a.service.id===e&&(a.paging=t),a})),Sn.set(a)}},An=Cn({},Tn,{},Ln,{},En);function On(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function wn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?On(Object(a),!0).forEach((function(t){Object(Ae["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):On(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var In={selectService:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t,a){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a||pn.removeDrawPolygons(),n=An.getTableActiveService(),!a&&n&&Pa.isEqual(t,n)&&An.setUnvisible(),!Pa.isLayer(t)){e.next=12;break}if(!a||!Pa.isDynamicFromArcgis(t)){e.next=9;break}return e.next=7,In.getResponseDynamic(t);case 7:i=e.sent,t.layers=i.data.layers;case 9:Ja.setSelected(t,a),e.next=13;break;case 12:yn.setSelected(t,a);case 13:pn.resetSelectionLayer(),a?(pn.addService(t),Pa.isDynamicFromLocal(t)&&pn.buildSelectionLayer(t)):pn.deleteService(t);case 15:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),getResponseDynamic:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=null,!Pa.isDynamicFromArcgis(t)){e.next=5;break}return e.next=4,oa.getDynamicLayers({token:ca.getToken(),name:t.name});case 4:a=e.sent;case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),dynamicLayersReset:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t,a){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!Pa.isDynamicFromArcgis(t)){e.next=6;break}return e.next=3,Pa.isLayerColorEnabled(t);case 3:n=e.sent,i=Sa.recursiveLayerMapping(Ja.getDynamicLayerList(),function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:null!=a&&a.id==t.id&&void 0!==a.layers&&null!==a.layers&&(a.layers=a.layers.map((function(e,t){return wn({},e,{isColorEnabled:n})})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ja.setDynamicLayerList(i);case 6:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),selectSubService:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t,a,n,i){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=i.target.checked,o=Sa.recursiveLayerMapping(Ja.getDynamicLayerList(),function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(a){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:null!=a&&a.id==t.id&&(i=a.layers.find((function(e){return e.id==n})),i.isSelected=r);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ja.setDynamicLayerList(o),In.dynamicLayersReset(t,r),pn.refreshService(t);case 5:case"end":return e.stop()}}),e)})));function t(t,a,n,i){return e.apply(this,arguments)}return t}(),saveColor:function(e,t){var a=t.fillColor,n=t.borderColor,i=Pa.isLayer(e),r=Pa.isSublayer(e),o=Pa.isBunch(e),s={fill:a,border:n};if(i||r){e=r?e.parent:e;Ja.setColor(e,s,r)}else o&&yn.setColor(e.id,s);pn.refreshService(e)}},kn={onDraggableMoveCallback:function(e){switch(e){case vt.DYNAMIC_LAYER:var t=Ja.getDynamicLayerList();t.map((function(e,t){pn.setZIndex(e)})),Ja.setDynamicLayerList(t);break;case vt.BASE_LAYER:t=Ja.getBaseLayerList();t.map((function(e,t){pn.setZIndex(e)})),Ja.setBaseLayerList(t);break;case vt.BUNCH:t=yn.getBunchLayerList();t.map((function(e,t){pn.setZIndex(e)})),yn.setBunchLayerList(t);break}}},Dn={},jn={getZIndex:function(e){var t=0,a=0;return Pa.isLayer(e)?Pa.isDynamic(e)?(t=en.dynamicZIndex,a=jn.getOrderNumber(Ja.getDynamicLayerList(),e)):(t=en.basemapZIndex,a=jn.getOrderNumber(Ja.getBaseLayerList(),e)):(t=en.bunchZIndex,a=jn.getOrderNumber(yn.getBunchLayerList(),e)),t-a},getOrderNumber:function(e,t){var a=0,n=0;return Sa.recursiveLayerMapping(e,(function(e){a++,e.name==t.name&&(n=a)})),n}},Pn=wn({},In,{},jn,{},Dn,{},kn);function Mn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function xn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(a),!0).forEach((function(t){Object(Ae["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Mn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Rn={pickDrawType:function(e){console.log("pickDrawType -> type",e);var t=pn.getMap();Vn.setDrawType(e),t.removeInteraction(Bn.getDraw()),Vn.setColorPickStatus(!1),Vn.setMarkerStatus(!1),Vn.setRemoveStatus(!1),e!==_t.NONE&&Rn.addInteraction(e),Vn.addFeatureIdCounter(10),document.body.style.cursor="default"},buildGeometryFunction:function(e){var t=null;if(e!==_t.NONE)switch(e){case _t.SQUARE:t=Object(ie["b"])(4);break;case _t.BOX:t=Object(ie["a"])();break;case _t.CIRCLE:t=Object(ie["b"])(120);break}return t},deleteFeature:function(){Rn.pickDrawType(_t.NONE),Vn.setRemoveStatus(!0)},eyeDropper:function(){Rn.pickDrawType(_t.NONE),Kn.showColorPickerModal(),Vn.setColorPickStatus(!0)},resetFeatures:function(){Rn.pickDrawType(_t.NONE);for(var e=document.getElementsByClassName("maptooltip"),t=0;t<e.length;t++)e[t].setAttribute("style","display:none;");var a=pn.getDrawSource();pn.setDrawSource(a.clear())},exportData:function(){var e=pn.getDrawSource();pn.setDrawSource(e.clear());var t=e.getFeatures(),a=new ee["a"]({maxDepth:10,extractStyles:!0,featureProjection:"EPSG:3857"}).writeFeatures(t,{featureProjection:"EPSG:3857"}),n=new Blob([a],{type:"text/plain"}),i=document.createEvent("MouseEvents"),r=document.createElement("a");r.download="shapes.kml",r.href=window.URL.createObjectURL(n),r.dataset.downloadurl=["text/json",r.download,r.href].join(":"),i.initEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(i)},addInteraction:function(e){console.log("addInteraction -> type",e),Vn.setColorPickStatus(!1),Vn.setMarkerStatus(!1),Vn.setRemoveStatus(!1);var t=Rn.buildGeometryFunction(e);switch(e){case _t.SQUARE:e=_t.CIRCLE;break;case _t.BOX:e=_t.CIRCLE;break}var a={source:pn.getDrawSource(),type:e,freehandCondition:ne["i"]};t&&(a.geometryFunction=t);var n=new ie["c"](a);Vn.setDraw(n);var i,r=pn.getMap();r.addInteraction(n),pn.setMap(r),Rn.createMeasuremaptooltip(),Rn.createHelpmaptooltip(),pn.setSketch("adsadasdasdsads"),n.on("drawstart",(function(e){pn.setSketch(e.feature),console.log("addInteraction -> evt.feature",e.feature);var t=e.coordinate,a=pn.getSketch();console.log("addInteraction ->  mapController.getSketch()",pn.getSketch()),console.log("addInteraction -> sketch",a),i=a.getGeometry().on("change",(function(e){var a,n=e.target;n instanceof E["b"]?(a=Rn.formatArea(n),t=n.getInteriorPoint().getCoordinates()):n instanceof L["a"]?(a=Rn.formatLength(n),t=n.getLastCoordinate()):n instanceof A["a"]&&(a=Rn.formatCircleRadius(n),t=n.getLastCoordinate());var i=Bn.getMeasureMapTooltipElement(),r=Bn.getMeasureMapTooltip();try{i.innerHTML=a,r.setPosition(t)}catch(o){Rn.createMeasuremaptooltip(),i.innerHTML=a,r.setPosition(t)}}))}),this),n.on("drawend",(function(t){var a=Bn.getMeasureMapTooltipElement(),n=Bn.getMeasureMapTooltip();try{a.className="maptooltip maptooltip-static"+Bn.getFeatureIdCounter(),n.setOffset([0,-7]);var r=t.feature.getGeometry().getExtent();Vn.setBbox(r)}catch(t){Rn.createMeasuremaptooltip(),a.className="maptooltip maptooltip-static"+Bn.getFeatureIdCounter(),n.setOffset([0,-7])}pn.setSketch(null),a=null,Object(oe["b"])(i),t.feature.setProperties({id:Bn.getFeatureIdCounter(),name:""});var o=new R["default"]({fill:new M["a"]({color:"#00000000"}),stroke:new x["a"]({color:"#C672F5",width:2}),image:new P["a"]({radius:7,fill:new M["a"]({color:"#00000000"})})});"Point"!==e&&t.feature.setStyle(o),Vn.addFeatureIdCounter(10)}),this)},createHelpmaptooltip:function(){var e=Bn.getHelpMapTooltipElement();e&&(e.parentNode.removeChild(e),Vn.setHelpMapTooltipElement(e));var t=document.createElement("div");t.className="maptooltip hidden";var a=new S["a"]({element:t,offset:[15,0],positioning:"center-left"});Vn.setHelpMapTooltipElement(t),Vn.setHelpMapTooltip(a);var n=pn.getMap();n.addOverlay(a),pn.setMap(n)},createMeasuremaptooltip:function(){var e=Bn.getMeasureMapTooltipElement();e&&(e.parentNode.removeChild(e),Vn.setMeasureMapTooltipElement(e));var t=document.createElement("div");t.className="maptooltip maptooltip-measure";var a=new S["a"]({element:t,offset:[0,-15],positioning:"bottom-center"});Vn.setMeasureMapTooltipElement(t),Vn.setMeasureMapTooltip(a);var n=pn.getMap();n.addOverlay(a),pn.setMap(n)},pngExport:function(){var e=pn.getMap();e.once("rendercomplete",(function(e){var t=e.context.canvas;navigator.msSaveBlob?navigator.msSaveBlob(t.msToBlob(),"map.png"):t.toBlob((function(e){saveAs(e,"map.png")}))})),e.renderSync()},addGraticule:function(){if(Bn.getGraticuleVisibility()){var e=Bn.getGraticuleLayer();e.setMap(null),Vn.setGraticuleLayer(e),Vn.setGraticuleVisibility(!1)}else{var t=pn.getMap(),a=new ae["a"]({strokeStyle:new x["a"]({color:"rgba(255,120,0,0.9)",width:2,lineDash:[.5,4]}),showLabels:!0,map:t});Vn.setGraticuleLayer(a),Vn.setGraticuleVisibility(!0)}},addPlace:function(){Rn.pickDrawType(_t.NONE),Vn.setMarkerStatus(!0)},fullScreen:function(){window.innerWidth==screen.width&&window.innerHeight==screen.height?document.exitFullscreen():document.querySelector("body").requestFullscreen()},changeDetector:function(){Vn.setBbox([]),Rn.pickDrawType(_t.BOX),Vn.setDrawForChangeDetectionStatus(!0)},formatArea:function(e){var t,a=Object(re["a"])(e);return t=a>1e4?Math.round(a/1e6*100)/100+" km<sup>2</sup>":Math.round(100*a)/100+" m<sup>2</sup>",t},formatLength:function(e){var t,a=Object(re["c"])(e);return t=a>100?Math.round(a/1e3*100)/100+" km":Math.round(100*a)/100+" m",t},formatCircleRadius:function(e){var t,a=e.getRadius()*METERS_PER_UNIT["m"];return t=a>100?Math.round(a/1e3*100)/100+" km":Math.round(100*a)/100+" m",t}},Bn={getGraticuleVisibility:function(){return ua.getters.graticuleVisibility},getGraticuleLayer:function(){return ua.getters.graticuleLayer},getDraw:function(){return ua.getters.draw},getBbox:function(){return ua.getters.bbox},getColorPickStatus:function(){return ua.getters.isColorPick},getMarkerStatus:function(){return ua.getters.isMarker},getRemoveStatus:function(){return ua.getters.isRemove},getFeatureIdCounter:function(){return ua.getters.featureIdCounter},getDrawForChangeDetectionStatus:function(){return ua.getters.isDrawForChangeDetection},getMeasureMapTooltipElement:function(){return ua.getters.measuremaptooltipElement},getMeasureMapTooltip:function(){return ua.getters.measuremaptooltip},getHelpMapTooltipElement:function(){return ua.getters.helpmaptooltipElement},getHelpMapTooltip:function(){return ua.getters.helpmaptooltip}},Vn={setGraticuleVisibility:function(e){ua.dispatch("saveGraticuleVisibility",e)},setGraticuleLayer:function(e){ua.dispatch("saveGraticule",e)},setDrawForChangeDetectionStatus:function(e){ua.dispatch("saveDrawForChangeDetectionStatus",e)},setDraw:function(e){ua.dispatch("saveDraw",e)},setBbox:function(e){ua.dispatch("saveBbox",e)},setColorPickStatus:function(e){ua.dispatch("saveColorPickStatus",e)},setMarkerStatus:function(e){ua.dispatch("saveMarkerStatus",e)},setRemoveStatus:function(e){ua.dispatch("saveRemoveStatus",e)},setDrawType:function(e){ua.dispatch("saveDrawType",e)},setFeatureIdCounter:function(e){ua.dispatch("saveFeatureIdCounter",e)},addFeatureIdCounter:function(e){e+=Bn.getFeatureIdCounter(),Vn.setFeatureIdCounter(e)},setMeasureMapTooltipElement:function(e){ua.dispatch("saveMeasuremapTooltipElement",e)},setMeasureMapTooltip:function(e){ua.dispatch("saveMeasuremapTooltip",e)},setHelpMapTooltipElement:function(e){ua.dispatch("saveHelpmapTooltipElement",e)},setHelpMapTooltip:function(e){ua.dispatch("saveHelpmapTooltip",e)}},Fn=xn({},Rn,{},Bn,{},Vn);function Nn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Hn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Nn(Object(a),!0).forEach((function(t){Object(Ae["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Nn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var zn={getToolList:function(){return[{key:"mouse",label:"Mouse",image:"mouse.svg",click:function(){return Fn.pickDrawType(_t.NONE)}},{key:"addPoint",label:"Add point",image:"point.svg",click:Fn.addPlace},{key:"rectangle",label:"Rectangle",image:"rectangle.svg",click:function(){return Fn.pickDrawType(_t.BOX)}},{key:"square",label:"Square",image:"square.svg",click:function(){return Fn.pickDrawType(_t.SQUARE)}},{key:"circle",label:"Circle",image:"circle.svg",click:function(){return Fn.pickDrawType(_t.CIRCLE)}},{key:"polygon",label:"Polygon",image:"polygon.svg",click:function(){return Fn.pickDrawType(_t.POLYGON)}},{key:"line",label:"Line",image:"line.svg",click:function(){return Fn.pickDrawType(_t.LINESTRING)}},{key:"addPlace",label:"Add place",image:"place.svg",click:function(){}},{key:"reset",label:"Reset",image:"reset.svg",click:Fn.resetFeatures},{key:"delete",label:"Delete",image:"delete.svg",click:Fn.deleteFeature},{key:"pickColor",label:"Pick color",image:"color_picker.svg",click:Fn.eyeDropper},{key:"changeDetection",label:"Change detection",image:"world.svg",click:Fn.changeDetector},{key:"graticule",label:"Graticule",image:"grid.svg",click:Fn.addGraticule}]},getBottomMenu:function(){return[{key:"information",label:"Information",image:"information.svg",click:$n.setInformationModalVisible},{key:St.BASE_MAP_TYPE,label:"Layer Types",image:"hamburger.svg",click:function(){$n.setActiveMenuTab(St.BASE_MAP_TYPE)}},{key:"exportPNG",label:"Export PNG",image:"picture.svg",click:Fn.pngExport},{key:"exportGeojson",label:"Export GeoJSON",image:"file_download.svg",click:Fn.exportData},{key:"fullscreen",label:"Full screen",image:"fullscreen.svg",click:Fn.fullScreen}]},getTopMenu:function(){return[{key:St.PROFILE,label:"Profile",image:"user.svg",click:function(){$n.setActiveMenuTab(St.PROFILE)}},{key:St.TOOL,label:"Tools",image:"pencil.svg",click:function(){$n.setActiveMenuTab(St.TOOL)}},{key:St.DYNAMIC_LAYER,label:"Dynamic Layers",image:"layer.svg",click:function(){$n.setActiveMenuTab(St.DYNAMIC_LAYER)}},{key:St.BASE_LAYER,label:"Basemaps",image:"map.svg",click:function(){$n.setActiveMenuTab(St.BASE_LAYER)}}]},getActiveMenuTab:function(){return ua.getters.activeMenuTab}},$n={setActiveMenuTab:function(e){e===zn.getActiveMenuTab()&&(e=""),ua.dispatch("saveActiveMenuTab",e)},setInformationModalVisible:function(){ua.dispatch("saveInformationModalVisibility",!0)},setInformationModalUnvisible:function(){ua.dispatch("saveInformationModalVisibility",!1)}},Zn=Hn({},zn,{},$n);function Gn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Un(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Gn(Object(a),!0).forEach((function(t){Object(Ae["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Gn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Yn={showSumResultModal:function(){var e=Qn.getMoodal();e.sumResultModal.show()},showFilterModal:function(){var e=Qn.getMoodal();e.filterModal.show()},showColorPickerModal:function(){var e=Qn.getMoodal();e.colorPickerModal.show()}},Qn={getMoodal:function(){return ua.getters.moodal}},qn={setSumResultVisibility:function(e){ua.dispatch("saveSumResultModalVisibility",e)}},Kn=Un({},Yn,{},Qn,{},qn);function Wn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Xn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Wn(Object(a),!0).forEach((function(t){Object(Ae["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Wn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Jn={},ei={getFilterColumnValues:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t,a){var n,i,r,o,s,c,l,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("getFilterColumnValues -> id, column",a),n=An.getServiceData(t),console.log("getFilterColumnValues -> serviceData",n),i=n.service,r=[],o={id:t},!Pa.isLocalService(i)){e.next=14;break}return e.next=9,oa.getLayerColumnsDistinctData(o);case 9:s=e.sent,c=s.data.result,r=c[Object.keys(c).find((function(e){return e.toLowerCase()===a.toLowerCase()}))],e.next=24;break;case 14:l=Object.keys(n.tableHeadersWithAlias),u=0;case 16:if(!(u<l.length)){e.next=23;break}if(n.tableHeadersWithAlias[l[u]]!==a){e.next=20;break}return a=l[u],e.abrupt("break",23);case 20:u++,e.next=16;break;case 23:for(d=0;d<n.tableData.length;d++)r.includes(n.tableData[d].attributes[a])||r.push(n.tableData[d].attributes[a]);case 24:return e.abrupt("return",r);case 25:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}()},ti={},ai=Xn({},Jn,{},ei,{},ti);function ni(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ii(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ni(Object(a),!0).forEach((function(t){Object(Ae["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ni(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ri={name:"DataTable",components:{Multiselect:ce.a,Resizable:Fa.a,CustomModal:Ga},data:function(){return{currentTabId:null,toggler:null,isColumnPopupShowing:!1,selectedData:[],resize:{handlers:["t"],left:0,top:window.innerHeight-200,height:window.innerHeight,width:window.innerWidth,maxW:1e4,maxH:window.innerHeight,minW:150,minH:200,fit:!0,event:""}}},mounted:function(){this.scrollHandler()},created:function(){window.addEventListener("resize",this.update)},destroyed:function(){window.removeEventListener("resize",this.update)},watch:{isVisible:{handler:function(){this.resetScroll(),this.resetPaging()},deep:!0,immediate:!1},activeTabId:{handler:function(e){this.currentTabId=Number(e)},deep:!0,immediate:!1}},methods:{resetScroll:function(){this.$refs.dataTableContent&&this.$refs.dataTableContent.scrollTo(0,0)},isEndOfData:function(){return this.paging.page*this.paging.limit>this.totalCount},scrollHandler:function(){var e=this,t=document.getElementById("dataTable");t.addEventListener("scroll",(function(a){if(t.scrollTop+t.clientHeight>=t.scrollHeight&&!e.paging.isBusy&&!e.isEndOfData()&&Pa.isLocalService(e.activeTableService)){var n=e.paging.page;n+=1,e.isPagingBusy(!0),An.setTableLoading(!0),e.paging=ii({},e.paging,{page:n++}),e.getDatas(),e.isPagingBusy(!1),An.setTableLoading(!1)}}))},isPagingBusy:function(e){this.paging=ii({},this.paging,{isBusy:e})},getDatas:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=ii({layerId:this.activeTableService.id},this.activeTableService.query,{paging:this.paging}),e.next=3,oa.getLocalTableData(t);case 3:a=e.sent,n=a.data.features,this.activeTableData.tableData=[].concat(Object(Ee["a"])(this.activeTableData.tableData),Object(Ee["a"])(n));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),resetPaging:function(){this.paging={isBusy:!1,page:1,limit:25}},toggleIsVisible:function(){this.$store.dispatch("SAVE_DATATABLE_VISIBLE",!this.isVisible)},togglePopup:function(e){this.isColumnPopupShowing=!this.isColumnPopupShowing},showFilterModal:function(){Kn.showFilterModalModal()},showSimpleFilterModal:function(){this.$moodal.dataModal.show()},fitToPolygon:function(e){this.selectedData=e,this.$emit("mapSetCenter",e)},showDataModal:function(e){this.selectedData=e,this.$moodal.dataModal.show()},showColumnsChange:function(){this.toggler.showColumnsChange()},fetchFullData:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,oa.getLocalTableData(ii({layerId:this.activeTableService.id},this.activeTableService.query,{isGeometryDataExist:!1}));case 2:return t=e.sent,a=t.data.features.map((function(e,t){return e.attributes})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),featuresToExcel:function(){for(var e=[],t=0;t<this.tableData.length;t++)e[t]=this.tableData[t].attributes;return e},checkedColumnsToExcel:function(){var e={};for(var t in this.tableHeaders)this.checkedColumns.includes(this.tableHeaders[t])&&(e[this.tableHeaders[t]]=this.tableStackedHeaders[t]);return e},selectColumns:function(e,t,a){if(a.target.checked){this.checkedColumns.push(e);for(var n=Object.keys(this.tableHeadersWithAlias),i=e,r=0;r<n.length;r++)if(this.tableHeadersWithAlias[n[r]]===e){i=n[r];break}this.checkedColumnsData.push(i)}else{var o=this.checkedColumnsData.findIndex((function(t){return t.toLowerCase()===e.toLowerCase()})),s=this.checkedColumns.findIndex((function(t){return t.toLowerCase()===e.toLowerCase()}));this.checkedColumnsData.splice(o,1),this.checkedColumns.splice(s,1)}},resizeHandler:function(e){this.resize.width=e.width,this.resize.height=e.height,this.resize.left=e.left,this.resize.top=e.top,this.resize.event=e.eventName,"mount"===e.eventName&&(this.resize.height=200)},update:function(){this.resize.top=window.innerHeight-200,this.resize.height=200,this.resize.width=window.innerWidth,this.resize.maxH=window.innerHeight,this.$forceUpdate()},setActiveTab:function(e){this.activeTabId=e}},computed:{isVisible:function(){return this.$store.state.dataTable.isVisible},loading:function(){return this.$store.getters.dataTableLoading},totalCount:function(){return this.$store.state.dataTable.totalCount},paging:{get:function(){var e=An.getServiceData(this.currentTabId),t=e.paging;return t},set:function(e){An.setPaging(this.currentTabId,e)}},serviceInfo:function(){return this.activeTableData.serviceInfo},tableName:function(){return this.activeTableData.tableName},tableHeaders:function(){return this.activeTableData.tableHeaders},tableStackedHeaders:{get:function(){return this.activeTableData.tableStackedHeaders},set:function(e){this.$store.dispatch("SAVE_DATATABLE_CHECKED_COLUMNS",e)}},tableHeadersWithAlias:function(){return this.activeTableData.tableHeadersWithAlias},tableData:{get:function(){return this.$store.getters.tableData}},target:function(){return this.activeTableData.target},checkedColumnsData:{get:function(){return this.activeTableData.checkedColumnsData},set:function(e){this.$store.dispatch("SAVE_DATATABLE_CHECKED_COLUMNS_DATA",{id:this.currentTabId,value:e})}},tabs:function(){return this.$store.state.dataTable.tabs},checkedColumns:{get:function(){return this.activeTableData.checkedColumns},set:function(e){this.$store.dispatch("SAVE_DATATABLE_CHECKED_COLUMNS",{id:this.currentTabId,value:e})}},lastBBOXOfShape:function(){return this.activeTableData.lastBBOXOfShape},activeTabId:{get:function(){return this.$store.state.dataTable.activeTabId},set:function(e){this.$store.dispatch("SAVE_DATATABLE_ACTIVE_TAB_ID",e)}},activeTableData:function(){return this.$store.getters.activeTableData},activeTableService:function(){var e=this,t=this.tableData.find((function(t){return t.service.id===e.currentTabId}));return t?t.service:[]}},filters:{checkEmpty:function(e){return"number"!==typeof e?0:e}}},oi=ri,si=(a("bf17"),Object(fe["a"])(oi,Te,Le,!1,null,null,null)),ci=si.exports,li=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"Sidebar"},[n("div",{staticClass:"menu"},[n("div",{staticClass:"menu--top"},e._l(e.topMenu,(function(t){return n("div",{key:t.key,staticClass:"menu__item"},[n("button",{staticClass:"menu__item__button",attrs:{title:t.label},on:{click:t.click}},[n("img",{class:{active:e.activeMenu===t.key},attrs:{src:a("0075")("./"+t.image),alt:""}})])])})),0),n("div",{staticClass:"menu--bottom"},e._l(e.bottomMenu,(function(t){return n("div",{key:t.key,staticClass:"menu__item"},[n("button",{staticClass:"menu__item__button",attrs:{title:t.label},on:{click:t.click}},[n("img",{class:{active:e.activeMenu===t.key},attrs:{src:a("0075")("./"+t.image),alt:""}})])])})),0)]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isProfileTabActive,expression:"isProfileTabActive"}],staticClass:"user-profile"},[n("div",{staticClass:"user__name"},[e._v(e._s(e.userName))]),n("div",{staticClass:"logout",on:{click:e.logout}},[n("i",{staticClass:"fas fa-power-off",attrs:{title:"Log out"}})])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isBaseMapTypeTabActive,expression:"isBaseMapTypeTabActive"}],staticClass:"layer-types"},e._l(e.baseMaps,(function(t,a){return n("div",{key:a,staticClass:"layer-types__item",class:{active:e.activeLayerType===a},on:{click:function(t){return e.setBaseLayout(a)}}},[e._v("\n      "+e._s(e.capitalize(a))+"\n    ")])})),0),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isDynamicLayerTabActive,expression:"isDynamicLayerTabActive"}],staticClass:"list layers"},[n("div",{staticClass:"list__header"},[e._v("Dynamic layers")]),n("div",{staticClass:"list__tabs"},[n("div",{staticClass:"tab",class:{"tab--active":"dynamicTab"===e.dynamicActiveTab},on:{click:function(t){return e.setDynamicActiveTab("dynamicTab")}}},[e._v("\n        Standard\n      ")]),n("div",{staticClass:"tab",class:{"tab--active":"bunchTab"===e.dynamicActiveTab},on:{click:function(t){return e.setDynamicActiveTab("bunchTab")}}},[e._v("\n        Customized\n      ")])]),"dynamicTab"===e.dynamicActiveTab?n("ul",{staticClass:"list__content list__content--parent custom-scrollbar"},[n("transition",{attrs:{name:"slide-fade"}},[n("Draggable",{key:"dynamicLayer",attrs:{"v-bind":function(){return e.dragOptions("dynamicDragger")}},on:{start:function(t){e.isDragging=!0},end:function(){e.onDraggableMoveCallback(e.serviceTypeEnum.DYNAMIC_LAYER)}},model:{value:e.dynamicLayersList,callback:function(t){e.dynamicLayersList=t},expression:"dynamicLayersList"}},[n("transition-group",{attrs:{type:"transition",name:"flip-list"}},e._l(e.dynamicLayersList,(function(e,t){return n("LayerTree",{key:e.name+t,attrs:{data:e}})})),1)],1)],1)],1):e._e(),n("ul",{directives:[{name:"show",rawName:"v-show",value:"bunchTab"===e.dynamicActiveTab,expression:"dynamicActiveTab === 'bunchTab'"}],staticClass:"list__content list__content--parent custom-scrollbar"},[n("transition",{attrs:{name:"slide-fade"}},[n("Draggable",{key:"dynamicLayer",attrs:{"v-bind":function(){return e.dragOptions("bunchDragger")}},on:{start:function(t){e.isDragging=!0},end:function(){e.onDraggableMoveCallback(e.serviceTypeEnum.BUNCH)}},model:{value:e.bunchLayerList,callback:function(t){e.bunchLayerList=t},expression:"bunchLayerList"}},[n("transition-group",{attrs:{type:"transition",name:"flip-list"}},e._l(e.bunchLayerList,(function(e,t){return n("LayerTree",{key:e.name+t,attrs:{data:e}})})),1)],1)],1)],1),n("button",{directives:[{name:"show",rawName:"v-show",value:"bunchTab"===e.dynamicActiveTab,expression:"dynamicActiveTab === 'bunchTab'"}],staticClass:"btn btn--add-new",on:{click:e.openComputedLayerModal}},[n("i",{staticClass:"fas fa-plus"}),e._v("  Add\n    ")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isBaseLayerTabActive,expression:"isBaseLayerTabActive"}],staticClass:"list layers"},[n("div",{staticClass:"list__header"},[e._v("Basemaps")]),n("ul",{staticClass:"list__content list__content--parent custom-scrollbar"},[n("transition",{attrs:{name:"slide-fade"}},[n("Draggable",{key:"baseLayers",attrs:{"v-bind":function(){return e.dragOptions("baseDragger")}},on:{start:function(t){e.isDragging=!0},end:function(){e.onDraggableMoveCallback(e.serviceTypeEnum.BASE_LAYER)}},model:{value:e.baselayerList,callback:function(t){e.baselayerList=t},expression:"baselayerList"}},[n("transition-group",{attrs:{type:"transition",name:"flip-list"}},e._l(e.baselayerList,(function(e,t){return n("LayerTree",{key:e.name+t,attrs:{data:e}})})),1)],1)],1)],1)]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isToolTabActive,expression:"isToolTabActive"}],staticClass:"list tools"},[n("div",{staticClass:"list__header"},[e._v("Tools")]),n("ul",{staticClass:"list__content list__content--parent custom-scrollbar"},e._l(e.toolList,(function(t){return n("li",{key:t.key,staticClass:"list__item"},[n("div",{staticClass:"item__header",on:{click:t.click}},[n("span",{staticClass:"title"},[n("img",{staticClass:"pre",attrs:{src:a("0075")("./"+t.image),alt:""}}),e._v("\n            "+e._s(t.label)+"\n          ")])])])})),0)])])},ui=[],di=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"list__item"},[n("span",{staticClass:"item__header",style:"padding-left: "+e.paddingLeft},[n("span",{staticClass:"title"},[e.isCategory?n("i",{staticClass:"far fa-folder pre"}):n("ToggleSwitch",{staticClass:"pre",model:{value:e.switchModel,callback:function(t){e.switchModel=t},expression:"switchModel"}}),e._v("\n      "+e._s(e.data.name)+"\n    ")],1),e.caretIconsVisibility?n("span",[n("i",{directives:[{name:"show",rawName:"v-show",value:e.subListVisibility,expression:"subListVisibility"}],staticClass:"fas fa-caret-down",on:{click:e.toggleSubList}}),n("i",{directives:[{name:"show",rawName:"v-show",value:!e.subListVisibility,expression:"!subListVisibility"}],staticClass:"fas fa-caret-left",on:{click:e.toggleSubList}})]):e._e(),e.operationsVisibility?n("span",{staticClass:"icons"},[e.colorIconVisibility?n("img",{attrs:{src:a("9f3c"),alt:""},on:{click:e.toggleColorPicker}}):e._e(),e.tableIconVisibility?n("img",{attrs:{src:a("a93e"),alt:""},on:{click:function(t){return e.getTableData(e.data)}}}):e._e(),e.deleteIconVisibility?n("img",{attrs:{src:a("a91f"),alt:""},on:{click:e.deleteBunch}}):e._e()]):e._e()]),e.colorPickerVisibility?n("LayerColorPicker",{on:{onSave:e.onColorPickerSave,onClose:e.colorPickerOnClose}}):e._e(),e.data.layers&&e.subListVisibility?n("ul",{staticClass:"list__content"},[e._l(e.data.children,(function(t,a){return n("LayerTree",{key:t.name+a,attrs:{data:t,parent:e.data,loop:e.loop+1}})})),e._l(e.data.layers,(function(t,a){return n("LayerTree",{key:t.name+a,attrs:{data:t,parent:e.data,loop:e.loop+1}})}))],2):e._e()],1)},pi=[],mi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"toggle-switch"},[a("input",{attrs:{type:"checkbox"},domProps:{checked:e.value},on:{change:e.onChange}}),a("span",{staticClass:"slider"})])},fi=[],hi={name:"ToggleSwitch",props:{value:{type:Boolean}},methods:{onChange:function(e){this.$emit("input",e)}}},bi=hi,gi=(a("16f4"),Object(fe["a"])(bi,mi,fi,!1,null,null,null)),vi=gi.exports,yi={name:"LayerTree",components:{ToggleSwitch:vi,LayerColorPicker:be},props:{data:{type:Object},parent:{type:Object},loop:{type:Number,default:1}},data:function(){return{subListVisibility:!1,layerIsSelected:!1}},computed:{switchModel:{get:function(){return Pa.isLayer(this.data)?this.data.isSelected:this.data.defaultVisibility},set:function(e){!1===e.target.checked&&(this.subListVisibility=!1),this.layerPicker(e)}},paddingLeft:function(){return 16*this.loop+"px"},isCategory:function(){return Pa.isCategory(this.data)},caretIconsVisibility:function(){return this.isCategory||Pa.isLayer(this.data)&&Pa.isDynamicFromArcgis(this.data)&&this.data.isSelected},tableIconVisibility:function(){return this.data.isSelected&&(Pa.isSublayer(this.data)||Pa.isBunch(this.data)||Pa.isLayer(this.data)&&Pa.isDynamicFromLocal(this.data))},colorIconVisibility:function(){return this.data.isSelected&&this.data.isColorEnabled&&(Pa.isSublayer(this.data)||Pa.isBunch(this.data)||Pa.isLayer(this.data)&&Pa.isDynamicFromLocal(this.data))},deleteIconVisibility:function(){return this.data.isColorEnabled&&Pa.isBunch(this.data)},operationsVisibility:function(){return this.tableIconVisibility||this.colorIconVisibility||this.deleteIconVisibility},colorPickerVisibility:function(){return this.data.isSelected&&this.activeColorPickerId===this.getLayerId()},activeColorPickerId:{get:function(){return this.$store.getters.activeColorPickerId},set:function(e){this.$store.dispatch("SAVE_ACTIVE_COLOR_PICKER_ID",e)}}},methods:{toggleSubList:function(){this.subListVisibility=!this.subListVisibility,this.subListVisibility&&Pn.dynamicLayersReset(this.data,this.subListVisibility)},onColorPickerSave:function(e){Pn.saveColor(this.data,e)},colorPickerOnClose:function(){this.activeColorPickerId=null},layerPicker:function(e){var t=e.target.checked;Pa.isSublayer(this.data)?Pn.selectSubLayer(this.parent,this.parent.order,this.data.id,t):(Pn.selectService(this.data,t),Pn.dynamicLayersReset(this.data,t))},getTableData:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Pa.isSublayer(t)?t.parent:t,e.next=3,An.getTable(a);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),getLayerId:function(){var e=0;return Pa.isSublayer(this.data)?e=this.data.uid:Pa.isLayer(this.data)&&Pa.isDynamicFromLocal(this.data)&&(e=this.data.id),e},toggleColorPicker:function(){this.activeColorPickerId===this.getLayerId()?this.activeColorPickerId=null:this.activeColorPickerId=this.getLayerId()},deleteBunch:function(){var e=this;ta.remove(this.data.id).then((function(t){yn.remove(e.data.id),pn.deleteService(e.data)}))}}},_i=yi,Ci=Object(fe["a"])(_i,di,pi,!1,null,null,null),Si=Ci.exports,Ti=a("310e"),Li=a.n(Ti),Ei={name:"Sidebar",components:{LayerTree:Si,Draggable:Li.a},data:function(){return{serviceTypeEnum:vt,activeMenu:"",activeLayerType:"gray",layerTypesVisible:!1,isDragging:!1,dynamicActiveTab:"dynamicTab",baseMaps:[]}},mounted:function(){this.baseMaps=pn.getBaseMaps()},computed:{userName:function(){return localStorage.getItem("username")},isProfileTabActive:function(){return this.activeMenuTab===St.PROFILE},isToolTabActive:function(){return this.activeMenuTab===St.TOOL},isDynamicLayerTabActive:function(){return this.activeMenuTab===St.DYNAMIC_LAYER},isBaseLayerTabActive:function(){return this.activeMenuTab===St.BASE_LAYER},isBaseMapTypeTabActive:function(){return this.activeMenuTab===St.BASE_MAP_TYPE},activeMenuTab:function(){return Zn.getActiveMenuTab()},topMenu:function(){return Zn.getTopMenu()},bottomMenu:function(){return Zn.getBottomMenu()},toolList:function(){return Zn.getToolList()},dragOptions:function(e){return{animation:0,group:"baseDragger",disabled:!1,ghostClass:"ghost"}},bunchLayerList:{get:function(){return this.$store.getters.bunchLayerList},set:function(e){this.$store.dispatch("saveBuncLayerList",e)}},dynamicLayersList:{get:function(){return this.$store.getters.dynamicLayerList},set:function(e){this.$store.dispatch("saveDynamicLayerList",e)}},baselayerList:{get:function(){return this.$store.getters.baseLayerList},set:function(e){this.$store.dispatch("saveBaseLayerList",e)}}},methods:{logout:function(){localStorage.removeItem("token"),localStorage.removeItem("username"),this.$router.push("/login")},onDraggableMoveCallback:function(e){Pn.onDraggableMoveCallback(e)},setBaseLayout:function(e){this.activeLayerType=e,pn.setBaseLayout(e)},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},setDynamicActiveTab:function(e){this.dynamicActiveTab=e},openComputedLayerModal:function(){this.$moodal.computedLayerModal.show()}}},Ai=Ei,Oi=(a("3e33"),Object(fe["a"])(Ai,li,ui,!1,null,null,null)),wi=Oi.exports,Ii=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",{staticClass:"centerize margin-bottom-1halfrem margin-top-halfrem"},[e._v("\n    Report\n  ")]),a("table",{staticClass:"table popupTable"},[e._m(0),a("tbody",{staticClass:"popupTableBody"},e._l(Object.keys(e.result),(function(t){return a("tr",{key:t,staticClass:"centerize"},[a("td",{staticClass:"paddingLeft"},[e._v("\n          "+e._s(t)+"\n        ")]),a("td",{staticClass:"paddingRight"},[e._v("\n          "+e._s(e.arithmeticDataResult[t])+"\n        ")])])})),0)])])},ki=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",{staticClass:"fields centerize"},[a("th",{staticClass:"paddingLeft"},[e._v("Field")]),a("th",{staticClass:"paddingRight"},[e._v("Value")])])])}],Di={name:"Report",props:{result:{type:Object}}},ji=Di,Pi=Object(fe["a"])(ji,Ii,ki,!1,null,null,null),Mi=Pi.exports,xi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"map-controls",attrs:{id:"map-controls"}},[n("div",{staticClass:"search"},[e._m(0),n("div",{staticClass:"search__select"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchInputValue,expression:"searchInputValue"}],staticClass:"search__input",class:{"search__input--expanded":e.searchExpanded},attrs:{type:"text",placeholder:"Search"},domProps:{value:e.searchInputValue},on:{input:function(t){t.target.composing||(e.searchInputValue=t.target.value)}}}),n("div",{staticClass:"search__results custom-scrollbar"},[n("ul",e._l(e.citiesToShow,(function(t,a){return n("li",{key:a,on:{click:function(a){return e.onCitySelect(t)}}},[e._v("\n                        "+e._s(t.city)+"\n                    ")])})),0)])]),n("button",{staticClass:"control__button search__button",on:{click:function(t){e.searchExpanded=!e.searchExpanded}}},[n("img",{attrs:{src:a("f919"),alt:"Home"}})])]),n("div",{staticClass:"control__button--group"},[n("button",{staticClass:"control__button",on:{click:e.zoomIn}},[n("img",{attrs:{src:a("6cf9"),alt:"Home"}})]),n("button",{staticClass:"control__button",on:{click:e.zoomOut}},[n("img",{attrs:{src:a("f11b"),alt:"Home"}})])]),n("div",{staticClass:"control__button--group"},[n("button",{staticClass:"control__button",on:{click:e.zoomToCenter}},[n("img",{attrs:{src:a("7936"),alt:"Home"}})]),n("button",{staticClass:"control__button",attrs:{disabled:!e.previousHistoryEvent},on:{click:e.historyBack}},[n("img",{attrs:{src:a("cee4"),alt:"Back"}})]),n("button",{staticClass:"control__button",attrs:{disabled:!e.nextHistoryEvent},on:{click:e.historyNext}},[n("img",{attrs:{src:a("adc4"),alt:"Next"}})])])])},Ri=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search__logo"},[n("img",{attrs:{src:a("293c"),alt:"Azercosmos logo"}})])}],Bi=(a("55dd"),a("3b25")),Vi={name:"MapControls",props:{map:{type:Object},mapHelpers:{type:Object},nextHistoryEvent:{},previousHistoryEvent:{}},data:function(){return{searchExpanded:!1,cities:Bi,searchInputValue:""}},methods:{onCitySelect:function(e){this.map.getView().setCenter(Object(q["fromLonLat"])([parseFloat(e.lng),parseFloat(e.lat)])),this.map.getView().setZoom(11),this.searchInputValue=e.city},zoomIn:function(){this.map.getView().setZoom(this.map.getView().getZoom()+1)},zoomOut:function(){this.map.getView().setZoom(this.map.getView().getZoom()-1)},zoomToCenter:function(){this.map.getView().setCenter(Object(q["fromLonLat"])([47.82858,40.3598414])),this.map.getView().setZoom(8),this.searchInputValue=""},historyBack:function(){this.mapHelpers.historyBack(this)},historyNext:function(){this.mapHelpers.historyNext(this)}},computed:{citiesToShow:function(){var e=this;return this.cities.filter((function(t){return t.city.toLowerCase().includes(e.searchInputValue.toLowerCase())})).sort((function(e,t){return e.city>t.city?1:e.city<t.city?-1:0}))}}},Fi=Vi,Ni=(a("f035"),Object(fe["a"])(Fi,xi,Ri,!1,null,null,null)),Hi=Ni.exports,zi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],staticClass:"modal overlay",attrs:{id:"infoModal",tabindex:"-1",role:"dialog","aria-labelledby":"infoModalLabel","aria-hidden":"true"},on:{click:function(t){return t.target!==t.currentTarget?null:e.$emit("close")}}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("ul",{staticClass:"nav nav-tabs"},[e._l(e.tabs,(function(t){return a("li",{key:t.key,staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:t.key===e.activeTab},attrs:{href:"#"},on:{click:function(a){return e.changeTab(t.key)}}},[e._v(e._s(t.text))])])})),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(t){return e.$emit("close")}}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])],2)]),e.isOpen?a("div",{staticClass:"modal-body"},["about"===e.activeTab?a("About"):e._e(),"faq"===e.activeTab?a("FAQ"):e._e(),"releaseNotes"===e.activeTab?a("ReleaseNotes"):e._e(),"contact"===e.activeTab?a("Contact"):e._e(),"forum"===e.activeTab?a("Forum"):e._e()],1):e._e()])])])])},$i=[],Zi=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Gi=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"about"},[a("h3",[e._v("What is WebGIS?")]),a("p",[e._v("WebGIS is an online platform that ensures safety of sharing of satellite imagery with clients of Azercosmos and provides them with a source for independent processing of the images online.")])])}],Ui={name:"About"},Yi=Ui,Qi=(a("6994"),Object(fe["a"])(Yi,Zi,Gi,!1,null,null,null)),qi=Qi.exports,Ki=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.loading?a("Loader"):e._e(),a("div",{staticClass:"accordion"},e._l(e.questions,(function(t){return a("div",{key:t.id,staticClass:"card"},[a("div",{staticClass:"card-header"},[a("h5",{staticClass:"mb-0"},[a("button",{staticClass:"btn btn-link",class:{collapsed:e.activeQuestionIds!==t.id},on:{click:function(a){return e.toggleAccordion(t.id)}}},[e._v("\n                        "+e._s(t.question)+"\n                    ")])])]),a("transition",{attrs:{name:"collapse",delay:"0"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.activeQuestionIds.includes(t.id),expression:"activeQuestionIds.includes(question.id)"}],staticClass:"collapse-body"},[a("div",{staticClass:"card-body"},[e._v(e._s(t.answer))])])])],1)})),0)],1)},Wi=[],Xi={getFAQ:function(){return Wt.get(Gt+"/api/faq")},getReleaseNotes:function(){return Wt.get(Gt+"/api/releasenote")},sendMessage:function(e){return Wt.post(Gt+"/api/mail/contact-us",e)}},Ji=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},er=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loader"},[n("img",{attrs:{src:a("4045"),alt:""}})])}],tr={name:"Loader"},ar=tr,nr=(a("9b72"),Object(fe["a"])(ar,Ji,er,!1,null,null,null)),ir=nr.exports,rr={name:"FAQ",components:{Loader:ir},data:function(){return{activeQuestionIds:[],loading:!1}},methods:{getFAQ:function(){var e=this;this.loading=!0,Xi.getFAQ().then((function(t){t.data&&e.$store.commit("SET_FAQ_DATA",t.data),e.loading=!1})).catch((function(t){e.loading=!1}))},toggleAccordion:function(e){if(this.activeQuestionIds.includes(e)){var t=this.activeQuestionIds.findIndex((function(t){return t===e}));this.activeQuestionIds.splice(t,1)}else this.activeQuestionIds.push(e)},labelClick:function(e){!0===e.target.checked&&document.querySelectorAll(".toggle").forEach((function(t){t.getAttribute("data-index")!==e.target.getAttribute("data-index")&&(t.checked=!1)}))}},mounted:function(){this.questions.length||this.getFAQ()},computed:{questions:function(){return this.$store.state.information.faq.data}}},or=rr,sr=(a("6606"),Object(fe["a"])(or,Ki,Wi,!1,null,null,null)),cr=sr.exports,lr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.loading?a("Loader"):e._e(),e._l(e.notes,(function(t){return a("div",{key:t.id,staticClass:"release-note"},[a("div",{staticClass:"date"},[a("b",[e._v(e._s(e.formatDate(t.dateCreated)))])]),a("p",{staticClass:"content"},[e._v(e._s(t.note))])])}))],2)},ur=[],dr={name:"ReleaseNotes",components:{Loader:ir},data:function(){return{loading:!1}},methods:{getReleaseNotes:function(){var e=this;this.loading=!0,Xi.getReleaseNotes().then((function(t){t.data&&(e.releaseNotesData=t.data),e.loading=!1})).catch((function(t){e.loading=!1}))},formatDate:function(e){return La()(e).format("DD MMMM YYYY")}},mounted:function(){this.notes.length||this.getReleaseNotes()},computed:{notes:function(){return this.$store.state.information.releaseNotes.data}}},pr=dr,mr=(a("6092"),Object(fe["a"])(pr,lr,ur,!1,null,null,null)),fr=mr.exports,hr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("transition",{attrs:{name:"collapse"}},[e.messageSent?a("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[e._v("Your message has been sent")]):e._e()]),a("form",{staticClass:"contact-block"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"subject"}},[e._v("Subject")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.subject,expression:"subject"}],staticClass:"form-control",class:{"is-invalid":e.subjectIsInvalid},attrs:{type:"text",id:"subject",placeholder:"Subject",required:""},domProps:{value:e.subject},on:{input:function(t){t.target.composing||(e.subject=t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"content"}},[e._v("Content")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],staticClass:"form-control",class:{"is-invalid":e.messageIsInvalid},attrs:{id:"content",rows:"3",placeholder:"Content",required:""},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}})]),a("button",{staticClass:"btn btn-primary submit-btn",attrs:{type:"submit",disabled:e.loading},on:{click:function(t){return t.preventDefault(),e.sendMessage(t)}}},[e._v("\n            Submit\n        ")])])],1)},br=[],gr={name:"Contact",data:function(){return{subject:null,message:null,loading:!1,messageSent:!1}},methods:{sendMessage:function(){var e=this;this.loading=!0;var t={subject:this.subject.trim(),message:this.message.trim()};Xi.sendMessage(t).then((function(t){200===t.status&&(e.subject=null,e.message=null,e.messageSent=!0,setTimeout((function(){e.messageSent=!1}),5e3)),e.loading=!1})).catch((function(t){e.loading=!1}))}},computed:{subjectIsInvalid:function(){return null!==this.subject&&""===this.subject.trim()},messageIsInvalid:function(){return null!==this.message&&""===this.message.trim()}}},vr=gr,yr=(a("6511"),Object(fe["a"])(vr,hr,br,!1,null,null,null)),_r=yr.exports,Cr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"Forum"}},["list"===e.activeBlock?a("IssueList",{on:{openIssue:e.openIssue,newIssue:function(t){e.activeBlock="newIssue"}}}):e._e(),"detailed"===e.activeBlock?a("IssueDetailed",{attrs:{openIssueId:e.openIssueId},on:{back:function(t){e.activeBlock="list"}}}):e._e(),"newIssue"===e.activeBlock?a("NewIssue",{on:{back:function(t){e.activeBlock="list"},openIssue:e.openIssue}}):e._e()],1)},Sr=[],Tr={getCategories:function(){return Wt.get(Gt+"/api/forum/Category")},getIssues:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Wt.get(Gt+"/api/forum/Post/Statuses/"+e)},getIssueById:function(e){return Wt.get(Gt+"/api/forum/Post/"+e)},getIssueCount:function(){return Wt.get(Gt+"/api/forum/Post/Counts")},insertIssue:function(e){return Wt.post(Gt+"/api/forum/Post",e)},deleteIssue:function(e){return Wt.delete(Gt+"/api/forum/Post/"+e)},insertComment:function(e){return Wt.post(Gt+"/api/forum/Comment",e)},deleteComment:function(e){return Wt.delete(Gt+"/api/forum/Comment/"+e)},closeIssue:function(e){return Wt.put(Gt+"/api/forum/Post/".concat(e,"/Close"))}},Lr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"issue-list"},[a("div",{staticClass:"issue__action-bar"},[a("div",{staticClass:"action-bar__fields"},[a("div",{staticClass:"btn-group",attrs:{role:"group"}},[a("button",{staticClass:"btn",class:1===e.activeTab?"btn-primary":"btn-light",attrs:{type:"button"},on:{click:function(t){return e.changeActiveTab(1)}}},[a("i",{staticClass:"fas fa-exclamation-circle issue-icon issue-icon--open"}),e._v("\n          "+e._s(e.issueCount.open)+" Open issues\n        ")]),a("button",{staticClass:"btn",class:2===e.activeTab?"btn-primary":"btn-light",attrs:{type:"button"},on:{click:function(t){return e.changeActiveTab(2)}}},[a("i",{staticClass:"far fa-check-circle issue-icon issue-icon--closed"}),e._v("\n          "+e._s(e.issueCount.closed)+" Closed issues\n        ")])]),a("select",{staticClass:"form-control category",attrs:{placeholder:"Filter by category"},on:{change:e.handleFilter}},[a("option",{domProps:{value:0,selected:0===e.activeCategoryId}},[e._v("All")]),e._l(e.categories,(function(t){return a("option",{key:t.id,domProps:{value:t.id,selected:e.activeCategoryId===t.id}},[e._v(e._s(t.name))])}))],2)]),a("div",[a("button",{staticClass:"btn btn-primary new-issue",attrs:{type:"button"},on:{click:function(t){return e.$emit("newIssue")}}},[e._v("\n        Create issue\n      ")])])]),e.loading?a("Loader"):e._e(),e.activeIssueList.length?a("div",{staticClass:"card issues-card"},[a("ul",{staticClass:"list-group list-group-flush"},e._l(e.activeIssueList,(function(t){return a("li",{key:t.id,staticClass:"list-group-item issues-card__item",on:{click:function(a){return e.openIssue(t.id)}}},[a("i",{staticClass:"issue-icon",class:e.issueIconClass}),a("span",[e._v(e._s(t.title))]),a("span",{staticClass:"issue__date"},[e._v(e._s(e.formatDate(t.dateCreated)))])])})),0)]):e._e()],1)},Er=[];function Ar(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Or(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ar(Object(a),!0).forEach((function(t){Object(Ae["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ar(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var wr={name:"IssueList",components:{Loader:ir},data:function(){return{filteredIssues:{open:[],closed:[]},loading:!1}},methods:{getOpenIssues:function(){var e=this;this.loading=!0,Tr.getIssues(1).then((function(t){t.data&&(e.$store.commit("SET_OPEN_ISSUES",t.data),e.filteredIssues.open=t.data,e.loading=!1)})).catch()},getClosedIssues:function(){var e=this;this.loading=!0,Tr.getIssues(2).then((function(t){t.data&&(e.$store.commit("SET_CLOSED_ISSUES",t.data),e.filteredIssues.closed=t.data,e.loading=!1)})).catch()},getIssueCount:function(){var e=this;Tr.getIssueCount().then((function(t){t.data&&(e.$store.state.forum.issueCount=t.data)})).catch()},openIssue:function(e){this.$emit("openIssue",e)},handleFilter:function(e){this.$store.commit("SET_ACTIVE_CATEGORY_ID",Number(e.target.value)),this.filterList()},filterList:function(){var e=this;0!==this.activeCategoryId?(this.filteredIssues.open=this.issues.open.filter((function(t){return t.categoryId===e.activeCategoryId})),this.filteredIssues.closed=this.issues.closed.filter((function(t){return t.categoryId===e.activeCategoryId}))):this.filteredIssues=Or({},this.issues)},changeActiveTab:function(e){this.$store.commit("SET_ACTIVE_TAB",e),1!==e||this.issues.open.length?2!==e||this.issues.closed.length||this.getClosedIssues():this.getOpenIssues()},formatDate:Ea.formatDate},mounted:function(){this.issues.open.length?this.filterList():this.getOpenIssues(),this.issueCount.open+this.issueCount.closed||this.getIssueCount()},computed:{issues:function(){return this.$store.state.forum.issueList},issueCount:function(){return this.$store.state.forum.issueCount},activeTab:function(){return this.$store.state.forum.activeTab},activeCategoryId:function(){return this.$store.state.forum.activeCategoryId},activeIssueList:function(){return 1===this.activeTab?this.filteredIssues.open:this.filteredIssues.closed},issueIconClass:function(){return 1===this.activeTab?"fas fa-exclamation-circle issue-icon--open":"far fa-check-circle issue-icon--closed"},categories:function(){return this.$store.state.forum.categories}}},Ir=wr,kr=(a("4a27"),Object(fe["a"])(Ir,Lr,Er,!1,null,"58042659",null)),Dr=kr.exports,jr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("button",{staticClass:"btn btn-light back-btn",attrs:{type:"button"},on:{click:e.back}},[a("i",{staticClass:"fas fa-arrow-left"}),e._v(" Back\n  ")]),e.loading?a("Loader"):e._e(),e.issue?a("div",{staticClass:"issue-details"},[a("div",{staticClass:"issue__header"},[1===e.issue.status?a("i",{staticClass:"fas fa-exclamation-circle issue-icon issue-icon--open"}):a("i",{staticClass:"far fa-check-circle issue-icon issue-icon--closed"}),a("div",[a("h3",{staticClass:"issue__title"},[e._v("\n          "+e._s(e.issue.title)+"\n          "),a("div",{staticClass:"btn-group"},[e.showCloseBtn(e.issue)?a("button",{staticClass:"btn btn-sm btn-success",attrs:{type:"button"},on:{click:e.closeIssue}},[e._v("\n              Close\n            ")]):e._e(),e.showDeleteBtn?a("button",{staticClass:"btn btn-sm btn-light",attrs:{type:"button"},on:{click:function(t){return e.deletePost(e.issue.id)}}},[a("i",{staticClass:"far fa-trash-alt"})]):e._e()])]),a("div",[a("span",{staticClass:"issue__author"},[e._v(e._s(e.issue.user.userName))]),a("span",{staticClass:"issue__date",attrs:{title:e.formatDateTime(e.issue.dateCreated)}},[e._v(e._s(e.formatDate(e.issue.dateCreated)))])])])]),a("div",{staticClass:"issue__content",domProps:{innerHTML:e._s(e.issue.content)}}),a("Comments",{attrs:{rawComments:e.issue.comments,postId:e.issue.id}})],1):e._e()],1)},Pr=[],Mr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"issue__comments"},[e._l(e.comments,(function(t){return a("div",{key:t.id,staticClass:"issue__comment"},[a("div",{staticClass:"card"},[a("h6",{staticClass:"card-header"},[a("div",[a("span",{staticClass:"issue__author"},[e._v(e._s(t.user.userName))]),a("span",{staticClass:"issue__date",attrs:{title:e.formatDateTime(t.dateCreated)}},[e._v(e._s(e.formatDate(t.dateCreated)))])]),a("div",{staticClass:"btn-group"},[e.showDeleteBtn?a("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:function(a){return e.deleteComment(t.id)}}},[a("i",{staticClass:"far fa-trash-alt"})]):e._e(),a("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:function(a){return e.setActiveReplyId(t.id)}}},[a("i",{staticClass:"fas fa-reply"})])])]),a("div",{staticClass:"card-body",domProps:{innerHTML:e._s(t.content)}})]),a("div",{staticClass:"issue__comment_replies"},[a("NewComment",{directives:[{name:"show",rawName:"v-show",value:t.id===e.activeReplyId,expression:"comment.id === activeReplyId"}],attrs:{replyId:t.id},on:{submitComment:e.submitComment}}),e._l(t.replies,(function(t){return a("div",{key:t.id,staticClass:"issue__comment"},[a("div",{staticClass:"card"},[a("h6",{staticClass:"card-header"},[a("div",[a("span",{staticClass:"issue__author"},[e._v(e._s(t.user.userName))]),a("span",{staticClass:"issue__date",attrs:{title:e.formatDateTime(t.dateCreated)}},[e._v(e._s(e.formatDate(t.dateCreated)))])]),e.showDeleteBtn?a("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:function(a){return e.deleteComment(t.id)}}},[a("i",{staticClass:"far fa-trash-alt"})]):e._e()]),a("div",{staticClass:"card-body",domProps:{innerHTML:e._s(t.content)}})])])}))],2)])})),e.loading?a("Loader"):e._e(),a("NewComment",{on:{submitComment:e.submitComment}}),e._m(0)],2)])},xr=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal show",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[e._v("Modal title")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),a("div",{staticClass:"modal-body"},[a("p",[e._v("Modal body text goes here.")])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("\n              Close\n            ")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[e._v("\n              Save changes\n            ")])])])])])}],Rr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"issue__comment new-comment"},[a("div",{staticClass:"card"},[a("h6",{staticClass:"card-header"},[a("div",[a("span",{staticClass:"issue__author"},[e._v(e._s(e.title))])])]),a("div",{staticClass:"card-body"},[a("quill-editor",{ref:"newComment",attrs:{options:e.editorOption},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)]),a("button",{staticClass:"btn btn-primary submit-btn",attrs:{type:"button",disabled:!e.content},on:{click:e.submitComment}},[e._v("Submit")])])])},Br=[],Vr={name:"NewComment",props:{replyId:{type:Number}},data:function(){return{content:"",editorOption:{}}},methods:{submitComment:function(){var e={content:this.content,parentId:this.replyId};this.$emit("submitComment",e),this.content=""}},computed:{title:function(){return this.replyId?"New reply":"New comment"}}},Fr=Vr,Nr=(a("4397"),Object(fe["a"])(Fr,Rr,Br,!1,null,"53c759f6",null)),Hr=Nr.exports;function zr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?zr(Object(a),!0).forEach((function(t){Object(Ae["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):zr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Zr={name:"Comments",components:{NewComment:Hr,Loader:ir},props:{rawComments:{type:Array},postId:{type:Number}},data:function(){return{comments:[],activeReplyId:null,loading:!1}},methods:{setActiveReplyId:function(e){this.activeReplyId===e?this.activeReplyId=null:this.activeReplyId=e},rearrangeCommentList:function(){var e=this,t=[];this.rawComments.forEach((function(a){a.parentId||t.push($r({},a,{replies:e.rawComments.filter((function(e){if(e.parentId)return e.parentId===a.id}))}))})),this.comments=t},submitComment:function(e){var t=this;this.loading=!0;var a=$r({parentId:null,postId:this.postId},e);Tr.insertComment(a).then((function(e){e.data&&(t.rawComments.push(e.data),t.activeReplyId=null),t.loading=!1})).catch()},deleteComment:function(e){var t=this;this.$swal({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(a){a.value&&(t.loading=!0,Tr.deleteComment(e).then((function(a){200===a.status&&t.rawComments.splice(t.rawComments.findIndex((function(t){return t.id===e})),1),t.loading=!1})).catch())}))},formatDate:Ea.formatDate,formatDateTime:Ea.formatDateTime},computed:{showDeleteBtn:function(){return this.$cookie.get("isAdmin")}},mounted:function(){this.rearrangeCommentList()},watch:{rawComments:function(){this.rearrangeCommentList()}}},Gr=Zr,Ur=(a("dcbe"),Object(fe["a"])(Gr,Mr,xr,!1,null,null,null)),Yr=Ur.exports,Qr={name:"IssueDetailed",components:{Comments:Yr,Loader:ir},props:{openIssueId:{type:Number}},data:function(){return{loading:!1,issue:null}},methods:{getIssueById:function(e){var t=this;this.loading=!0,Tr.getIssueById(e).then((function(e){e.data&&(t.issue=e.data),t.loading=!1})).catch()},closeIssue:function(){var e=this;Tr.closeIssue(this.issue.id).then((function(t){t.data&&(e.issue=t.data,e.$store.commit("SET_OPEN_ISSUES",[]),e.$store.commit("SET_CLOSED_ISSUES",[]))})).catch()},back:function(){this.issue=null,this.$emit("back")},showCloseBtn:function(e){return this.$cookie.get("isAdmin")&&1===e.status},deletePost:function(e){var t=this;this.$swal({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(a){a.value&&(t.loading=!0,Tr.deleteIssue(e).then((function(e){200===e.status&&(1===t.issue.status&&t.$store.commit("SET_OPEN_ISSUES",[]),2===t.issue.status&&t.$store.commit("SET_CLOSED_ISSUES",[]),t.back()),t.loading=!1})).catch())}))},formatDate:Ea.formatDate,formatDateTime:Ea.formatDateTime},computed:{showDeleteBtn:function(){return localStorage.getItem("isAdmin")}},mounted:function(){this.openIssueId&&this.getIssueById(this.openIssueId)}},qr=Qr,Kr=(a("ebd0"),Object(fe["a"])(qr,jr,Pr,!1,null,null,null)),Wr=Kr.exports,Xr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("h4",{staticClass:"title"},[a("button",{staticClass:"btn btn-light back-btn",attrs:{type:"button"},on:{click:function(t){return e.$emit("back")}}},[a("i",{staticClass:"fas fa-arrow-left"}),e._v(" Back\n            ")]),e._v("Create issue\n        ")]),a("form",[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[e._v("Title")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],staticClass:"form-control",class:{"is-invalid":!e.titleValid},attrs:{id:"title",placeholder:"Title",required:""},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[e._v("Please enter the title.")])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"category"}},[e._v("Category")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedCategory,expression:"selectedCategory"}],staticClass:"form-control category",class:{"is-invalid":!e.categoryValid},attrs:{id:"category",placeholder:"Filter by category"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedCategory=t.target.multiple?a:a[0]}}},e._l(e.categories,(function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0),a("div",{staticClass:"invalid-feedback"},[e._v("Please select the category.")])]),a("div",{staticClass:"form-group content"},[a("label",{attrs:{for:"content"}},[e._v("Content")]),a("quill-editor",{ref:"myQuillEditor",staticClass:"content__editor",class:{"is-invalid":!e.contentValid},attrs:{id:"content",options:e.editorOption},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}}),a("div",{staticClass:"invalid-feedback"},[e._v("Please enter the content")]),a("button",{staticClass:"btn btn-primary submit-btn",attrs:{type:"button",disabled:e.submitButtonDisabled&&!1},on:{click:e.submitForm}},[e._v("Submit")])],1)])])])},Jr=[],eo={name:"NewIssue",data:function(){return{title:null,content:null,selectedCategory:0,editorOption:{}}},methods:{submitForm:function(){var e=this;if(this.title=null!==this.title?this.title.trim():"",this.selectedCategory=0!==this.selectedCategory?this.selectedCategory:-1,this.content=null!==this.content?this.content.trim():"",this.titleValid&&this.categoryValid&&this.contentValid){var t={title:this.title.trim(),content:this.content,categoryId:Number(this.selectedCategory)};Tr.insertIssue(t).then((function(t){t.data&&(e.$emit("openIssue",t.data.id),e.$store.commit("SET_OPEN_ISSUES",[]))})).catch()}}},computed:{submitButtonDisabled:function(){return!!(this.titleValid||this.categoryValid||this.contentValid)},titleValid:function(){return null===this.title||this.title.trim()},categoryValid:function(){return this.selectedCategory>=0},contentValid:function(){return null===this.content||this.content.trim()},categories:function(){return this.$store.state.forum.categories}}},to=eo,ao=(a("0923"),Object(fe["a"])(to,Xr,Jr,!1,null,"1960bdec",null)),no=ao.exports,io={name:"Forum",components:{IssueList:Dr,IssueDetailed:Wr,NewIssue:no},data:function(){return{activeBlock:"list",openIssueId:null}},methods:{openIssue:function(e){this.openIssueId=e,this.activeBlock="detailed"},getCategories:function(){var e=this;Tr.getCategories().then((function(t){t.data&&e.$store.commit("SET_CATEGORIES",t.data)})).catch()}},mounted:function(){this.categories.length||this.getCategories()},computed:{categories:function(){return this.$store.state.forum.categories}}},ro=io,oo=(a("5477"),Object(fe["a"])(ro,Cr,Sr,!1,null,null,null)),so=oo.exports,co={name:"InfoModal",components:{About:qi,FAQ:cr,ReleaseNotes:fr,Contact:_r,Forum:so},props:{isOpen:{required:!0,type:Boolean}},data:function(){return{activeTab:"about",tabs:[{key:"about",text:"About"},{key:"faq",text:"FAQ"},{key:"releaseNotes",text:"Release notes"},{key:"forum",text:"Forum"},{key:"contact",text:"Contact us"}]}},methods:{changeTab:function(e){this.activeTab=e}}},lo=co,uo=(a("99ac"),Object(fe["a"])(lo,zi,$i,!1,null,null,null)),po=uo.exports,mo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{name:"filterModal",title:"Filter",maxWidth:600}},[a("div",{staticClass:"data-table__filter"},[a("div",{staticClass:"filter__tabs"},e._l(e.tabs,(function(t){return a("div",{key:t.id,staticClass:"tab",class:{"tab--active":e.activeTabId===t.id},on:{click:function(a){return e.setActiveTabId(t.id)}}},[e._v("\n        "+e._s(t.name)+"\n      ")])})),0),a("div",{staticClass:"filter__fields"},[a("div",{staticClass:"filter__fields__columns"},[a("h5",[e._v("Columns")]),a("ul",{staticClass:"filter__fields__list custom-scrollbar"},e._l(e.tableFeaturesHeader,(function(t,n){return a("li",{key:n,staticClass:"list__item",on:{dblclick:function(a){return e.appendFilterQuery(t,!1)},click:function(a){return e.getFilterColumnValues(t)}}},[e._v("\n            "+e._s(t)+"\n          ")])})),0)]),a("div",{staticClass:"filter__fields__values"},[a("h5",[e._v("Values")]),a("ul",{staticClass:"filter__fields__list custom-scrollbar"},e._l(e.filterValues,(function(t,n){return a("li",{key:n,staticClass:"list__item",on:{dblclick:function(a){return e.appendFilterQuery(t,!0)}}},[e._v("\n            "+e._s(t)+"\n          ")])})),0)])]),a("div",{staticClass:"filter__actions"},e._l(e.actionsList,(function(t){return a("div",{key:t},[a("button",{staticClass:"btn btn-sm btn-outline-secondary",on:{click:function(a){return e.appendFilterQuery(t,!1)}}},[e._v("\n          "+e._s(t)+"\n        ")])])})),0),a("div",{staticClass:"filter__query"},[a("label",{staticClass:"title"},[e._v("SELECT * FROM table WHERE:")]),a("textarea",{ref:"filterQueryTextarea",attrs:{name:"filterQuery",rows:"4",cols:"69"},domProps:{value:e.activeTabQuery},on:{input:e.handleQueryChange}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.reportCheckboxVisibility,expression:"reportCheckboxVisibility"}]},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filterQueryIsSum,expression:"filterQueryIsSum"}],staticClass:"parent-checkbox",staticStyle:{opacity:"0"},attrs:{type:"checkbox",id:"isSum"},domProps:{value:!1,checked:Array.isArray(e.filterQueryIsSum)?e._i(e.filterQueryIsSum,!1)>-1:e.filterQueryIsSum},on:{change:function(t){var a=e.filterQueryIsSum,n=t.target,i=!!n.checked;if(Array.isArray(a)){var r=!1,o=e._i(a,r);n.checked?o<0&&(e.filterQueryIsSum=a.concat([r])):o>-1&&(e.filterQueryIsSum=a.slice(0,o).concat(a.slice(o+1)))}else e.filterQueryIsSum=i}}}),e.filterQueryIsSum?a("i",{staticClass:"far fa-check-circle",staticStyle:{cursor:"pointer",color:"#008422"}}):a("i",{staticClass:"far fa-check-circle",staticStyle:{cursor:"pointer"}}),e._v("\n        Sum\n      ")]),e.filterQueryIsSum?a("label",{staticClass:"ml-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterQueryArithmeticColumn,expression:"filterQueryArithmeticColumn"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.filterQueryArithmeticColumn=t.target.multiple?a:a[0]}}},e._l(e.tableFeaturesHeader,(function(t){return a("option",{key:t,domProps:{value:t}},[e._v("\n            "+e._s(t)+"\n          ")])})),0),e._v("\n        Sum Column\n      ")]):e._e()]),a("button",{staticClass:"btn filter__apply-btn",on:{click:e.applyFilter}},[e._v("\n      Apply\n    ")])])])},fo=[],ho=(a("8615"),{name:"FilterBox",components:{Modal:Ga},data:function(){return{actionsList:["=",">",">=","<","<=","<>","AND","OR","LIKE","IS NULL"],filterValues:[],currentTabId:null}},methods:{handleQueryChange:function(e){var t=e.target.value;""===t&&(t=" "),this.activeTabQuery=t},isValString:function(e){return"string"==typeof e},appendFilterQuery:function(e,t){t&&this.isValString(e)&&(e="'".concat(e,"'")),this.activeTabQuery=this.activeTabQuery+e+" ",this.$refs.filterQueryTextarea.focus()},setActiveTabId:function(e){this.activeTabId=e},applyFilter:function(){An.getTable(this.activeService),this.$moodal.filterModal.hide()},getFilterColumnValues:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ai.getFilterColumnValues(this.activeTabId,t);case 2:this.filterValues=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},computed:{reportCheckboxVisibility:function(){return this.activeService&&Pa.isLayer(this.activeService)},tabs:function(){return this.$store.state.dataTable.tabs},activeTabId:{get:function(){return this.$store.state.dataTable.activeTabId},set:function(e){this.$store.dispatch("SAVE_DATATABLE_ACTIVE_TAB_ID",e)}},activeTab:function(){return An.getServiceData(this.activeTabId)},activeService:function(){return this.$store.getters.tableActiveService},activeTabData:function(){return this.activeTab?this.activeTab.data:null},activeTabService:function(){if(!this.activeService)return null;var e=Pa.isBunch(this.activeService),t=null;return this.activeTab&&(t=e?yn.getBunchLayer(this.activeService.id,this.activeTabId):Ja.getDynamicLayer(this.activeTabId)),t},activeTabQuery:{get:function(){var e="",t=this.activeService;if(!t||!this.activeTabId)return e;var a=Pa.isBunch(t);if(a){var n=yn.getBunchLayer(t.id,this.activeTabId);e=n?n.query.where:""}else{var i=Ja.getDynamicLayer(this.activeTabId);e=i.query.where}return e},set:function(e){if(e){var t=this.$store.getters.tableActiveService,a=Pa.isBunch(t);a?yn.setQuery(t,this.activeTabId,e):Ja.setQuery(t,e)}}},tableFeaturesHeader:function(){return this.activeTabData?Object.values(this.activeTabData.tableHeadersWithAlias):[]},tableFeaturesTarget:function(){return this.activeTabData?this.activeTabData.tableHeadersWithAlias:{}},filterQueryIsSum:{get:function(){return this.$store.state.filter.filterQueryIsSum},set:function(e){return e&&this.$store.dispatch("SAVE_FILTER_QUERY_ARITHMETIC_COLUMN",this.tableFeaturesHeader[0]),this.$store.dispatch("SAVE_FILTER_QUERY_IS_SUM",e)}},filterQueryArithmeticColumn:{get:function(){return this.$store.state.filter.filterQueryArithmeticColumn},set:function(e){return this.$store.dispatch("SAVE_FILTER_QUERY_ARITHMETIC_COLUMN",e)}}},watch:{activeTabId:function(e){this.currentTabId=e}}}),bo=ho,go=Object(fe["a"])(bo,mo,fo,!1,null,null,null),vo=go.exports,yo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{name:"computedLayerModal",title:"Customized layers",width:400,height:400}},[a("form",[a("div",{ref:"computedForm",staticClass:"form-group"},[a("label",{attrs:{for:"label"}},[e._v("Label")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.label,expression:"data.label"}],staticClass:"form-control",attrs:{type:"text",id:"label"},domProps:{value:e.data.label},on:{input:function(t){t.target.composing||e.$set(e.data,"label",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"layers"}},[e._v("Layers")]),a("treeselect",{attrs:{multiple:!0,"show-count":!0,options:e.dynamicOptions,limit:4,"disable-branch-nodes":!0,"search-nested":""},model:{value:e.data.layers,callback:function(t){e.$set(e.data,"layers",t)},expression:"data.layers"}})],1),a("button",{staticClass:"btn btn-primary submit-btn",attrs:{type:"button"},on:{click:e.add}},[e._v("\n            Add\n        ")])])])},_o=[],Co=a("ca17"),So=a.n(Co),To=(a("542c"),{name:"ComputedLayersModal",components:{Modal:Ga,Multiselect:ce.a,Treeselect:So.a},updated:function(){this.dynamicOptons},data:function(){return{value:null,isLoading:!1,data:{label:"",layers:[]}}},methods:{resetData:function(){this.data={label:"",layers:[]}},add:function(){var e=this,t=this.$loading.show({container:this.$refs.computedForm,canCancel:!1}),a=this.data,n=a.label,i=a.layers;""!=n&&i.length>0&&ta.add(this.data).then((function(a){yn.add(a.data),e.resetData(),e.$moodal.computedLayerModal.hide(),t.hide()}))}},computed:{dynamicOptions:function(){var e=Ja.getDynamicLayerAsTreeSelect();return e},dynamicLayersList:function(){var e=Ja.getDynamicLayersWithoutCategory(!0),t=e.map((function(e,t){return{id:e.id,name:e.name}}));return t}}}),Lo=To,Eo=(a("b06d"),Object(fe["a"])(Lo,yo,_o,!1,null,null,null)),Ao=Eo.exports,Oo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("CustomModal",{attrs:{name:"detectorModal",title:"Change detection",width:800,minHeight:400},on:{afterHide:function(t){return e.$emit("close")}}},[a("div",{staticClass:"detector"},[a("treeselect",{attrs:{multiple:!0,"show-count":!0,options:e.baseOptions,limit:4,valueFormat:"object","disable-branch-nodes":!0,"search-nested":""},model:{value:e.selectedLayers,callback:function(t){e.selectedLayers=t},expression:"selectedLayers"}}),a("div",{staticClass:"detector-list row"},e._l(e.exportedImages,(function(t,n){return a("div",{key:n,staticClass:"detector-list-item col-md-4"},[a("p",[e._v(e._s(t.label))]),a("div",{staticClass:"image-wrapper"},[a("img",{attrs:{src:t.image}})])])})),0)],1)])},wo=[],Io=(a("ac4d"),a("8a81"),{components:{Multiselect:ce.a,CustomModal:Ga,Treeselect:So.a},props:{bbox:{required:!0,type:Array},token:{type:String},visible:{type:Boolean}},watch:{selectedLayers:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){var a,n,i,r,o,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(this.exportedImages=[],a=!0,n=!1,i=void 0,e.prev=4,r=t[Symbol.iterator]();!(a=(o=r.next()).done);a=!0)s=o.value,c=Gt+"/api/map/service/"+s.label+"/MapServer/export?"+"token=".concat(this.token,"&")+"f=image&format=png8&transparent=true&size=1024,1024&"+"bbox=".concat(this.bbox.toString(),"&")+"bboxsr=3857&imagesr=3857&dpi=90",this.exportedImages.push({image:c,label:s.label});e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](4),n=!0,i=e.t0;case 12:e.prev=12,e.prev=13,a||null==r.return||r.return();case 15:if(e.prev=15,!n){e.next=18;break}throw i;case 18:return e.finish(15);case 19:return e.finish(12);case 20:case"end":return e.stop()}}),e,this,[[4,8,12,20],[13,,15,19]])})));function t(t){return e.apply(this,arguments)}return t}(),visible:function(e){e?(this.selectedLayers=Ja.getSelectedBasemaps(),this.$moodal.detectorModal.show()):this.$moodal.detectorModal.hide()}},data:function(){return{selectedLayers:[],exportedImages:[]}},computed:{baseOptions:function(){var e=Ja.getBasemapLayerAsTreeSelect();return e}}}),ko=Io,Do=(a("60bc"),Object(fe["a"])(ko,Oo,wo,!1,null,null,null)),jo=Do.exports,Po=(a("5bc0"),{name:"Home",components:{ShapeColorPicker:Se,Multiselect:ce.a,DataTable:ci,DetectorModal:jo,InfoModal:po,Sidebar:wi,FilterModal:vo,Report:Mi,MapControls:Hi,CustomModal:Ga,ComputedLayersModal:Ao},data:function(){return{mapHelper:null,toggler:null,latChange:null,longChange:null,layers:[],token:null,kmlInfo:null,vector:null,vectorSource:null,vectorLayer:null,hashResolveResult:{},citySearchOptions:[],citySearchInputShow:!1,historyUpdate:!0,nextHistoryEvent:!1,previousHistoryEvent:!1,historyEvents:[],historyEventsIndex:0,isMetricCoordinateSystem:!1,isHashLoaded:!1}},created:function(){},mounted:function(){var e=new V["a"]({source:pn.getBaseMaps()["gray"]});new V["a"]({source:new j["a"]({projection:"EPSG:3857",tileGrid:(new G["a"]).getTileGrid()})});this.moodal=this.$moodal,this.hashResolveResult=this.resolveHash(window.location.hash),this.token=localStorage.getItem("token"),null===this.token&&this.$router.push("/login"),this.mapHelper=new pa(this),this.toggler=new ke(this),this.citySearchOptions=Bi,this.drawSource=new Y["default"]({wrapX:!1}),this.vector=new F["default"]({source:this.drawSource,features:[]}),this.vector.setZIndex(9999),this.$nextTick((function(){var t=this,a=new D["a"]({formatConstructors:[W["a"],X["a"],J["a"],ee["a"],te["a"]]});this.layers=[e,this.vector];var n=null!==this.hashResolveResult?this.hashResolveResult.zoom:8,i=null!==this.hashResolveResult?this.hashResolveResult.center:Object(q["fromLonLat"])([47.82858,40.3598414]),r=0;this.mapLayer=new _["a"]({interactions:Object(I["a"])().extend([new k["a"],a]),controls:[],target:"map",layers:this.layers,view:new C["a"]({center:i,zoom:n,rotation:r})});var o=new w["a"]({source:this.drawSource});this.mapLayer.addInteraction(o);var s=this;a.on("addfeatures",(function(e){console.log(this.drawSource),this.drawSource.addFeatures(e.features),s.mapLayer.getView().fit(this.drawSource.getExtent())}));this.mapLayer.on("pointermove",(function(e){if(!e.dragging){s.mapLayer.getEventPixel(e.originalEvent);var t=Object(q["transform"])(e.coordinate,"EPSG:3857","EPSG:4326");s.isMetricCoordinateSystem?(t=Object(q["fromLonLat"])([t[0],t[1]]),t=[t[1].toString().substring(0,10),t[0].toString().substring(0,10)]):t=[t[1].toString().substring(0,7),t[0].toString().substring(0,7)]}})),this.mapLayer.on("click",(function(e){var a=Object(q["transform"])(e.coordinate,"EPSG:3857","EPSG:4326");if(s.isMarker){var n=new T["default"]({crossOrigin:"Anonymous",geometry:new O["default"](Object(q["fromLonLat"])([a[0],a[1]])),name:"",id:"232"});n.setStyle(new R["default"]({image:new B["default"]({anchor:[.5,46],size:[48,48],anchorXUnits:"fraction",anchorYUnits:"pixels",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAD2ElEQVRogdWaQYgcRRSGv2724HER8eBBFhHJWSWB6ClEood+5pyzJ3P1Ih5EwjKERUQPopJDlICYg4R6IQQMXkxEPETwoBAWWYLIIrIsYQ9xWaY8TPdsbU3XdFV1z5j8UPSb1139/lf16vWr7imstTzOKIDy/ybRB4W1lqIoSmvteKr0fqdARI4BrwMngDVgFRgDO8AfwB3ghqr+1dhw7SXLZMyAtXZcFMWRflVVnQXeA16MvM0t4IKq3k6176LouwZE5BngS+B05i2+As4bY/ZyOh8JIfcIk5GG9ukriqKsquo4oMBTmeQb3APOqOp9107DwZfda7IXcVVVJ4HvgCd6km+wDbyiqlspnbJCSETWgF+YLNAhcQ94KSWcSjicLvfoLlJXFpEV4BuGJw/wAvC5z2GePBM+PvGWjm8BxzuI/A38BGwCe8ABsAtsAQ87+p4TkVdDfPyLV+BwsXblfhEpgXcjyD9dNxerHM7amPlr731r7WsddrDWjo+ETgROA8/OOX/ALPE2dNk7JSJrUSHUFjKhBrzZYXglgnwMSiZP82AINXJprR27ITSvAS8PRDAGJ7r4zISQf/S9BZ5bogPPJ4VQKJV6+ieX6MCqyyckl7HhU1+XVaFmopPPNIR8r0JTBjxYogO7XaMPEAyhgLy5YNIuthq78wa2jJkmJ4R61e6J+CE7C/k6R//1ksjvA9eSQsg9GXJIVe+ynFm4oqo7bXyCIQTRmejCgsmPgVFsWCeFUD0Lt4C7C3TgW2PMZoiPL7dmoa6MBIwWRh9GsXuBoijK7E29iPwOHBuKdY2bxpg3UjoEy2l/V+bqa3Eji+J8jGJHvpFnp8Qj3qavj1eAPwck/2Pzjigm9rNqIbcZY/YZdhbWUzkEa6GQruX8F8A/A5D/1RhzI6djMAt1rv5JSt0HPh7AgZFvN7Yl1UKBB9sn9KtSN4GrufajdmQu/JkwxjxgEkq52FDV6b2Ts1AbsTaiIcdq3YdMCrBUbAOX/XunyNO3CE028uHqQzKwLSKXgLcTHdios1k2knZkbc8IlwyT90Kx2AE+yx35Rk7dkU1l3ylVvQ9cTXDgU1V9GLpfrNw7C3kZaZ24jf8e8NEQNrNrobYRMcb8BlyPcOCSqu72Hf2+tRABeb2D/AGTrJWdeVx5xdqjn20GwM8i8j1wKnD+sjFmsCKwby0UwgcB/T5wMZpdBBb2obuqqovAO45qDJxX1T5P7Rn0/sw6DyJyEjgD/Atcqxf5sKgdKNuObc295lGQp9+JA87NfKP15TkD03nNEGj9r8TjhMFqoa5sNUTOb5P/A8dYOKnlHRBqAAAAAElFTkSuQmCC"})})),t.drawSource.addFeature(n)}s.isRemove&&(s.mapLayer.forEachFeatureAtPixel(e.pixel,(function(e,t){try{this.drawSource.removeFeature(e);var a=document.getElementsByClassName(e.get("id"));a[0].className="hidden"}catch(n){}})),alert()),s.isColorPick&&s.mapLayer.forEachFeatureAtPixel(e.pixel,(function(e,t){try{var a=new R["default"]({fill:new M["a"]({color:s.shapeFillColor.hex8}),stroke:new x["a"]({color:s.shapeBorderColor.hex8,width:2}),image:new CircleStyle({radius:7,fill:new M["a"]({color:s.shapeFillColor.hex8})})});e.setStyle(a)}catch(n){}})),s.dataTableVisibility&&(s.getGeometryData(a),pn.focusToServicePolygon(e.pixel))})),this.$store.dispatch("getLayers").then((function(){t.setHashSelectedServices(),s.mapLayer.on("moveend",t.updateHistoryMap)})),window.addEventListener("popstate",(function(e){null!==e.state&&(t.mapLayer.getView().setCenter(e.state.center),t.mapLayer.getView().setZoom(e.state.zoom),t.mapLayer.getView().setRotation(e.state.rotation))}))}))},methods:{updateHistoryMap:function(){if(this.historyUpdate){var e=this.mapLayer.getView(),t={zoom:e.getZoom(),center:e.getCenter(),rotation:e.getRotation()};this.updateHash(),this.historyEvents.push(t),this.historyEventsIndex=this.historyEvents.length,this.nextHistoryEvent=!1,1!==this.historyEventsIndex&&(this.previousHistoryEvent=!0)}else this.historyUpdate=!0},setHashSelectedServices:function(){if(null!==this.hashResolveResult){var e=this.hashResolveResult.selectedLayers;if(e)for(var t=0;t<e.length;t++){var a=e[t],n=Ja.getLayer(a);n&&Pn.selectService(n,!0)}}},updateHash:function(){var e=this.mapLayer.getView(),t={zoom:e.getZoom(),center:e.getCenter(),rotation:e.getRotation()},a=Ja.getSelectedLayers(),n=a.map((function(e){return e.id})),i="#shareMap="+e.getZoom()+"&"+Math.round(100*e.getCenter()[0])/100+"&"+Math.round(100*e.getCenter()[1])/100+"&"+n;window.history.pushState(t,"map",i)},setShapeColor:function(){document.body.style.cursor="crosshair",this.$moodal.colorPickerModal.hide()},dragAndDropToast:function(){this.$toasted.show("Drag & drop GPX, GeoJSON, IGC, KML, TopoJSON files over map",{theme:"outline",position:"bottom-center",duration:3500})},resolveHash:function(e){var t=null;if(""!==e){var a=window.location.hash.replace("#shareMap=",""),n=a.split("&");if(4===n.length){var i=parseInt(n[0],10),r=[parseFloat(n[1]),parseFloat(n[2])],o=n[3].split(",").map(Number);return{zoom:i,center:r,selectedLayers:o}}}return t},mapSetCenter:function(e){var t=[];if(void 0!==e.geometry.x?t=[e.geometry.x,e.geometry.y]:void 0!==e.geometry.rings&&(t=e.geometry.rings[0]),t.length>0){t=t.map((function(e,t){return Object(q["fromLonLat"])(e)}));var a=new E["b"]([t]);this.mapLayer.getView().fit(a,{padding:[-50,50,30,150],size:[50,100],maxZoom:16})}},getGeometryData:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){var a,n,i,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=null,n=null,i=this.tableActiveService,!Pa.isLayer(i)){e.next=17;break}if(!Pa.isDynamicFromArcgis(i)){e.next=12;break}return n=t[0]+","+t[1],r={token:this.token,name:i.name,layer:i.name,where:i.query.where,geometry:n},e.next=9,oa.getGeometryData(r);case 9:a=e.sent,e.next=16;break;case 12:return r={layerId:i.id,where:i.query.where,geometry:t[0]+","+t[1]},e.next=15,oa.getLocalTableData(r);case 15:a=e.sent;case 16:a.data.totalCount>0&&(o=a.data.features[0],this.$refs.dataTable.showDataModal(o.attributes),this.mapSetCenter(o));case 17:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},computed:{isMarker:{get:function(){return Fn.getMarkerStatus()},set:function(e){Fn.setMarkerStatus(e)}},isRemove:{get:function(){return Fn.getRemoveStatus()},set:function(e){Fn.setRemoveStatus(e)}},isColorpick:{get:function(){return Fn.getColorPickStatus()},set:function(e){Fn.setColorPickStatus(e)}},moodal:{get:function(){return this.$store.getters.moodal},set:function(e){this.$store.dispatch("saveMoodal",e)}},isInformationModalVisible:{get:function(){return this.$store.getters.isInformationModalVisible},set:function(e){this.$store.dispatch("saveInformationModalVisibility",e)}},tableActiveService:function(){return this.$store.getters.tableActiveService},selectedLayers:function(){return Ja.getSelectedLayers()},isDrawnShapeForDetection:{get:function(){return Fn.getDrawForChangeDetectionStatus()},set:function(e){Fn.setDrawForChangeDetectionStatus(e)}},drawSource:{get:function(){return this.$store.getters.drawSource},set:function(e){this.$store.dispatch("saveDrawSource",e)}},mapLayer:{get:function(){return this.$store.getters.mapLayer},set:function(e){this.$store.dispatch("saveMap",e)}},selectionLayer:{get:function(){return this.$store.getters.selectionLayer},set:function(e){this.$store.dispatch("saveSelectionLayer",e)}},dataTableVisibility:{get:function(){return An.getTableVisibility()},set:function(e){e?An.setTableVisible():An.setUnvisible()}},sumData:function(){return this.$store.getters.sumData},shapeBorderColor:function(){return this.$store.state.shapeBorderColor},shapeFillColor:function(){return this.$store.state.shapeFillColor},bbox:{get:function(){return Fn.getBbox()},set:function(e){Fn.setBbox(e)}}}}),Mo=Po,xo=Object(fe["a"])(Mo,g,v,!1,null,null,null),Ro=xo.exports,Bo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main"},[n("div",{staticClass:"form-block"},[n("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[n("img",{staticClass:"logo",attrs:{src:a("c8ca")}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",placeholder:"username"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e.error?n("p",{staticClass:"error-message"},[e._v(e._s(e.error))]):e._e(),e._m(0)])]),e._m(1)])},Vo=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",[a("i",{staticClass:"fas fa-arrow-right"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sign-block"},[a("span",{staticClass:"sign"},[e._v("© 2020 Research and Development Center, Azercosmos OJSCo")])])}],Fo={mounted:function(){this.error=this.$store.getters.authError},data:function(){return{username:"",password:"",error:""}},methods:{login:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(){var t,a,n,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.username,a=this.password,e.next=3,la.login({emailOrUsername:t,password:a});case 3:n=e.sent,400===n.status?this.error=n.data:(i=n.data.token,localStorage.setItem("username",t),r=n.data.user.distinctPermissions.find((function(e){return"admin"===e.label.toLowerCase()})),localStorage.setItem("isAdmin",Boolean(r)),ca.setToken(i),this.$store.dispatch("SAVE_AUTH_TOKEN",i),this.$router.push("/"));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},No=Fo,Ho=(a("aa60"),Object(fe["a"])(No,Bo,Vo,!1,null,"ed283e50",null)),zo=Ho.exports;n["default"].use(b["a"]);var $o=new b["a"]({mode:"history",routes:[{path:"/",name:"home",component:Ro},{path:"/login",name:"Login",component:zo}]}),Zo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view"),a("vue-snotify")],1)},Go=[],Uo=(a("5c0b"),{}),Yo=Object(fe["a"])(Uo,Zo,Go,!1,null,null,null),Qo=Yo.exports,qo=(a("f9e3"),a("ff9f"),a("9560"),a("f855"),a("a753"),a("8096"),a("14e1"),a("4413"),a("9062")),Ko=a.n(qo);a("e40d");n["default"].use(p["b"],{toast:{position:p["a"].leftBottom,timeout:3e3}}),n["default"].use(Ko.a),n["default"].use(u.a),n["default"].use(c.a),n["default"].component("downloadExcel",o["a"]),n["default"].use(r.a),n["default"].config.productionTip=!1,n["default"].use(h),n["default"].use(d["a"]),n["default"].use(f.a),new n["default"]({router:$o,store:ua,render:function(e){return e(Qo)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";var n=a("e332"),i=a.n(n);i.a},"5d2b":function(e,t,a){e.exports=a.p+"img/polygon.28d1159d.svg"},6092:function(e,t,a){"use strict";var n=a("fafe"),i=a.n(n);i.a},"61d4":function(e,t,a){"use strict";var n=a("6223"),i=a.n(n);i.a},6223:function(e,t,a){},6511:function(e,t,a){"use strict";var n=a("4c8e"),i=a.n(n);i.a},6606:function(e,t,a){"use strict";var n=a("96ca"),i=a.n(n);i.a},6994:function(e,t,a){"use strict";var n=a("2303"),i=a.n(n);i.a},"6cf9":function(e,t,a){e.exports=a.p+"img/plus.714a622b.svg"},"6e73":function(e,t,a){},"72e4":function(e,t,a){},7576:function(e,t,a){e.exports=a.p+"img/pencil.4d095ce0.svg"},7936:function(e,t,a){e.exports=a.p+"img/home.75d8bae7.svg"},"7b30":function(e,t,a){e.exports=a.p+"img/picture.60b5cd0c.svg"},"89e4":function(e,t,a){},"93e8":function(e,t,a){},9560:function(e,t,a){},9565:function(e,t,a){e.exports=a.p+"img/file_download.1e64a110.svg"},"96ca":function(e,t,a){},"99ac":function(e,t,a){"use strict";var n=a("9ae1"),i=a.n(n);i.a},"9ae1":function(e,t,a){},"9b72":function(e,t,a){"use strict";var n=a("93e8"),i=a.n(n);i.a},"9f3c":function(e,t,a){e.exports=a.p+"img/color_fill.2ff7c080.svg"},a373:function(e,t,a){e.exports=a.p+"img/hamburger.84eb1648.svg"},a91f:function(e,t,a){e.exports=a.p+"img/delete.65895fc9.svg"},a93e:function(e,t,a){e.exports=a.p+"img/list.d1087ea1.svg"},aa60:function(e,t,a){"use strict";var n=a("2f5f"),i=a.n(n);i.a},adc4:function(e,t,a){e.exports=a.p+"img/arrow_right.75ea6b99.svg"},afa4:function(e,t,a){e.exports=a.p+"img/user.1b45938d.svg"},b06d:function(e,t,a){"use strict";var n=a("d77f"),i=a.n(n);i.a},bf17:function(e,t,a){"use strict";var n=a("16d2"),i=a.n(n);i.a},c1c2:function(e,t,a){},c5b8:function(e,t,a){e.exports=a.p+"img/world.19e26a6b.svg"},c8ca:function(e,t,a){e.exports=a.p+"img/logo-en.584423f0.png"},ccd8:function(e,t,a){e.exports=a.p+"img/arrow_down.525f9aba.svg"},cee4:function(e,t,a){e.exports=a.p+"img/arrow_left.bd19434f.svg"},d77f:function(e,t,a){},dcbe:function(e,t,a){"use strict";var n=a("6e73"),i=a.n(n);i.a},df19:function(e,t,a){e.exports=a.p+"img/map.1a740cbd.svg"},e332:function(e,t,a){},ebd0:function(e,t,a){"use strict";var n=a("03fd"),i=a.n(n);i.a},ed85:function(e,t,a){e.exports=a.p+"img/line.96dbd02a.svg"},eeec:function(e,t,a){e.exports=a.p+"img/arrow_up.b54cfac9.svg"},f035:function(e,t,a){"use strict";var n=a("89e4"),i=a.n(n);i.a},f11b:function(e,t,a){e.exports=a.p+"img/minus.7dc2f5e2.svg"},f919:function(e,t,a){e.exports=a.p+"img/search.e990092e.svg"},fafe:function(e,t,a){},fb04:function(e,t,a){e.exports=a.p+"img/layer.a6f973ff.svg"},fcd6:function(e,t,a){e.exports=a.p+"img/circle.ca606f64.svg"},fd79:function(e,t,a){e.exports=a.p+"img/square.0fe06184.svg"},ff9f:function(e,t,a){}});
//# sourceMappingURL=app.5a207652.js.map